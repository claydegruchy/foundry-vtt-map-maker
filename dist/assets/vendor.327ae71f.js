var Ys={exports:{}},ge={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Xg=Object.getOwnPropertySymbols,v2=Object.prototype.hasOwnProperty,y2=Object.prototype.propertyIsEnumerable;function _2(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function w2(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var ih=w2()?Object.assign:function(n,e){for(var t,r=_2(n),i,s=1;s<arguments.length;s++){t=Object(arguments[s]);for(var l in t)v2.call(t,l)&&(r[l]=t[l]);if(Xg){i=Xg(t);for(var u=0;u<i.length;u++)y2.call(t,i[u])&&(r[i[u]]=t[i[u]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh=ih,ki=60103,$g=60106;ge.Fragment=60107;ge.StrictMode=60108;ge.Profiler=60114;var Kg=60109,Zg=60110,Jg=60112;ge.Suspense=60113;var em=60115,tm=60116;if(typeof Symbol=="function"&&Symbol.for){var Kt=Symbol.for;ki=Kt("react.element"),$g=Kt("react.portal"),ge.Fragment=Kt("react.fragment"),ge.StrictMode=Kt("react.strict_mode"),ge.Profiler=Kt("react.profiler"),Kg=Kt("react.provider"),Zg=Kt("react.context"),Jg=Kt("react.forward_ref"),ge.Suspense=Kt("react.suspense"),em=Kt("react.memo"),tm=Kt("react.lazy")}var nm=typeof Symbol=="function"&&Symbol.iterator;function S2(n){return n===null||typeof n!="object"?null:(n=nm&&n[nm]||n["@@iterator"],typeof n=="function"?n:null)}function Qs(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},im={};function Pi(n,e,t){this.props=n,this.context=e,this.refs=im,this.updater=t||rm}Pi.prototype.isReactComponent={};Pi.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error(Qs(85));this.updater.enqueueSetState(this,n,e,"setState")};Pi.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function sm(){}sm.prototype=Pi.prototype;function oh(n,e,t){this.props=n,this.context=e,this.refs=im,this.updater=t||rm}var lh=oh.prototype=new sm;lh.constructor=oh;sh(lh,Pi.prototype);lh.isPureReactComponent=!0;var ah={current:null},om=Object.prototype.hasOwnProperty,lm={key:!0,ref:!0,__self:!0,__source:!0};function am(n,e,t){var r,i={},s=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(s=""+e.key),e)om.call(e,r)&&!lm.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=t;else if(1<u){for(var h=Array(u),c=0;c<u;c++)h[c]=arguments[c+2];i.children=h}if(n&&n.defaultProps)for(r in u=n.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:ki,type:n,key:s,ref:l,props:i,_owner:ah.current}}function x2(n,e){return{$$typeof:ki,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function uh(n){return typeof n=="object"&&n!==null&&n.$$typeof===ki}function E2(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var um=/\/+/g;function fh(n,e){return typeof n=="object"&&n!==null&&n.key!=null?E2(""+n.key):e.toString(36)}function fa(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var l=!1;if(n===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(n.$$typeof){case ki:case $g:l=!0}}if(l)return l=n,i=i(l),n=r===""?"."+fh(l,0):r,Array.isArray(i)?(t="",n!=null&&(t=n.replace(um,"$&/")+"/"),fa(i,e,t,"",function(c){return c})):i!=null&&(uh(i)&&(i=x2(i,t+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(um,"$&/")+"/")+n)),e.push(i)),1;if(l=0,r=r===""?".":r+":",Array.isArray(n))for(var u=0;u<n.length;u++){s=n[u];var h=r+fh(s,u);l+=fa(s,e,t,h,i)}else if(h=S2(n),typeof h=="function")for(n=h.call(n),u=0;!(s=n.next()).done;)s=s.value,h=r+fh(s,u++),l+=fa(s,e,t,h,i);else if(s==="object")throw e=""+n,Error(Qs(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e));return l}function ha(n,e,t){if(n==null)return n;var r=[],i=0;return fa(n,r,"","",function(s){return e.call(t,s,i++)}),r}function C2(n){if(n._status===-1){var e=n._result;e=e(),n._status=0,n._result=e,e.then(function(t){n._status===0&&(t=t.default,n._status=1,n._result=t)},function(t){n._status===0&&(n._status=2,n._result=t)})}if(n._status===1)return n._result;throw n._result}var fm={current:null};function Dn(){var n=fm.current;if(n===null)throw Error(Qs(321));return n}var k2={ReactCurrentDispatcher:fm,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:ah,IsSomeRendererActing:{current:!1},assign:sh};ge.Children={map:ha,forEach:function(n,e,t){ha(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ha(n,function(){e++}),e},toArray:function(n){return ha(n,function(e){return e})||[]},only:function(n){if(!uh(n))throw Error(Qs(143));return n}};ge.Component=Pi;ge.PureComponent=oh;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k2;ge.cloneElement=function(n,e,t){if(n==null)throw Error(Qs(267,n));var r=sh({},n.props),i=n.key,s=n.ref,l=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,l=ah.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var u=n.type.defaultProps;for(h in e)om.call(e,h)&&!lm.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=t;else if(1<h){u=Array(h);for(var c=0;c<h;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:ki,type:n.type,key:i,ref:s,props:r,_owner:l}};ge.createContext=function(n,e){return e===void 0&&(e=null),n={$$typeof:Zg,_calculateChangedBits:e,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider={$$typeof:Kg,_context:n},n.Consumer=n};ge.createElement=am;ge.createFactory=function(n){var e=am.bind(null,n);return e.type=n,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(n){return{$$typeof:Jg,render:n}};ge.isValidElement=uh;ge.lazy=function(n){return{$$typeof:tm,_payload:{_status:-1,_result:n},_init:C2}};ge.memo=function(n,e){return{$$typeof:em,type:n,compare:e===void 0?null:e}};ge.useCallback=function(n,e){return Dn().useCallback(n,e)};ge.useContext=function(n,e){return Dn().useContext(n,e)};ge.useDebugValue=function(){};ge.useEffect=function(n,e){return Dn().useEffect(n,e)};ge.useImperativeHandle=function(n,e,t){return Dn().useImperativeHandle(n,e,t)};ge.useLayoutEffect=function(n,e){return Dn().useLayoutEffect(n,e)};ge.useMemo=function(n,e){return Dn().useMemo(n,e)};ge.useReducer=function(n,e,t){return Dn().useReducer(n,e,t)};ge.useRef=function(n){return Dn().useRef(n)};ge.useState=function(n){return Dn().useState(n)};ge.version="17.0.2";Ys.exports=ge;var Zt=Ys.exports,hm={exports:{}},Gt={},Ti={exports:{}},cm={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){var e,t,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var h=null,c=null,m=function(){if(h!==null)try{var b=n.unstable_now();h(!0,b),h=null}catch(re){throw setTimeout(m,0),re}};e=function(b){h!==null?setTimeout(e,0,b):(h=b,setTimeout(m,0))},t=function(b,re){c=setTimeout(b,re)},r=function(){clearTimeout(c)},n.unstable_shouldYield=function(){return!1},i=n.unstable_forceFrameRate=function(){}}else{var _=window.setTimeout,v=window.clearTimeout;if(typeof console!="undefined"){var E=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof E!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var x=!1,P=null,w=-1,S=5,C=0;n.unstable_shouldYield=function(){return n.unstable_now()>=C},i=function(){},n.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<b?Math.floor(1e3/b):5};var k=new MessageChannel,R=k.port2;k.port1.onmessage=function(){if(P!==null){var b=n.unstable_now();C=b+S;try{P(!0,b)?R.postMessage(null):(x=!1,P=null)}catch(re){throw R.postMessage(null),re}}else x=!1},e=function(b){P=b,x||(x=!0,R.postMessage(null))},t=function(b,re){w=_(function(){b(n.unstable_now())},re)},r=function(){v(w),w=-1}}function F(b,re){var le=b.length;b.push(re);e:for(;;){var me=le-1>>>1,be=b[me];if(be!==void 0&&0<B(be,re))b[me]=re,b[le]=be,le=me;else break e}}function N(b){return b=b[0],b===void 0?null:b}function U(b){var re=b[0];if(re!==void 0){var le=b.pop();if(le!==re){b[0]=le;e:for(var me=0,be=b.length;me<be;){var on=2*(me+1)-1,ln=b[on],kn=on+1,Pn=b[kn];if(ln!==void 0&&0>B(ln,le))Pn!==void 0&&0>B(Pn,ln)?(b[me]=Pn,b[kn]=le,me=kn):(b[me]=ln,b[on]=le,me=on);else if(Pn!==void 0&&0>B(Pn,le))b[me]=Pn,b[kn]=le,me=kn;else break e}}return re}return null}function B(b,re){var le=b.sortIndex-re.sortIndex;return le!==0?le:b.id-re.id}var D=[],V=[],X=1,ne=null,q=3,ce=!1,we=!1,he=!1;function Ee(b){for(var re=N(V);re!==null;){if(re.callback===null)U(V);else if(re.startTime<=b)U(V),re.sortIndex=re.expirationTime,F(D,re);else break;re=N(V)}}function Ue(b){if(he=!1,Ee(b),!we)if(N(D)!==null)we=!0,e(Ye);else{var re=N(V);re!==null&&t(Ue,re.startTime-b)}}function Ye(b,re){we=!1,he&&(he=!1,r()),ce=!0;var le=q;try{for(Ee(re),ne=N(D);ne!==null&&(!(ne.expirationTime>re)||b&&!n.unstable_shouldYield());){var me=ne.callback;if(typeof me=="function"){ne.callback=null,q=ne.priorityLevel;var be=me(ne.expirationTime<=re);re=n.unstable_now(),typeof be=="function"?ne.callback=be:ne===N(D)&&U(D),Ee(re)}else U(D);ne=N(D)}if(ne!==null)var on=!0;else{var ln=N(V);ln!==null&&t(Ue,ln.startTime-re),on=!1}return on}finally{ne=null,q=le,ce=!1}}var de=i;n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(b){b.callback=null},n.unstable_continueExecution=function(){we||ce||(we=!0,e(Ye))},n.unstable_getCurrentPriorityLevel=function(){return q},n.unstable_getFirstCallbackNode=function(){return N(D)},n.unstable_next=function(b){switch(q){case 1:case 2:case 3:var re=3;break;default:re=q}var le=q;q=re;try{return b()}finally{q=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=de,n.unstable_runWithPriority=function(b,re){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var le=q;q=b;try{return re()}finally{q=le}},n.unstable_scheduleCallback=function(b,re,le){var me=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?me+le:me):le=me,b){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=le+be,b={id:X++,callback:re,priorityLevel:b,startTime:le,expirationTime:be,sortIndex:-1},le>me?(b.sortIndex=le,F(V,b),N(D)===null&&b===N(V)&&(he?r():he=!0,t(Ue,le-me))):(b.sortIndex=be,F(D,b),we||ce||(we=!0,e(Ye))),b},n.unstable_wrapCallback=function(b){var re=q;return function(){var le=q;q=re;try{return b.apply(this,arguments)}finally{q=le}}}})(cm);Ti.exports=cm;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=Ys.exports,Oe=ih,$e=Ti.exports;function j(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!ca)throw Error(j(227));var dm=new Set,qs={};function br(n,e){Ii(n,e),Ii(n+"Capture",e)}function Ii(n,e){for(qs[n]=e,n=0;n<e.length;n++)dm.add(e[n])}var zn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),P2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pm=Object.prototype.hasOwnProperty,gm={},mm={};function T2(n){return pm.call(mm,n)?!0:pm.call(gm,n)?!1:P2.test(n)?mm[n]=!0:(gm[n]=!0,!1)}function I2(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function R2(n,e,t,r){if(e===null||typeof e=="undefined"||I2(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gt(n,e,t,r,i,s,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=l}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){nt[n]=new gt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];nt[e]=new gt(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){nt[n]=new gt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){nt[n]=new gt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){nt[n]=new gt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){nt[n]=new gt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){nt[n]=new gt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){nt[n]=new gt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){nt[n]=new gt(n,5,!1,n.toLowerCase(),null,!1,!1)});var hh=/[\-:]([a-z])/g;function ch(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(hh,ch);nt[e]=new gt(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(hh,ch);nt[e]=new gt(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(hh,ch);nt[e]=new gt(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){nt[n]=new gt(n,1,!1,n.toLowerCase(),null,!1,!1)});nt.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){nt[n]=new gt(n,1,!1,n.toLowerCase(),null,!0,!0)});function dh(n,e,t,r){var i=nt.hasOwnProperty(e)?nt[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(R2(e,t,i,r)&&(t=null),r||i===null?T2(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Hr=ca.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xs=60103,Vr=60106,ir=60107,ph=60108,$s=60114,gh=60109,mh=60110,da=60112,Ks=60113,pa=60120,ga=60115,vh=60116,yh=60121,_h=60128,vm=60129,wh=60130,Sh=60131;if(typeof Symbol=="function"&&Symbol.for){var Ke=Symbol.for;Xs=Ke("react.element"),Vr=Ke("react.portal"),ir=Ke("react.fragment"),ph=Ke("react.strict_mode"),$s=Ke("react.profiler"),gh=Ke("react.provider"),mh=Ke("react.context"),da=Ke("react.forward_ref"),Ks=Ke("react.suspense"),pa=Ke("react.suspense_list"),ga=Ke("react.memo"),vh=Ke("react.lazy"),yh=Ke("react.block"),Ke("react.scope"),_h=Ke("react.opaque.id"),vm=Ke("react.debug_trace_mode"),wh=Ke("react.offscreen"),Sh=Ke("react.legacy_hidden")}var ym=typeof Symbol=="function"&&Symbol.iterator;function Zs(n){return n===null||typeof n!="object"?null:(n=ym&&n[ym]||n["@@iterator"],typeof n=="function"?n:null)}var xh;function Js(n){if(xh===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);xh=e&&e[1]||""}return`
`+xh+n}var Eh=!1;function ma(n,e){if(!n||Eh)return"";Eh=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(n,[],e)}else{try{e.call()}catch(h){r=h}n.call(e.prototype)}else{try{throw Error()}catch(h){r=h}n()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),l=i.length-1,u=s.length-1;1<=l&&0<=u&&i[l]!==s[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==s[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==s[u])return`
`+i[l].replace(" at new "," at ");while(1<=l&&0<=u);break}}}finally{Eh=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Js(n):""}function A2(n){switch(n.tag){case 5:return Js(n.type);case 16:return Js("Lazy");case 13:return Js("Suspense");case 19:return Js("SuspenseList");case 0:case 2:case 15:return n=ma(n.type,!1),n;case 11:return n=ma(n.type.render,!1),n;case 22:return n=ma(n.type._render,!1),n;case 1:return n=ma(n.type,!0),n;default:return""}}function Ri(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ir:return"Fragment";case Vr:return"Portal";case $s:return"Profiler";case ph:return"StrictMode";case Ks:return"Suspense";case pa:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case mh:return(n.displayName||"Context")+".Consumer";case gh:return(n._context.displayName||"Context")+".Provider";case da:var e=n.render;return e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case ga:return Ri(n.type);case yh:return Ri(n._render);case vh:e=n._payload,n=n._init;try{return Ri(n(e))}catch{}}return null}function sr(n){switch(typeof n){case"boolean":case"number":case"object":case"string":case"undefined":return n;default:return""}}function _m(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function L2(n){var e=_m(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function va(n){n._valueTracker||(n._valueTracker=L2(n))}function wm(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=_m(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function ya(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ch(n,e){var t=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function Sm(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=sr(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xm(n,e){e=e.checked,e!=null&&dh(n,"checked",e,!1)}function kh(n,e){xm(n,e);var t=sr(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Ph(n,e.type,t):e.hasOwnProperty("defaultValue")&&Ph(n,e.type,sr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Em(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Ph(n,e,t){(e!=="number"||ya(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}function N2(n){var e="";return ca.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}function Th(n,e){return n=Oe({children:void 0},e),(e=N2(e.children))&&(n.children=e),n}function Ai(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+sr(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Ih(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Cm(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(j(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(j(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:sr(t)}}function km(n,e){var t=sr(e.value),r=sr(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function Pm(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}var Rh={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Tm(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ah(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Tm(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var _a,Im=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!==Rh.svg||"innerHTML"in n)n.innerHTML=e;else{for(_a=_a||document.createElement("div"),_a.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_a.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function eo(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var to={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},O2=["Webkit","ms","Moz","O"];Object.keys(to).forEach(function(n){O2.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),to[e]=to[n]})});function Rm(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||to.hasOwnProperty(n)&&to[n]?(""+e).trim():e+"px"}function Am(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=Rm(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var M2=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lh(n,e){if(e){if(M2[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Nh(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Oh(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Mh=null,Li=null,Ni=null;function Lm(n){if(n=So(n)){if(typeof Mh!="function")throw Error(j(280));var e=n.stateNode;e&&(e=Fa(e),Mh(n.stateNode,n.type,e))}}function Nm(n){Li?Ni?Ni.push(n):Ni=[n]:Li=n}function Om(){if(Li){var n=Li,e=Ni;if(Ni=Li=null,Lm(n),e)for(n=0;n<e.length;n++)Lm(e[n])}}function Dh(n,e){return n(e)}function Mm(n,e,t,r,i){return n(e,t,r,i)}function zh(){}var Dm=Dh,Wr=!1,Fh=!1;function Bh(){(Li!==null||Ni!==null)&&(zh(),Om())}function D2(n,e,t){if(Fh)return n(e,t);Fh=!0;try{return Dm(n,e,t)}finally{Fh=!1,Bh()}}function no(n,e){var t=n.stateNode;if(t===null)return null;var r=Fa(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(j(231,e,typeof t));return t}var Gh=!1;if(zn)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){Gh=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{Gh=!1}function z2(n,e,t,r,i,s,l,u,h){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(m){this.onError(m)}}var io=!1,wa=null,Sa=!1,Uh=null,F2={onError:function(n){io=!0,wa=n}};function B2(n,e,t,r,i,s,l,u,h){io=!1,wa=null,z2.apply(F2,arguments)}function G2(n,e,t,r,i,s,l,u,h){if(B2.apply(this,arguments),io){if(io){var c=wa;io=!1,wa=null}else throw Error(j(198));Sa||(Sa=!0,Uh=c)}}function jr(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&1026)!=0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function zm(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Fm(n){if(jr(n)!==n)throw Error(j(188))}function U2(n){var e=n.alternate;if(!e){if(e=jr(n),e===null)throw Error(j(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return Fm(i),n;if(s===r)return Fm(i),e;s=s.sibling}throw Error(j(188))}if(t.return!==r.return)t=i,r=s;else{for(var l=!1,u=i.child;u;){if(u===t){l=!0,t=i,r=s;break}if(u===r){l=!0,r=i,t=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===t){l=!0,t=s,r=i;break}if(u===r){l=!0,r=s,t=i;break}u=u.sibling}if(!l)throw Error(j(189))}}if(t.alternate!==r)throw Error(j(190))}if(t.tag!==3)throw Error(j(188));return t.stateNode.current===t?n:e}function Bm(n){if(n=U2(n),!n)return null;for(var e=n;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===n)break;for(;!e.sibling;){if(!e.return||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Gm(n,e){for(var t=n.alternate;e!==null;){if(e===n||e===t)return!0;e=e.return}return!1}var Um,bh,bm,Hm,Hh=!1,dn=[],or=null,lr=null,ar=null,so=new Map,oo=new Map,lo=[],Vm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vh(n,e,t,r,i){return{blockedOn:n,domEventName:e,eventSystemFlags:t|16,nativeEvent:i,targetContainers:[r]}}function Wm(n,e){switch(n){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":so.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(e.pointerId)}}function ao(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n=Vh(e,t,r,i,s),e!==null&&(e=So(e),e!==null&&bh(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function b2(n,e,t,r,i){switch(e){case"focusin":return or=ao(or,n,e,t,r,i),!0;case"dragenter":return lr=ao(lr,n,e,t,r,i),!0;case"mouseover":return ar=ao(ar,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return so.set(s,ao(so.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,oo.set(s,ao(oo.get(s)||null,n,e,t,r,i)),!0}return!1}function H2(n){var e=Yr(n.target);if(e!==null){var t=jr(e);if(t!==null){if(e=t.tag,e===13){if(e=zm(t),e!==null){n.blockedOn=e,Hm(n.lanePriority,function(){$e.unstable_runWithPriority(n.priority,function(){bm(t)})});return}}else if(e===3&&t.stateNode.hydrate){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function xa(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Xh(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null)return e=So(t),e!==null&&bh(e),n.blockedOn=t,!1;e.shift()}return!0}function jm(n,e,t){xa(n)&&t.delete(e)}function V2(){for(Hh=!1;0<dn.length;){var n=dn[0];if(n.blockedOn!==null){n=So(n.blockedOn),n!==null&&Um(n);break}for(var e=n.targetContainers;0<e.length;){var t=Xh(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null){n.blockedOn=t;break}e.shift()}n.blockedOn===null&&dn.shift()}or!==null&&xa(or)&&(or=null),lr!==null&&xa(lr)&&(lr=null),ar!==null&&xa(ar)&&(ar=null),so.forEach(jm),oo.forEach(jm)}function uo(n,e){n.blockedOn===e&&(n.blockedOn=null,Hh||(Hh=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,V2)))}function Ym(n){function e(i){return uo(i,n)}if(0<dn.length){uo(dn[0],n);for(var t=1;t<dn.length;t++){var r=dn[t];r.blockedOn===n&&(r.blockedOn=null)}}for(or!==null&&uo(or,n),lr!==null&&uo(lr,n),ar!==null&&uo(ar,n),so.forEach(e),oo.forEach(e),t=0;t<lo.length;t++)r=lo[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<lo.length&&(t=lo[0],t.blockedOn===null);)H2(t),t.blockedOn===null&&lo.shift()}function Ea(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Oi={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionend:Ea("Transition","TransitionEnd")},Wh={},Qm={};zn&&(Qm=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function Ca(n){if(Wh[n])return Wh[n];if(!Oi[n])return n;var e=Oi[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Qm)return Wh[n]=e[t];return n}var qm=Ca("animationend"),Xm=Ca("animationiteration"),$m=Ca("animationstart"),Km=Ca("transitionend"),Zm=new Map,jh=new Map,W2=["abort","abort",qm,"animationEnd",Xm,"animationIteration",$m,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Km,"transitionEnd","waiting","waiting"];function Yh(n,e){for(var t=0;t<n.length;t+=2){var r=n[t],i=n[t+1];i="on"+(i[0].toUpperCase()+i.slice(1)),jh.set(r,e),Zm.set(r,i),br(i,[r])}}var j2=$e.unstable_now;j2();var Ie=8;function Mi(n){if((1&n)!=0)return Ie=15,1;if((2&n)!=0)return Ie=14,2;if((4&n)!=0)return Ie=13,4;var e=24&n;return e!==0?(Ie=12,e):(n&32)!=0?(Ie=11,32):(e=192&n,e!==0?(Ie=10,e):(n&256)!=0?(Ie=9,256):(e=3584&n,e!==0?(Ie=8,e):(n&4096)!=0?(Ie=7,4096):(e=4186112&n,e!==0?(Ie=6,e):(e=62914560&n,e!==0?(Ie=5,e):n&67108864?(Ie=4,67108864):(n&134217728)!=0?(Ie=3,134217728):(e=805306368&n,e!==0?(Ie=2,e):(1073741824&n)!=0?(Ie=1,1073741824):(Ie=8,n))))))}function Y2(n){switch(n){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Q2(n){switch(n){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(j(358,n))}}function fo(n,e){var t=n.pendingLanes;if(t===0)return Ie=0;var r=0,i=0,s=n.expiredLanes,l=n.suspendedLanes,u=n.pingedLanes;if(s!==0)r=s,i=Ie=15;else if(s=t&134217727,s!==0){var h=s&~l;h!==0?(r=Mi(h),i=Ie):(u&=s,u!==0&&(r=Mi(u),i=Ie))}else s=t&~l,s!==0?(r=Mi(s),i=Ie):u!==0&&(r=Mi(u),i=Ie);if(r===0)return 0;if(r=31-ur(r),r=t&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&l)==0){if(Mi(e),i<=Ie)return e;Ie=i}if(e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-ur(e),i=1<<t,r|=n[t],e&=~i;return r}function Jm(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ka(n,e){switch(n){case 15:return 1;case 14:return 2;case 12:return n=Di(24&~e),n===0?ka(10,e):n;case 10:return n=Di(192&~e),n===0?ka(8,e):n;case 8:return n=Di(3584&~e),n===0&&(n=Di(4186112&~e),n===0&&(n=512)),n;case 2:return e=Di(805306368&~e),e===0&&(e=268435456),e}throw Error(j(358,n))}function Di(n){return n&-n}function Qh(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Pa(n,e,t){n.pendingLanes|=e;var r=e-1;n.suspendedLanes&=r,n.pingedLanes&=r,n=n.eventTimes,e=31-ur(e),n[e]=t}var ur=Math.clz32?Math.clz32:$2,q2=Math.log,X2=Math.LN2;function $2(n){return n===0?32:31-(q2(n)/X2|0)|0}var K2=$e.unstable_UserBlockingPriority,Z2=$e.unstable_runWithPriority,Ta=!0;function J2(n,e,t,r){Wr||zh();var i=qh,s=Wr;Wr=!0;try{Mm(i,n,e,t,r)}finally{(Wr=s)||Bh()}}function ew(n,e,t,r){Z2(K2,qh.bind(null,n,e,t,r))}function qh(n,e,t,r){if(Ta){var i;if((i=(e&4)==0)&&0<dn.length&&-1<Vm.indexOf(n))n=Vh(null,n,e,t,r),dn.push(n);else{var s=Xh(n,e,t,r);if(s===null)i&&Wm(n,r);else{if(i){if(-1<Vm.indexOf(n)){n=Vh(s,n,e,t,r),dn.push(n);return}if(b2(s,n,e,t,r))return;Wm(n,r)}Rv(n,e,r,null,t)}}}}function Xh(n,e,t,r){var i=Oh(r);if(i=Yr(i),i!==null){var s=jr(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=zm(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Rv(n,e,r,i,t),null}var fr=null,$h=null,Ia=null;function ev(){if(Ia)return Ia;var n,e=$h,t=e.length,r,i="value"in fr?fr.value:fr.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var l=t-n;for(r=1;r<=l&&e[t-r]===i[s-r];r++);return Ia=i.slice(n,1<r?1-r:void 0)}function Ra(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Aa(){return!0}function tv(){return!1}function It(n){function e(t,r,i,s,l){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(t=n[u],this[u]=t?t(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Aa:tv,this.isPropagationStopped=tv,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Aa)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Aa)},persist:function(){},isPersistent:Aa}),e}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kh=It(zi),ho=Oe({},zi,{view:0,detail:0}),tw=It(ho),Zh,Jh,co,La=Oe({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==co&&(co&&n.type==="mousemove"?(Zh=n.screenX-co.screenX,Jh=n.screenY-co.screenY):Jh=Zh=0,co=n),Zh)},movementY:function(n){return"movementY"in n?n.movementY:Jh}}),nv=It(La),nw=Oe({},La,{dataTransfer:0}),rw=It(nw),iw=Oe({},ho,{relatedTarget:0}),ec=It(iw),sw=Oe({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),ow=It(sw),lw=Oe({},zi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),aw=It(lw),uw=Oe({},zi,{data:0}),rv=It(uw),fw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dw(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=cw[n])?!!e[n]:!1}function tc(){return dw}var pw=Oe({},ho,{key:function(n){if(n.key){var e=fw[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Ra(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?hw[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tc,charCode:function(n){return n.type==="keypress"?Ra(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ra(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),gw=It(pw),mw=Oe({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iv=It(mw),vw=Oe({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tc}),yw=It(vw),_w=Oe({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ww=It(_w),Sw=Oe({},La,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xw=It(Sw),Ew=[9,13,27,32],nc=zn&&"CompositionEvent"in window,po=null;zn&&"documentMode"in document&&(po=document.documentMode);var Cw=zn&&"TextEvent"in window&&!po,sv=zn&&(!nc||po&&8<po&&11>=po),ov=String.fromCharCode(32),lv=!1;function av(n,e){switch(n){case"keyup":return Ew.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uv(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fi=!1;function kw(n,e){switch(n){case"compositionend":return uv(e);case"keypress":return e.which!==32?null:(lv=!0,ov);case"textInput":return n=e.data,n===ov&&lv?null:n;default:return null}}function Pw(n,e){if(Fi)return n==="compositionend"||!nc&&av(n,e)?(n=ev(),Ia=$h=fr=null,Fi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sv&&e.locale!=="ko"?null:e.data;default:return null}}var Tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fv(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Tw[n.type]:e==="textarea"}function hv(n,e,t,r){Nm(r),e=Oa(e,"onChange"),0<e.length&&(t=new Kh("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var go=null,mo=null;function Iw(n){Cv(n,0)}function Na(n){var e=Hi(n);if(wm(e))return n}function Rw(n,e){if(n==="change")return e}var cv=!1;if(zn){var rc;if(zn){var ic="oninput"in document;if(!ic){var dv=document.createElement("div");dv.setAttribute("oninput","return;"),ic=typeof dv.oninput=="function"}rc=ic}else rc=!1;cv=rc&&(!document.documentMode||9<document.documentMode)}function pv(){go&&(go.detachEvent("onpropertychange",gv),mo=go=null)}function gv(n){if(n.propertyName==="value"&&Na(mo)){var e=[];if(hv(e,mo,n,Oh(n)),n=Iw,Wr)n(e);else{Wr=!0;try{Dh(n,e)}finally{Wr=!1,Bh()}}}}function Aw(n,e,t){n==="focusin"?(pv(),go=e,mo=t,go.attachEvent("onpropertychange",gv)):n==="focusout"&&pv()}function Lw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Na(mo)}function Nw(n,e){if(n==="click")return Na(e)}function Ow(n,e){if(n==="input"||n==="change")return Na(e)}function Mw(n,e){return n===e&&(n!==0||1/n==1/e)||n!==n&&e!==e}var Ut=typeof Object.is=="function"?Object.is:Mw,Dw=Object.prototype.hasOwnProperty;function vo(n,e){if(Ut(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!Dw.call(e,t[r])||!Ut(n[t[r]],e[t[r]]))return!1;return!0}function mv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vv(n,e){var t=mv(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=mv(t)}}function yv(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?yv(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function _v(){for(var n=window,e=ya();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=ya(n.document)}return e}function sc(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var zw=zn&&"documentMode"in document&&11>=document.documentMode,Bi=null,oc=null,yo=null,lc=!1;function wv(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;lc||Bi==null||Bi!==ya(r)||(r=Bi,"selectionStart"in r&&sc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yo&&vo(yo,r)||(yo=r,r=Oa(oc,"onSelect"),0<r.length&&(e=new Kh("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Bi)))}Yh("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Yh("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Yh(W2,2);for(var Sv="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ac=0;ac<Sv.length;ac++)jh.set(Sv[ac],0);Ii("onMouseEnter",["mouseout","mouseover"]);Ii("onMouseLeave",["mouseout","mouseover"]);Ii("onPointerEnter",["pointerout","pointerover"]);Ii("onPointerLeave",["pointerout","pointerover"]);br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));br("onBeforeInput",["compositionend","keypress","textInput","paste"]);br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xv=new Set("cancel close invalid load scroll toggle".split(" ").concat(_o));function Ev(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,G2(r,e,void 0,n),n.currentTarget=null}function Cv(n,e){e=(e&4)!=0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var l=r.length-1;0<=l;l--){var u=r[l],h=u.instance,c=u.currentTarget;if(u=u.listener,h!==s&&i.isPropagationStopped())break e;Ev(i,u,c),s=h}else for(l=0;l<r.length;l++){if(u=r[l],h=u.instance,c=u.currentTarget,u=u.listener,h!==s&&i.isPropagationStopped())break e;Ev(i,u,c),s=h}}}if(Sa)throw n=Uh,Sa=!1,Uh=null,n}function Ae(n,e){var t=Dv(e),r=n+"__bubble";t.has(r)||(Iv(e,n,2,!1),t.add(r))}var kv="_reactListening"+Math.random().toString(36).slice(2);function Pv(n){n[kv]||(n[kv]=!0,dm.forEach(function(e){xv.has(e)||Tv(e,!1,n,null),Tv(e,!0,n,null)}))}function Tv(n,e,t,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=t;if(n==="selectionchange"&&t.nodeType!==9&&(s=t.ownerDocument),r!==null&&!e&&xv.has(n)){if(n!=="scroll")return;i|=2,s=r}var l=Dv(s),u=n+"__"+(e?"capture":"bubble");l.has(u)||(e&&(i|=4),Iv(s,n,i,e),l.add(u))}function Iv(n,e,t,r){var i=jh.get(e);switch(i===void 0?2:i){case 0:i=J2;break;case 1:i=ew;break;default:i=qh}t=i.bind(null,e,t,n),i=void 0,!Gh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Rv(n,e,t,r,i){var s=r;if((e&1)==0&&(e&2)==0&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;l=l.return}for(;u!==null;){if(l=Yr(u),l===null)return;if(h=l.tag,h===5||h===6){r=s=l;continue e}u=u.parentNode}}r=r.return}D2(function(){var c=s,m=Oh(t),_=[];e:{var v=Zm.get(n);if(v!==void 0){var E=Kh,x=n;switch(n){case"keypress":if(Ra(t)===0)break e;case"keydown":case"keyup":E=gw;break;case"focusin":x="focus",E=ec;break;case"focusout":x="blur",E=ec;break;case"beforeblur":case"afterblur":E=ec;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=nv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=rw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=yw;break;case qm:case Xm:case $m:E=ow;break;case Km:E=ww;break;case"scroll":E=tw;break;case"wheel":E=xw;break;case"copy":case"cut":case"paste":E=aw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=iv}var P=(e&4)!=0,w=!P&&n==="scroll",S=P?v!==null?v+"Capture":null:v;P=[];for(var C=c,k;C!==null;){k=C;var R=k.stateNode;if(k.tag===5&&R!==null&&(k=R,S!==null&&(R=no(C,S),R!=null&&P.push(wo(C,R,k)))),w)break;C=C.return}0<P.length&&(v=new E(v,x,null,t,m),_.push({event:v,listeners:P}))}}if((e&7)==0){e:{if(v=n==="mouseover"||n==="pointerover",E=n==="mouseout"||n==="pointerout",v&&(e&16)==0&&(x=t.relatedTarget||t.fromElement)&&(Yr(x)||x[bi]))break e;if((E||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,E?(x=t.relatedTarget||t.toElement,E=c,x=x?Yr(x):null,x!==null&&(w=jr(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(E=null,x=c),E!==x)){if(P=nv,R="onMouseLeave",S="onMouseEnter",C="mouse",(n==="pointerout"||n==="pointerover")&&(P=iv,R="onPointerLeave",S="onPointerEnter",C="pointer"),w=E==null?v:Hi(E),k=x==null?v:Hi(x),v=new P(R,C+"leave",E,t,m),v.target=w,v.relatedTarget=k,R=null,Yr(m)===c&&(P=new P(S,C+"enter",x,t,m),P.target=k,P.relatedTarget=w,R=P),w=R,E&&x)t:{for(P=E,S=x,C=0,k=P;k;k=Gi(k))C++;for(k=0,R=S;R;R=Gi(R))k++;for(;0<C-k;)P=Gi(P),C--;for(;0<k-C;)S=Gi(S),k--;for(;C--;){if(P===S||S!==null&&P===S.alternate)break t;P=Gi(P),S=Gi(S)}P=null}else P=null;E!==null&&Av(_,v,E,P,!1),x!==null&&w!==null&&Av(_,w,x,P,!0)}}e:{if(v=c?Hi(c):window,E=v.nodeName&&v.nodeName.toLowerCase(),E==="select"||E==="input"&&v.type==="file")var F=Rw;else if(fv(v))if(cv)F=Ow;else{F=Lw;var N=Aw}else(E=v.nodeName)&&E.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(F=Nw);if(F&&(F=F(n,c))){hv(_,F,t,m);break e}N&&N(n,v,c),n==="focusout"&&(N=v._wrapperState)&&N.controlled&&v.type==="number"&&Ph(v,"number",v.value)}switch(N=c?Hi(c):window,n){case"focusin":(fv(N)||N.contentEditable==="true")&&(Bi=N,oc=c,yo=null);break;case"focusout":yo=oc=Bi=null;break;case"mousedown":lc=!0;break;case"contextmenu":case"mouseup":case"dragend":lc=!1,wv(_,t,m);break;case"selectionchange":if(zw)break;case"keydown":case"keyup":wv(_,t,m)}var U;if(nc)e:{switch(n){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Fi?av(n,t)&&(B="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(B="onCompositionStart");B&&(sv&&t.locale!=="ko"&&(Fi||B!=="onCompositionStart"?B==="onCompositionEnd"&&Fi&&(U=ev()):(fr=m,$h="value"in fr?fr.value:fr.textContent,Fi=!0)),N=Oa(c,B),0<N.length&&(B=new rv(B,n,null,t,m),_.push({event:B,listeners:N}),U?B.data=U:(U=uv(t),U!==null&&(B.data=U)))),(U=Cw?kw(n,t):Pw(n,t))&&(c=Oa(c,"onBeforeInput"),0<c.length&&(m=new rv("onBeforeInput","beforeinput",null,t,m),_.push({event:m,listeners:c}),m.data=U))}Cv(_,e)})}function wo(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Oa(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=no(n,t),s!=null&&r.unshift(wo(n,s,i)),s=no(n,e),s!=null&&r.push(wo(n,s,i))),n=n.return}return r}function Gi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Av(n,e,t,r,i){for(var s=e._reactName,l=[];t!==null&&t!==r;){var u=t,h=u.alternate,c=u.stateNode;if(h!==null&&h===r)break;u.tag===5&&c!==null&&(u=c,i?(h=no(t,s),h!=null&&l.unshift(wo(t,h,u))):i||(h=no(t,s),h!=null&&l.push(wo(t,h,u)))),t=t.return}l.length!==0&&n.push({event:e,listeners:l})}function Ma(){}var uc=null,fc=null;function Lv(n,e){switch(n){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function hc(n,e){return n==="textarea"||n==="option"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nv=typeof setTimeout=="function"?setTimeout:void 0,Fw=typeof clearTimeout=="function"?clearTimeout:void 0;function cc(n){n.nodeType===1?n.textContent="":n.nodeType===9&&(n=n.body,n!=null&&(n.textContent=""))}function Ui(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break}return n}function Ov(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var dc=0;function Bw(n){return{$$typeof:_h,toString:n,valueOf:n}}var Da=Math.random().toString(36).slice(2),hr="__reactFiber$"+Da,za="__reactProps$"+Da,bi="__reactContainer$"+Da,Mv="__reactEvents$"+Da;function Yr(n){var e=n[hr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[bi]||t[hr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Ov(n);n!==null;){if(t=n[hr])return t;n=Ov(n)}return e}n=t,t=n.parentNode}return null}function So(n){return n=n[hr]||n[bi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Hi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(j(33))}function Fa(n){return n[za]||null}function Dv(n){var e=n[Mv];return e===void 0&&(e=n[Mv]=new Set),e}var pc=[],Vi=-1;function cr(n){return{current:n}}function Le(n){0>Vi||(n.current=pc[Vi],pc[Vi]=null,Vi--)}function Be(n,e){Vi++,pc[Vi]=n.current,n.current=e}var dr={},ft=cr(dr),Et=cr(!1),Qr=dr;function Wi(n,e){var t=n.type.contextTypes;if(!t)return dr;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ct(n){return n=n.childContextTypes,n!=null}function Ba(){Le(Et),Le(ft)}function zv(n,e,t){if(ft.current!==dr)throw Error(j(168));Be(ft,e),Be(Et,t)}function Fv(n,e,t){var r=n.stateNode;if(n=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error(j(108,Ri(e)||"Unknown",i));return Oe({},t,r)}function Ga(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||dr,Qr=ft.current,Be(ft,n),Be(Et,Et.current),!0}function Bv(n,e,t){var r=n.stateNode;if(!r)throw Error(j(169));t?(n=Fv(n,e,Qr),r.__reactInternalMemoizedMergedChildContext=n,Le(Et),Le(ft),Be(ft,n)):Le(Et),Be(Et,t)}var gc=null,qr=null,Gw=$e.unstable_runWithPriority,mc=$e.unstable_scheduleCallback,vc=$e.unstable_cancelCallback,Uw=$e.unstable_shouldYield,Gv=$e.unstable_requestPaint,yc=$e.unstable_now,bw=$e.unstable_getCurrentPriorityLevel,Ua=$e.unstable_ImmediatePriority,Uv=$e.unstable_UserBlockingPriority,bv=$e.unstable_NormalPriority,Hv=$e.unstable_LowPriority,Vv=$e.unstable_IdlePriority,_c={},Hw=Gv!==void 0?Gv:function(){},Fn=null,ba=null,wc=!1,Wv=yc(),ht=1e4>Wv?yc:function(){return yc()-Wv};function ji(){switch(bw()){case Ua:return 99;case Uv:return 98;case bv:return 97;case Hv:return 96;case Vv:return 95;default:throw Error(j(332))}}function jv(n){switch(n){case 99:return Ua;case 98:return Uv;case 97:return bv;case 96:return Hv;case 95:return Vv;default:throw Error(j(332))}}function Xr(n,e){return n=jv(n),Gw(n,e)}function xo(n,e,t){return n=jv(n),mc(n,e,t)}function pn(){if(ba!==null){var n=ba;ba=null,vc(n)}Yv()}function Yv(){if(!wc&&Fn!==null){wc=!0;var n=0;try{var e=Fn;Xr(99,function(){for(;n<e.length;n++){var t=e[n];do t=t(!0);while(t!==null)}}),Fn=null}catch(t){throw Fn!==null&&(Fn=Fn.slice(n+1)),mc(Ua,pn),t}finally{wc=!1}}}var Vw=Hr.ReactCurrentBatchConfig;function Jt(n,e){if(n&&n.defaultProps){e=Oe({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Ha=cr(null),Va=null,Yi=null,Wa=null;function Sc(){Wa=Yi=Va=null}function xc(n){var e=Ha.current;Le(Ha),n.type._context._currentValue=e}function Qv(n,e){for(;n!==null;){var t=n.alternate;if((n.childLanes&e)===e){if(t===null||(t.childLanes&e)===e)break;t.childLanes|=e}else n.childLanes|=e,t!==null&&(t.childLanes|=e);n=n.return}}function Qi(n,e){Va=n,Wa=Yi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!=0&&(en=!0),n.firstContext=null)}function bt(n,e){if(Wa!==n&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Wa=n,e=1073741823),e={context:n,observedBits:e,next:null},Yi===null){if(Va===null)throw Error(j(308));Yi=e,Va.dependencies={lanes:0,firstContext:e,responders:null}}else Yi=Yi.next=e;return n._currentValue}var pr=!1;function Ec(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function qv(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function gr(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function mr(n,e){if(n=n.updateQueue,n!==null){n=n.shared;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}}function Xv(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var l={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=l:s=s.next=l,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Eo(n,e,t,r){var i=n.updateQueue;pr=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var h=u,c=h.next;h.next=null,l===null?s=c:l.next=c,l=h;var m=n.alternate;if(m!==null){m=m.updateQueue;var _=m.lastBaseUpdate;_!==l&&(_===null?m.firstBaseUpdate=c:_.next=c,m.lastBaseUpdate=h)}}if(s!==null){_=i.baseState,l=0,m=c=h=null;do{u=s.lane;var v=s.eventTime;if((r&u)===u){m!==null&&(m=m.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var E=n,x=s;switch(u=e,v=t,x.tag){case 1:if(E=x.payload,typeof E=="function"){_=E.call(v,_,u);break e}_=E;break e;case 3:E.flags=E.flags&-4097|64;case 0:if(E=x.payload,u=typeof E=="function"?E.call(v,_,u):E,u==null)break e;_=Oe({},_,u);break e;case 2:pr=!0}}s.callback!==null&&(n.flags|=32,u=i.effects,u===null?i.effects=[s]:u.push(s))}else v={eventTime:v,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},m===null?(c=m=v,h=_):m=m.next=v,l|=u;if(s=s.next,s===null){if(u=i.shared.pending,u===null)break;s=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(1);m===null&&(h=_),i.baseState=h,i.firstBaseUpdate=c,i.lastBaseUpdate=m,Do|=l,n.lanes=l,n.memoizedState=_}}function $v(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var Kv=new ca.Component().refs;function ja(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Oe({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Ya={isMounted:function(n){return(n=n._reactInternals)?jr(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Rt(),i=_r(n),s=gr(r,i);s.payload=e,t!=null&&(s.callback=t),mr(n,s),wr(n,i,r)},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Rt(),i=_r(n),s=gr(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),mr(n,s),wr(n,i,r)},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Rt(),r=_r(n),i=gr(t,r);i.tag=2,e!=null&&(i.callback=e),mr(n,i),wr(n,r,t)}};function Zv(n,e,t,r,i,s,l){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,l):e.prototype&&e.prototype.isPureReactComponent?!vo(t,r)||!vo(i,s):!0}function Jv(n,e,t){var r=!1,i=dr,s=e.contextType;return typeof s=="object"&&s!==null?s=bt(s):(i=Ct(e)?Qr:ft.current,r=e.contextTypes,s=(r=r!=null)?Wi(n,i):dr),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ya,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function e0(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Ya.enqueueReplaceState(e,e.state,null)}function Cc(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=Kv,Ec(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=bt(s):(s=Ct(e)?Qr:ft.current,i.context=Wi(n,s)),Eo(n,t,i,r),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ja(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ya.enqueueReplaceState(i,i.state,null),Eo(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4)}var Qa=Array.isArray;function Co(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(j(309));var r=t.stateNode}if(!r)throw Error(j(147,n));var i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var l=r.refs;l===Kv&&(l=r.refs={}),s===null?delete l[i]:l[i]=s},e._stringRef=i,e)}if(typeof n!="string")throw Error(j(284));if(!t._owner)throw Error(j(290,n))}return n}function qa(n,e){if(n.type!=="textarea")throw Error(j(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function t0(n){function e(w,S){if(n){var C=w.lastEffect;C!==null?(C.nextEffect=S,w.lastEffect=S):w.firstEffect=w.lastEffect=S,S.nextEffect=null,S.flags=8}}function t(w,S){if(!n)return null;for(;S!==null;)e(w,S),S=S.sibling;return null}function r(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function i(w,S){return w=Er(w,S),w.index=0,w.sibling=null,w}function s(w,S,C){return w.index=C,n?(C=w.alternate,C!==null?(C=C.index,C<S?(w.flags=2,S):C):(w.flags=2,S)):S}function l(w){return n&&w.alternate===null&&(w.flags=2),w}function u(w,S,C,k){return S===null||S.tag!==6?(S=od(C,w.mode,k),S.return=w,S):(S=i(S,C),S.return=w,S)}function h(w,S,C,k){return S!==null&&S.elementType===C.type?(k=i(S,C.props),k.ref=Co(w,S,C),k.return=w,k):(k=cu(C.type,C.key,C.props,null,w.mode,k),k.ref=Co(w,S,C),k.return=w,k)}function c(w,S,C,k){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=ld(C,w.mode,k),S.return=w,S):(S=i(S,C.children||[]),S.return=w,S)}function m(w,S,C,k,R){return S===null||S.tag!==7?(S=ts(C,w.mode,k,R),S.return=w,S):(S=i(S,C),S.return=w,S)}function _(w,S,C){if(typeof S=="string"||typeof S=="number")return S=od(""+S,w.mode,C),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xs:return C=cu(S.type,S.key,S.props,null,w.mode,C),C.ref=Co(w,null,S),C.return=w,C;case Vr:return S=ld(S,w.mode,C),S.return=w,S}if(Qa(S)||Zs(S))return S=ts(S,w.mode,C,null),S.return=w,S;qa(w,S)}return null}function v(w,S,C,k){var R=S!==null?S.key:null;if(typeof C=="string"||typeof C=="number")return R!==null?null:u(w,S,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Xs:return C.key===R?C.type===ir?m(w,S,C.props.children,k,R):h(w,S,C,k):null;case Vr:return C.key===R?c(w,S,C,k):null}if(Qa(C)||Zs(C))return R!==null?null:m(w,S,C,k,null);qa(w,C)}return null}function E(w,S,C,k,R){if(typeof k=="string"||typeof k=="number")return w=w.get(C)||null,u(S,w,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Xs:return w=w.get(k.key===null?C:k.key)||null,k.type===ir?m(S,w,k.props.children,R,k.key):h(S,w,k,R);case Vr:return w=w.get(k.key===null?C:k.key)||null,c(S,w,k,R)}if(Qa(k)||Zs(k))return w=w.get(C)||null,m(S,w,k,R,null);qa(S,k)}return null}function x(w,S,C,k){for(var R=null,F=null,N=S,U=S=0,B=null;N!==null&&U<C.length;U++){N.index>U?(B=N,N=null):B=N.sibling;var D=v(w,N,C[U],k);if(D===null){N===null&&(N=B);break}n&&N&&D.alternate===null&&e(w,N),S=s(D,S,U),F===null?R=D:F.sibling=D,F=D,N=B}if(U===C.length)return t(w,N),R;if(N===null){for(;U<C.length;U++)N=_(w,C[U],k),N!==null&&(S=s(N,S,U),F===null?R=N:F.sibling=N,F=N);return R}for(N=r(w,N);U<C.length;U++)B=E(N,w,U,C[U],k),B!==null&&(n&&B.alternate!==null&&N.delete(B.key===null?U:B.key),S=s(B,S,U),F===null?R=B:F.sibling=B,F=B);return n&&N.forEach(function(V){return e(w,V)}),R}function P(w,S,C,k){var R=Zs(C);if(typeof R!="function")throw Error(j(150));if(C=R.call(C),C==null)throw Error(j(151));for(var F=R=null,N=S,U=S=0,B=null,D=C.next();N!==null&&!D.done;U++,D=C.next()){N.index>U?(B=N,N=null):B=N.sibling;var V=v(w,N,D.value,k);if(V===null){N===null&&(N=B);break}n&&N&&V.alternate===null&&e(w,N),S=s(V,S,U),F===null?R=V:F.sibling=V,F=V,N=B}if(D.done)return t(w,N),R;if(N===null){for(;!D.done;U++,D=C.next())D=_(w,D.value,k),D!==null&&(S=s(D,S,U),F===null?R=D:F.sibling=D,F=D);return R}for(N=r(w,N);!D.done;U++,D=C.next())D=E(N,w,U,D.value,k),D!==null&&(n&&D.alternate!==null&&N.delete(D.key===null?U:D.key),S=s(D,S,U),F===null?R=D:F.sibling=D,F=D);return n&&N.forEach(function(X){return e(w,X)}),R}return function(w,S,C,k){var R=typeof C=="object"&&C!==null&&C.type===ir&&C.key===null;R&&(C=C.props.children);var F=typeof C=="object"&&C!==null;if(F)switch(C.$$typeof){case Xs:e:{for(F=C.key,R=S;R!==null;){if(R.key===F){switch(R.tag){case 7:if(C.type===ir){t(w,R.sibling),S=i(R,C.props.children),S.return=w,w=S;break e}break;default:if(R.elementType===C.type){t(w,R.sibling),S=i(R,C.props),S.ref=Co(w,R,C),S.return=w,w=S;break e}}t(w,R);break}else e(w,R);R=R.sibling}C.type===ir?(S=ts(C.props.children,w.mode,k,C.key),S.return=w,w=S):(k=cu(C.type,C.key,C.props,null,w.mode,k),k.ref=Co(w,S,C),k.return=w,w=k)}return l(w);case Vr:e:{for(R=C.key;S!==null;){if(S.key===R)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){t(w,S.sibling),S=i(S,C.children||[]),S.return=w,w=S;break e}else{t(w,S);break}else e(w,S);S=S.sibling}S=ld(C,w.mode,k),S.return=w,w=S}return l(w)}if(typeof C=="string"||typeof C=="number")return C=""+C,S!==null&&S.tag===6?(t(w,S.sibling),S=i(S,C),S.return=w,w=S):(t(w,S),S=od(C,w.mode,k),S.return=w,w=S),l(w);if(Qa(C))return x(w,S,C,k);if(Zs(C))return P(w,S,C,k);if(F&&qa(w,C),typeof C=="undefined"&&!R)switch(w.tag){case 1:case 22:case 0:case 11:case 15:throw Error(j(152,Ri(w.type)||"Component"))}return t(w,S)}}var Xa=t0(!0),n0=t0(!1),ko={},gn=cr(ko),Po=cr(ko),To=cr(ko);function $r(n){if(n===ko)throw Error(j(174));return n}function kc(n,e){switch(Be(To,e),Be(Po,n),Be(gn,ko),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ah(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Ah(e,n)}Le(gn),Be(gn,e)}function qi(){Le(gn),Le(Po),Le(To)}function r0(n){$r(To.current);var e=$r(gn.current),t=Ah(e,n.type);e!==t&&(Be(Po,n),Be(gn,t))}function Pc(n){Po.current===n&&(Le(gn),Le(Po))}var Ge=cr(0);function $a(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!=0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bn=null,vr=null,mn=!1;function i0(n,e){var t=Wt(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=e,t.return=n,t.flags=8,n.lastEffect!==null?(n.lastEffect.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t}function s0(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function Tc(n){if(mn){var e=vr;if(e){var t=e;if(!s0(n,e)){if(e=Ui(t.nextSibling),!e||!s0(n,e)){n.flags=n.flags&-1025|2,mn=!1,Bn=n;return}i0(Bn,t)}Bn=n,vr=Ui(e.firstChild)}else n.flags=n.flags&-1025|2,mn=!1,Bn=n}}function o0(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Bn=n}function Ka(n){if(n!==Bn)return!1;if(!mn)return o0(n),mn=!0,!1;var e=n.type;if(n.tag!==5||e!=="head"&&e!=="body"&&!hc(e,n.memoizedProps))for(e=vr;e;)i0(n,e),e=Ui(e.nextSibling);if(o0(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(j(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){vr=Ui(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}vr=null}}else vr=Bn?Ui(n.stateNode.nextSibling):null;return!0}function Ic(){vr=Bn=null,mn=!1}var Xi=[];function Rc(){for(var n=0;n<Xi.length;n++)Xi[n]._workInProgressVersionPrimary=null;Xi.length=0}var Io=Hr.ReactCurrentDispatcher,Ht=Hr.ReactCurrentBatchConfig,Ro=0,Ve=null,ct=null,rt=null,Za=!1,Ao=!1;function kt(){throw Error(j(321))}function Ac(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ut(n[t],e[t]))return!1;return!0}function Lc(n,e,t,r,i,s){if(Ro=s,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Io.current=n===null||n.memoizedState===null?jw:Yw,n=t(r,i),Ao){s=0;do{if(Ao=!1,!(25>s))throw Error(j(301));s+=1,rt=ct=null,e.updateQueue=null,Io.current=Qw,n=t(r,i)}while(Ao)}if(Io.current=nu,e=ct!==null&&ct.next!==null,Ro=0,rt=ct=Ve=null,Za=!1,e)throw Error(j(300));return n}function Kr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Ve.memoizedState=rt=n:rt=rt.next=n,rt}function Zr(){if(ct===null){var n=Ve.alternate;n=n!==null?n.memoizedState:null}else n=ct.next;var e=rt===null?Ve.memoizedState:rt.next;if(e!==null)rt=e,ct=n;else{if(n===null)throw Error(j(310));ct=n,n={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},rt===null?Ve.memoizedState=rt=n:rt=rt.next=n}return rt}function vn(n,e){return typeof e=="function"?e(n):e}function Lo(n){var e=Zr(),t=e.queue;if(t===null)throw Error(j(311));t.lastRenderedReducer=n;var r=ct,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}r.baseQueue=i=s,t.pending=null}if(i!==null){i=i.next,r=r.baseState;var u=l=s=null,h=i;do{var c=h.lane;if((Ro&c)===c)u!==null&&(u=u.next={lane:0,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null}),r=h.eagerReducer===n?h.eagerState:n(r,h.action);else{var m={lane:c,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null};u===null?(l=u=m,s=r):u=u.next=m,Ve.lanes|=c,Do|=c}h=h.next}while(h!==null&&h!==i);u===null?s=r:u.next=l,Ut(r,e.memoizedState)||(en=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,t.lastRenderedState=r}return[e.memoizedState,t.dispatch]}function No(n){var e=Zr(),t=e.queue;if(t===null)throw Error(j(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var l=i=i.next;do s=n(s,l.action),l=l.next;while(l!==i);Ut(s,e.memoizedState)||(en=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function l0(n,e,t){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?n=i===r:(n=n.mutableReadLanes,(n=(Ro&n)===n)&&(e._workInProgressVersionPrimary=r,Xi.push(e))),n)return t(e._source);throw Xi.push(e),Error(j(350))}function a0(n,e,t,r){var i=mt;if(i===null)throw Error(j(349));var s=e._getVersion,l=s(e._source),u=Io.current,h=u.useState(function(){return l0(i,e,t)}),c=h[1],m=h[0];h=rt;var _=n.memoizedState,v=_.refs,E=v.getSnapshot,x=_.source;_=_.subscribe;var P=Ve;return n.memoizedState={refs:v,source:e,subscribe:r},u.useEffect(function(){v.getSnapshot=t,v.setSnapshot=c;var w=s(e._source);if(!Ut(l,w)){w=t(e._source),Ut(m,w)||(c(w),w=_r(P),i.mutableReadLanes|=w&i.pendingLanes),w=i.mutableReadLanes,i.entangledLanes|=w;for(var S=i.entanglements,C=w;0<C;){var k=31-ur(C),R=1<<k;S[k]|=w,C&=~R}}},[t,e,r]),u.useEffect(function(){return r(e._source,function(){var w=v.getSnapshot,S=v.setSnapshot;try{S(w(e._source));var C=_r(P);i.mutableReadLanes|=C&i.pendingLanes}catch(k){S(function(){throw k})}})},[e,r]),Ut(E,t)&&Ut(x,e)&&Ut(_,r)||(n={pending:null,dispatch:null,lastRenderedReducer:vn,lastRenderedState:m},n.dispatch=c=Dc.bind(null,Ve,n),h.queue=n,h.baseQueue=null,m=l0(i,e,t),h.memoizedState=h.baseState=m),m}function u0(n,e,t){var r=Zr();return a0(r,n,e,t)}function Oo(n){var e=Kr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n=e.queue={pending:null,dispatch:null,lastRenderedReducer:vn,lastRenderedState:n},n=n.dispatch=Dc.bind(null,Ve,n),[e.memoizedState,n]}function Ja(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null},Ve.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function f0(n){var e=Kr();return n={current:n},e.memoizedState=n}function eu(){return Zr().memoizedState}function Nc(n,e,t,r){var i=Kr();Ve.flags|=n,i.memoizedState=Ja(1|e,t,void 0,r===void 0?null:r)}function Oc(n,e,t,r){var i=Zr();r=r===void 0?null:r;var s=void 0;if(ct!==null){var l=ct.memoizedState;if(s=l.destroy,r!==null&&Ac(r,l.deps)){Ja(e,t,s,r);return}}Ve.flags|=n,i.memoizedState=Ja(1|e,t,s,r)}function h0(n,e){return Nc(516,4,n,e)}function tu(n,e){return Oc(516,4,n,e)}function c0(n,e){return Oc(4,2,n,e)}function d0(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function p0(n,e,t){return t=t!=null?t.concat([n]):null,Oc(4,2,d0.bind(null,e,n),t)}function Mc(){}function g0(n,e){var t=Zr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Ac(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function m0(n,e){var t=Zr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Ac(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function Ww(n,e){var t=ji();Xr(98>t?98:t,function(){n(!0)}),Xr(97<t?97:t,function(){var r=Ht.transition;Ht.transition=1;try{n(!1),e()}finally{Ht.transition=r}})}function Dc(n,e,t){var r=Rt(),i=_r(n),s={lane:i,action:t,eagerReducer:null,eagerState:null,next:null},l=e.pending;if(l===null?s.next=s:(s.next=l.next,l.next=s),e.pending=s,l=n.alternate,n===Ve||l!==null&&l===Ve)Ao=Za=!0;else{if(n.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var u=e.lastRenderedState,h=l(u,t);if(s.eagerReducer=l,s.eagerState=h,Ut(h,u))return}catch{}finally{}wr(n,i,r)}}var nu={readContext:bt,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useOpaqueIdentifier:kt,unstable_isNewReconciler:!1},jw={readContext:bt,useCallback:function(n,e){return Kr().memoizedState=[n,e===void 0?null:e],n},useContext:bt,useEffect:h0,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Nc(4,2,d0.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Nc(4,2,n,e)},useMemo:function(n,e){var t=Kr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Kr();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n=r.queue={pending:null,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},n=n.dispatch=Dc.bind(null,Ve,n),[r.memoizedState,n]},useRef:f0,useState:Oo,useDebugValue:Mc,useDeferredValue:function(n){var e=Oo(n),t=e[0],r=e[1];return h0(function(){var i=Ht.transition;Ht.transition=1;try{r(n)}finally{Ht.transition=i}},[n]),t},useTransition:function(){var n=Oo(!1),e=n[0];return n=Ww.bind(null,n[1]),f0(n),[n,e]},useMutableSource:function(n,e,t){var r=Kr();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:n,subscribe:t},a0(r,n,e,t)},useOpaqueIdentifier:function(){if(mn){var n=!1,e=Bw(function(){throw n||(n=!0,t("r:"+(dc++).toString(36))),Error(j(355))}),t=Oo(e)[1];return(Ve.mode&2)==0&&(Ve.flags|=516,Ja(5,function(){t("r:"+(dc++).toString(36))},void 0,null)),e}return e="r:"+(dc++).toString(36),Oo(e),e},unstable_isNewReconciler:!1},Yw={readContext:bt,useCallback:g0,useContext:bt,useEffect:tu,useImperativeHandle:p0,useLayoutEffect:c0,useMemo:m0,useReducer:Lo,useRef:eu,useState:function(){return Lo(vn)},useDebugValue:Mc,useDeferredValue:function(n){var e=Lo(vn),t=e[0],r=e[1];return tu(function(){var i=Ht.transition;Ht.transition=1;try{r(n)}finally{Ht.transition=i}},[n]),t},useTransition:function(){var n=Lo(vn)[0];return[eu().current,n]},useMutableSource:u0,useOpaqueIdentifier:function(){return Lo(vn)[0]},unstable_isNewReconciler:!1},Qw={readContext:bt,useCallback:g0,useContext:bt,useEffect:tu,useImperativeHandle:p0,useLayoutEffect:c0,useMemo:m0,useReducer:No,useRef:eu,useState:function(){return No(vn)},useDebugValue:Mc,useDeferredValue:function(n){var e=No(vn),t=e[0],r=e[1];return tu(function(){var i=Ht.transition;Ht.transition=1;try{r(n)}finally{Ht.transition=i}},[n]),t},useTransition:function(){var n=No(vn)[0];return[eu().current,n]},useMutableSource:u0,useOpaqueIdentifier:function(){return No(vn)[0]},unstable_isNewReconciler:!1},qw=Hr.ReactCurrentOwner,en=!1;function Pt(n,e,t,r){e.child=n===null?n0(e,null,t,r):Xa(e,n.child,t,r)}function v0(n,e,t,r,i){t=t.render;var s=e.ref;return Qi(e,i),r=Lc(n,e,t,r,s,i),n!==null&&!en?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,Gn(n,e,i)):(e.flags|=1,Pt(n,e,r,i),e.child)}function y0(n,e,t,r,i,s){if(n===null){var l=t.type;return typeof l=="function"&&!id(l)&&l.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=l,_0(n,e,l,r,i,s)):(n=cu(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}return l=n.child,(i&s)==0&&(i=l.memoizedProps,t=t.compare,t=t!==null?t:vo,t(i,r)&&n.ref===e.ref)?Gn(n,e,s):(e.flags|=1,n=Er(l,r),n.ref=e.ref,n.return=e,e.child=n)}function _0(n,e,t,r,i,s){if(n!==null&&vo(n.memoizedProps,r)&&n.ref===e.ref)if(en=!1,(s&i)!=0)(n.flags&16384)!=0&&(en=!0);else return e.lanes=n.lanes,Gn(n,e,s);return Fc(n,e,t,r,s)}function zc(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)==0)e.memoizedState={baseLanes:0},hu(e,t);else if((t&1073741824)!=0)e.memoizedState={baseLanes:0},hu(e,s!==null?s.baseLanes:t);else return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n},hu(e,n),null;else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,hu(e,r);return Pt(n,e,i,t),e.child}function w0(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=128)}function Fc(n,e,t,r,i){var s=Ct(t)?Qr:ft.current;return s=Wi(e,s),Qi(e,i),t=Lc(n,e,t,r,s,i),n!==null&&!en?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,Gn(n,e,i)):(e.flags|=1,Pt(n,e,t,i),e.child)}function S0(n,e,t,r,i){if(Ct(t)){var s=!0;Ga(e)}else s=!1;if(Qi(e,i),e.stateNode===null)n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),Jv(e,t,r),Cc(e,t,r,i),r=!0;else if(n===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var h=l.context,c=t.contextType;typeof c=="object"&&c!==null?c=bt(c):(c=Ct(t)?Qr:ft.current,c=Wi(e,c));var m=t.getDerivedStateFromProps,_=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";_||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||h!==c)&&e0(e,l,r,c),pr=!1;var v=e.memoizedState;l.state=v,Eo(e,r,l,i),h=e.memoizedState,u!==r||v!==h||Et.current||pr?(typeof m=="function"&&(ja(e,t,m,r),h=e.memoizedState),(u=pr||Zv(e,t,u,r,v,h,c))?(_||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4)):(typeof l.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=h),l.props=r,l.state=h,l.context=c,r=u):(typeof l.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{l=e.stateNode,qv(n,e),u=e.memoizedProps,c=e.type===e.elementType?u:Jt(e.type,u),l.props=c,_=e.pendingProps,v=l.context,h=t.contextType,typeof h=="object"&&h!==null?h=bt(h):(h=Ct(t)?Qr:ft.current,h=Wi(e,h));var E=t.getDerivedStateFromProps;(m=typeof E=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==_||v!==h)&&e0(e,l,r,h),pr=!1,v=e.memoizedState,l.state=v,Eo(e,r,l,i);var x=e.memoizedState;u!==_||v!==x||Et.current||pr?(typeof E=="function"&&(ja(e,t,E,r),x=e.memoizedState),(c=pr||Zv(e,t,c,r,v,x,h))?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,x,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,x,h)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof l.componentDidUpdate!="function"||u===n.memoizedProps&&v===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&v===n.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=x),l.props=r,l.state=x,l.context=h,r=c):(typeof l.componentDidUpdate!="function"||u===n.memoizedProps&&v===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&v===n.memoizedState||(e.flags|=256),r=!1)}return Bc(n,e,t,r,s,i)}function Bc(n,e,t,r,i,s){w0(n,e);var l=(e.flags&64)!=0;if(!r&&!l)return i&&Bv(e,t,!1),Gn(n,e,s);r=e.stateNode,qw.current=e;var u=l&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&l?(e.child=Xa(e,n.child,null,s),e.child=Xa(e,null,u,s)):Pt(n,e,u,s),e.memoizedState=r.state,i&&Bv(e,t,!0),e.child}function x0(n){var e=n.stateNode;e.pendingContext?zv(n,e.pendingContext,e.pendingContext!==e.context):e.context&&zv(n,e.context,!1),kc(n,e.containerInfo)}var ru={dehydrated:null,retryLane:0};function E0(n,e,t){var r=e.pendingProps,i=Ge.current,s=!1,l;return(l=(e.flags&64)!=0)||(l=n!==null&&n.memoizedState===null?!1:(i&2)!=0),l?(s=!0,e.flags&=-65):n!==null&&n.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Be(Ge,i&1),n===null?(r.fallback!==void 0&&Tc(e),n=r.children,i=r.fallback,s?(n=C0(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=ru,n):typeof r.unstable_expectedLoadTime=="number"?(n=C0(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=ru,e.lanes=33554432,n):(t=sd({mode:"visible",children:n},e.mode,t,null),t.return=e,e.child=t)):n.memoizedState!==null?s?(r=P0(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},s.childLanes=n.childLanes&~t,e.memoizedState=ru,r):(t=k0(n,e,r.children,t),e.memoizedState=null,t):s?(r=P0(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},s.childLanes=n.childLanes&~t,e.memoizedState=ru,r):(t=k0(n,e,r.children,t),e.memoizedState=null,t)}function C0(n,e,t,r){var i=n.mode,s=n.child;return e={mode:"hidden",children:e},(i&2)==0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=sd(e,i,0,null),t=ts(t,i,r,null),s.return=n,t.return=n,s.sibling=t,n.child=s,t}function k0(n,e,t,r){var i=n.child;return n=i.sibling,t=Er(i,{mode:"visible",children:t}),(e.mode&2)==0&&(t.lanes=r),t.return=e,t.sibling=null,n!==null&&(n.nextEffect=null,n.flags=8,e.firstEffect=e.lastEffect=n),e.child=t}function P0(n,e,t,r,i){var s=e.mode,l=n.child;n=l.sibling;var u={mode:"hidden",children:t};return(s&2)==0&&e.child!==l?(t=e.child,t.childLanes=0,t.pendingProps=u,l=t.lastEffect,l!==null?(e.firstEffect=t.firstEffect,e.lastEffect=l,l.nextEffect=null):e.firstEffect=e.lastEffect=null):t=Er(l,u),n!==null?r=Er(n,r):(r=ts(r,s,i,null),r.flags|=2),r.return=e,t.return=e,t.sibling=r,e.child=t,r}function T0(n,e){n.lanes|=e;var t=n.alternate;t!==null&&(t.lanes|=e),Qv(n.return,e)}function Gc(n,e,t,r,i,s){var l=n.memoizedState;l===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i,lastEffect:s}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=t,l.tailMode=i,l.lastEffect=s)}function I0(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Pt(n,e,r.children,t),r=Ge.current,(r&2)!=0)r=r&1|2,e.flags|=64;else{if(n!==null&&(n.flags&64)!=0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&T0(n,t);else if(n.tag===19)T0(n,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Be(Ge,r),(e.mode&2)==0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&$a(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Gc(e,!1,i,t,s,e.lastEffect);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&$a(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Gc(e,!0,t,null,s,e.lastEffect);break;case"together":Gc(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Gn(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Do|=e.lanes,(t&e.childLanes)!=0){if(n!==null&&e.child!==n.child)throw Error(j(153));if(e.child!==null){for(n=e.child,t=Er(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Er(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}return null}var R0,Uc,A0,L0;R0=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Uc=function(){};A0=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,$r(gn.current);var s=null;switch(t){case"input":i=Ch(n,i),r=Ch(n,r),s=[];break;case"option":i=Th(n,i),r=Th(n,r),s=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),s=[];break;case"textarea":i=Ih(n,i),r=Ih(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Ma)}Lh(t,r);var l;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(l in u)u.hasOwnProperty(l)&&(t||(t={}),t[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qs.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var h=r[c];if(u=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&h!==u&&(h!=null||u!=null))if(c==="style")if(u){for(l in u)!u.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(t||(t={}),t[l]="");for(l in h)h.hasOwnProperty(l)&&u[l]!==h[l]&&(t||(t={}),t[l]=h[l])}else t||(s||(s=[]),s.push(c,t)),t=h;else c==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(s=s||[]).push(c,h)):c==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(c,""+h):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qs.hasOwnProperty(c)?(h!=null&&c==="onScroll"&&Ae("scroll",n),s||u===h||(s=[])):typeof h=="object"&&h!==null&&h.$$typeof===_h?h.toString():(s=s||[]).push(c,h))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};L0=function(n,e,t,r){t!==r&&(e.flags|=4)};function Mo(n,e){if(!mn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Xw(n,e,t){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ct(e.type)&&Ba(),null;case 3:return qi(),Le(Et),Le(ft),Rc(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Ka(e)?e.flags|=4:r.hydrate||(e.flags|=256)),Uc(e),null;case 5:Pc(e);var i=$r(To.current);if(t=e.type,n!==null&&e.stateNode!=null)A0(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(j(166));return null}if(n=$r(gn.current),Ka(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[hr]=e,r[za]=s,t){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(n=0;n<_o.length;n++)Ae(_o[n],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":Sm(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":Cm(r,s),Ae("invalid",r)}Lh(t,s),n=null;for(var l in s)s.hasOwnProperty(l)&&(i=s[l],l==="children"?typeof i=="string"?r.textContent!==i&&(n=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(n=["children",""+i]):qs.hasOwnProperty(l)&&i!=null&&l==="onScroll"&&Ae("scroll",r));switch(t){case"input":va(r),Em(r,s,!0);break;case"textarea":va(r),Pm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ma)}r=n,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(l=i.nodeType===9?i:i.ownerDocument,n===Rh.html&&(n=Tm(t)),n===Rh.html?t==="script"?(n=l.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=l.createElement(t,{is:r.is}):(n=l.createElement(t),t==="select"&&(l=n,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):n=l.createElementNS(n,t),n[hr]=e,n[za]=r,R0(n,e,!1,!1),e.stateNode=n,l=Nh(t,r),t){case"dialog":Ae("cancel",n),Ae("close",n),i=r;break;case"iframe":case"object":case"embed":Ae("load",n),i=r;break;case"video":case"audio":for(i=0;i<_o.length;i++)Ae(_o[i],n);i=r;break;case"source":Ae("error",n),i=r;break;case"img":case"image":case"link":Ae("error",n),Ae("load",n),i=r;break;case"details":Ae("toggle",n),i=r;break;case"input":Sm(n,r),i=Ch(n,r),Ae("invalid",n);break;case"option":i=Th(n,r);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),Ae("invalid",n);break;case"textarea":Cm(n,r),i=Ih(n,r),Ae("invalid",n);break;default:i=r}Lh(t,i);var u=i;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];s==="style"?Am(n,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Im(n,h)):s==="children"?typeof h=="string"?(t!=="textarea"||h!=="")&&eo(n,h):typeof h=="number"&&eo(n,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qs.hasOwnProperty(s)?h!=null&&s==="onScroll"&&Ae("scroll",n):h!=null&&dh(n,s,h,l))}switch(t){case"input":va(n),Em(n,r,!1);break;case"textarea":va(n),Pm(n);break;case"option":r.value!=null&&n.setAttribute("value",""+sr(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Ai(n,!!r.multiple,s,!1):r.defaultValue!=null&&Ai(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Ma)}Lv(t,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(n&&e.stateNode!=null)L0(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));t=$r(To.current),$r(gn.current),Ka(e)?(r=e.stateNode,t=e.memoizedProps,r[hr]=e,r.nodeValue!==t&&(e.flags|=4)):(r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[hr]=e,e.stateNode=r)}return null;case 13:return Le(Ge),r=e.memoizedState,(e.flags&64)!=0?(e.lanes=t,e):(r=r!==null,t=!1,n===null?e.memoizedProps.fallback!==void 0&&Ka(e):t=n.memoizedState!==null,r&&!t&&(e.mode&2)!=0&&(n===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(Ge.current&1)!=0?it===0&&(it=3):((it===0||it===3)&&(it=4),mt===null||(Do&134217727)==0&&(Ki&134217727)==0||Ji(mt,dt))),(r||t)&&(e.flags|=4),null);case 4:return qi(),Uc(e),n===null&&Pv(e.stateNode.containerInfo),null;case 10:return xc(e),null;case 17:return Ct(e.type)&&Ba(),null;case 19:if(Le(Ge),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!=0,l=r.rendering,l===null)if(s)Mo(r,!1);else{if(it!==0||n!==null&&(n.flags&64)!=0)for(n=e.child;n!==null;){if(l=$a(n),l!==null){for(e.flags|=64,Mo(r,!1),s=l.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,l=s.alternate,l===null?(s.childLanes=0,s.lanes=n,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,n=l.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Be(Ge,Ge.current&1|2),e.child}n=n.sibling}r.tail!==null&&ht()>Kc&&(e.flags|=64,s=!0,Mo(r,!1),e.lanes=33554432)}else{if(!s)if(n=$a(l),n!==null){if(e.flags|=64,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Mo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!l.alternate&&!mn)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*ht()-r.renderingStartTime>Kc&&t!==1073741824&&(e.flags|=64,s=!0,Mo(r,!1),e.lanes=33554432);r.isBackwards?(l.sibling=e.child,e.child=l):(t=r.last,t!==null?t.sibling=l:e.child=l,r.last=l)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=ht(),t.sibling=null,e=Ge.current,Be(Ge,s?e&1|2:e&1),t):null;case 23:case 24:return rd(),n!==null&&n.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(j(156,e.tag))}function $w(n){switch(n.tag){case 1:Ct(n.type)&&Ba();var e=n.flags;return e&4096?(n.flags=e&-4097|64,n):null;case 3:if(qi(),Le(Et),Le(ft),Rc(),e=n.flags,(e&64)!=0)throw Error(j(285));return n.flags=e&-4097|64,n;case 5:return Pc(n),null;case 13:return Le(Ge),e=n.flags,e&4096?(n.flags=e&-4097|64,n):null;case 19:return Le(Ge),null;case 4:return qi(),null;case 10:return xc(n),null;case 23:case 24:return rd(),null;default:return null}}function bc(n,e){try{var t="",r=e;do t+=A2(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i}}function Hc(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Kw=typeof WeakMap=="function"?WeakMap:Map;function N0(n,e,t){t=gr(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){ou||(ou=!0,Zc=r),Hc(n,e)},t}function O0(n,e,t){t=gr(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return Hc(n,e),r(i)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){typeof r!="function"&&(yn===null?yn=new Set([this]):yn.add(this),Hc(n,e));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),t}var Zw=typeof WeakSet=="function"?WeakSet:Set;function M0(n){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(t){xr(n,t)}else e.current=null}function Jw(n,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&n!==null){var t=n.memoizedProps,r=n.memoizedState;n=e.stateNode,e=n.getSnapshotBeforeUpdate(e.elementType===e.type?t:Jt(e.type,t),r),n.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&cc(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(j(163))}function eS(n,e,t){switch(t.tag){case 0:case 11:case 15:case 22:if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{if((n.tag&3)==3){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{var i=n;r=i.next,i=i.tag,(i&4)!=0&&(i&1)!=0&&(X0(t,n),aS(t,n)),n=r}while(n!==e)}return;case 1:n=t.stateNode,t.flags&4&&(e===null?n.componentDidMount():(r=t.elementType===t.type?e.memoizedProps:Jt(t.type,e.memoizedProps),n.componentDidUpdate(r,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate))),e=t.updateQueue,e!==null&&$v(t,e,n);return;case 3:if(e=t.updateQueue,e!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$v(t,e,n)}return;case 5:n=t.stateNode,e===null&&t.flags&4&&Lv(t.type,t.memoizedProps)&&n.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&Ym(t))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(j(163))}function D0(n,e){for(var t=n;;){if(t.tag===5){var r=t.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=t.stateNode;var i=t.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=Rm("display",i)}}else if(t.tag===6)t.stateNode.nodeValue=e?"":t.memoizedProps;else if((t.tag!==23&&t.tag!==24||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function z0(n,e){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(gc,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var t=n=n.next;do{var r=t,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!=0)X0(e,t);else{r=e;try{i()}catch(s){xr(r,s)}}t=t.next}while(t!==n)}break;case 1:if(M0(e),n=e.stateNode,typeof n.componentWillUnmount=="function")try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(s){xr(e,s)}break;case 5:M0(e);break;case 4:U0(n,e)}}function F0(n){n.alternate=null,n.child=null,n.dependencies=null,n.firstEffect=null,n.lastEffect=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.return=null,n.updateQueue=null}function B0(n){return n.tag===5||n.tag===3||n.tag===4}function G0(n){e:{for(var e=n.return;e!==null;){if(B0(e))break e;e=e.return}throw Error(j(160))}var t=e;switch(e=t.stateNode,t.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(j(161))}t.flags&16&&(eo(e,""),t.flags&=-17);e:t:for(t=n;;){for(;t.sibling===null;){if(t.return===null||B0(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2)){t=t.stateNode;break e}}r?Vc(n,t,e):Wc(n,t,e)}function Vc(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ma));else if(r!==4&&(n=n.child,n!==null))for(Vc(n,e,t),n=n.sibling;n!==null;)Vc(n,e,t),n=n.sibling}function Wc(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Wc(n,e,t),n=n.sibling;n!==null;)Wc(n,e,t),n=n.sibling}function U0(n,e){for(var t=e,r=!1,i,s;;){if(!r){r=t.return;e:for(;;){if(r===null)throw Error(j(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(t.tag===5||t.tag===6){e:for(var l=n,u=t,h=u;;)if(z0(l,h),h.child!==null&&h.tag!==4)h.child.return=h,h=h.child;else{if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s?(l=i,u=t.stateNode,l.nodeType===8?l.parentNode.removeChild(u):l.removeChild(u)):i.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){i=t.stateNode.containerInfo,s=!0,t.child.return=t,t=t.child;continue}}else if(z0(n,t),t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return,t.tag===4&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function jc(n,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var t=e.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do(r.tag&3)==3&&(n=r.destroy,r.destroy=void 0,n!==void 0&&n()),r=r.next;while(r!==t)}return;case 1:return;case 5:if(t=e.stateNode,t!=null){r=e.memoizedProps;var i=n!==null?n.memoizedProps:r;n=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(t[za]=r,n==="input"&&r.type==="radio"&&r.name!=null&&xm(t,r),Nh(n,i),e=Nh(n,r),i=0;i<s.length;i+=2){var l=s[i],u=s[i+1];l==="style"?Am(t,u):l==="dangerouslySetInnerHTML"?Im(t,u):l==="children"?eo(t,u):dh(t,l,u,e)}switch(n){case"input":kh(t,r);break;case"textarea":km(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?Ai(t,!!r.multiple,s,!1):n!==!!r.multiple&&(r.defaultValue!=null?Ai(t,!!r.multiple,r.defaultValue,!0):Ai(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(j(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:t=e.stateNode,t.hydrate&&(t.hydrate=!1,Ym(t.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&($c=ht(),D0(e.child,!0)),b0(e);return;case 19:b0(e);return;case 17:return;case 23:case 24:D0(e,e.memoizedState!==null);return}throw Error(j(163))}function b0(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Zw),e.forEach(function(r){var i=hS.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function tS(n,e){return n!==null&&(n=n.memoizedState,n===null||n.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var nS=Math.ceil,iu=Hr.ReactCurrentDispatcher,Yc=Hr.ReactCurrentOwner,ue=0,mt=null,qe=null,dt=0,Jr=0,Qc=cr(0),it=0,su=null,$i=0,Do=0,Ki=0,qc=0,Xc=null,$c=0,Kc=1/0;function Zi(){Kc=ht()+500}var J=null,ou=!1,Zc=null,yn=null,yr=!1,zo=null,Fo=90,Jc=[],ed=[],Un=null,Bo=0,td=null,lu=-1,bn=0,au=0,Go=null,uu=!1;function Rt(){return(ue&48)!=0?ht():lu!==-1?lu:lu=ht()}function _r(n){if(n=n.mode,(n&2)==0)return 1;if((n&4)==0)return ji()===99?1:2;if(bn===0&&(bn=$i),Vw.transition!==0){au!==0&&(au=Xc!==null?Xc.pendingLanes:0),n=bn;var e=4186112&~au;return e&=-e,e===0&&(n=4186112&~n,e=n&-n,e===0&&(e=8192)),e}return n=ji(),(ue&4)!=0&&n===98?n=ka(12,bn):(n=Y2(n),n=ka(n,bn)),n}function wr(n,e,t){if(50<Bo)throw Bo=0,td=null,Error(j(185));if(n=fu(n,e),n===null)return null;Pa(n,e,t),n===mt&&(Ki|=e,it===4&&Ji(n,dt));var r=ji();e===1?(ue&8)!=0&&(ue&48)==0?nd(n):(Vt(n,t),ue===0&&(Zi(),pn())):((ue&4)==0||r!==98&&r!==99||(Un===null?Un=new Set([n]):Un.add(n)),Vt(n,t)),Xc=n}function fu(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}function Vt(n,e){for(var t=n.callbackNode,r=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,l=n.pendingLanes;0<l;){var u=31-ur(l),h=1<<u,c=s[u];if(c===-1){if((h&r)==0||(h&i)!=0){c=e,Mi(h);var m=Ie;s[u]=10<=m?c+250:6<=m?c+5e3:-1}}else c<=e&&(n.expiredLanes|=h);l&=~h}if(r=fo(n,n===mt?dt:0),e=Ie,r===0)t!==null&&(t!==_c&&vc(t),n.callbackNode=null,n.callbackPriority=0);else{if(t!==null){if(n.callbackPriority===e)return;t!==_c&&vc(t)}e===15?(t=nd.bind(null,n),Fn===null?(Fn=[t],ba=mc(Ua,Yv)):Fn.push(t),t=_c):e===14?t=xo(99,nd.bind(null,n)):(t=Q2(e),t=xo(t,H0.bind(null,n))),n.callbackPriority=e,n.callbackNode=t}}function H0(n){if(lu=-1,au=bn=0,(ue&48)!=0)throw Error(j(327));var e=n.callbackNode;if(Sr()&&n.callbackNode!==e)return null;var t=fo(n,n===mt?dt:0);if(t===0)return null;var r=t,i=ue;ue|=16;var s=Y0();(mt!==n||dt!==r)&&(Zi(),es(n,r));do try{sS();break}catch(u){j0(n,u)}while(1);if(Sc(),iu.current=s,ue=i,qe!==null?r=0:(mt=null,dt=0,r=it),($i&Ki)!=0)es(n,0);else if(r!==0){if(r===2&&(ue|=64,n.hydrate&&(n.hydrate=!1,cc(n.containerInfo)),t=Jm(n),t!==0&&(r=Uo(n,t))),r===1)throw e=su,es(n,0),Ji(n,t),Vt(n,ht()),e;switch(n.finishedWork=n.current.alternate,n.finishedLanes=t,r){case 0:case 1:throw Error(j(345));case 2:ei(n);break;case 3:if(Ji(n,t),(t&62914560)===t&&(r=$c+500-ht(),10<r)){if(fo(n,0)!==0)break;if(i=n.suspendedLanes,(i&t)!==t){Rt(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Nv(ei.bind(null,n),r);break}ei(n);break;case 4:if(Ji(n,t),(t&4186112)===t)break;for(r=n.eventTimes,i=-1;0<t;){var l=31-ur(t);s=1<<l,l=r[l],l>i&&(i=l),t&=~s}if(t=i,t=ht()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*nS(t/1960))-t,10<t){n.timeoutHandle=Nv(ei.bind(null,n),t);break}ei(n);break;case 5:ei(n);break;default:throw Error(j(329))}}return Vt(n,ht()),n.callbackNode===e?H0.bind(null,n):null}function Ji(n,e){for(e&=~qc,e&=~Ki,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ur(e),r=1<<t;n[t]=-1,e&=~r}}function nd(n){if((ue&48)!=0)throw Error(j(327));if(Sr(),n===mt&&(n.expiredLanes&dt)!=0){var e=dt,t=Uo(n,e);($i&Ki)!=0&&(e=fo(n,e),t=Uo(n,e))}else e=fo(n,0),t=Uo(n,e);if(n.tag!==0&&t===2&&(ue|=64,n.hydrate&&(n.hydrate=!1,cc(n.containerInfo)),e=Jm(n),e!==0&&(t=Uo(n,e))),t===1)throw t=su,es(n,0),Ji(n,e),Vt(n,ht()),t;return n.finishedWork=n.current.alternate,n.finishedLanes=e,ei(n),Vt(n,ht()),null}function rS(){if(Un!==null){var n=Un;Un=null,n.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Vt(e,ht())})}pn()}function V0(n,e){var t=ue;ue|=1;try{return n(e)}finally{ue=t,ue===0&&(Zi(),pn())}}function W0(n,e){var t=ue;ue&=-2,ue|=8;try{return n(e)}finally{ue=t,ue===0&&(Zi(),pn())}}function hu(n,e){Be(Qc,Jr),Jr|=e,$i|=e}function rd(){Jr=Qc.current,Le(Qc)}function es(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Fw(t)),qe!==null)for(t=qe.return;t!==null;){var r=t;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ba();break;case 3:qi(),Le(Et),Le(ft),Rc();break;case 5:Pc(r);break;case 4:qi();break;case 13:Le(Ge);break;case 19:Le(Ge);break;case 10:xc(r);break;case 23:case 24:rd()}t=t.return}mt=n,qe=Er(n.current,null),dt=Jr=$i=e,it=0,su=null,qc=Ki=Do=0}function j0(n,e){do{var t=qe;try{if(Sc(),Io.current=nu,Za){for(var r=Ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Za=!1}if(Ro=0,rt=ct=Ve=null,Ao=!1,Yc.current=null,t===null||t.return===null){it=1,su=e,qe=null;break}e:{var s=n,l=t.return,u=t,h=e;if(e=dt,u.flags|=2048,u.firstEffect=u.lastEffect=null,h!==null&&typeof h=="object"&&typeof h.then=="function"){var c=h;if((u.mode&2)==0){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var _=(Ge.current&1)!=0,v=l;do{var E;if(E=v.tag===13){var x=v.memoizedState;if(x!==null)E=x.dehydrated!==null;else{var P=v.memoizedProps;E=P.fallback===void 0?!1:P.unstable_avoidThisFallback!==!0?!0:!_}}if(E){var w=v.updateQueue;if(w===null){var S=new Set;S.add(c),v.updateQueue=S}else w.add(c);if((v.mode&2)==0){if(v.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var C=gr(-1,1);C.tag=2,mr(u,C)}u.lanes|=1;break e}h=void 0,u=e;var k=s.pingCache;if(k===null?(k=s.pingCache=new Kw,h=new Set,k.set(c,h)):(h=k.get(c),h===void 0&&(h=new Set,k.set(c,h))),!h.has(u)){h.add(u);var R=fS.bind(null,s,c,u);c.then(R,R)}v.flags|=4096,v.lanes=e;break e}v=v.return}while(v!==null);h=Error((Ri(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}it!==5&&(it=2),h=bc(h,u),v=l;do{switch(v.tag){case 3:s=h,v.flags|=4096,e&=-e,v.lanes|=e;var F=N0(v,s,e);Xv(v,F);break e;case 1:s=h;var N=v.type,U=v.stateNode;if((v.flags&64)==0&&(typeof N.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(yn===null||!yn.has(U)))){v.flags|=4096,e&=-e,v.lanes|=e;var B=O0(v,s,e);Xv(v,B);break e}}v=v.return}while(v!==null)}q0(t)}catch(D){e=D,qe===t&&t!==null&&(qe=t=t.return);continue}break}while(1)}function Y0(){var n=iu.current;return iu.current=nu,n===null?nu:n}function Uo(n,e){var t=ue;ue|=16;var r=Y0();mt===n&&dt===e||es(n,e);do try{iS();break}catch(i){j0(n,i)}while(1);if(Sc(),ue=t,iu.current=r,qe!==null)throw Error(j(261));return mt=null,dt=0,it}function iS(){for(;qe!==null;)Q0(qe)}function sS(){for(;qe!==null&&!Uw();)Q0(qe)}function Q0(n){var e=K0(n.alternate,n,Jr);n.memoizedProps=n.pendingProps,e===null?q0(n):qe=e,Yc.current=null}function q0(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&2048)==0){if(t=Xw(t,e,Jr),t!==null){qe=t;return}if(t=e,t.tag!==24&&t.tag!==23||t.memoizedState===null||(Jr&1073741824)!=0||(t.mode&4)==0){for(var r=0,i=t.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;t.childLanes=r}n!==null&&(n.flags&2048)==0&&(n.firstEffect===null&&(n.firstEffect=e.firstEffect),e.lastEffect!==null&&(n.lastEffect!==null&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.flags&&(n.lastEffect!==null?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(t=$w(e),t!==null){t.flags&=2047,qe=t;return}n!==null&&(n.firstEffect=n.lastEffect=null,n.flags|=2048)}if(e=e.sibling,e!==null){qe=e;return}qe=e=n}while(e!==null);it===0&&(it=5)}function ei(n){var e=ji();return Xr(99,oS.bind(null,n,e)),null}function oS(n,e){do Sr();while(zo!==null);if((ue&48)!=0)throw Error(j(327));var t=n.finishedWork;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(j(177));n.callbackNode=null;var r=t.lanes|t.childLanes,i=r,s=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;for(var l=n.eventTimes,u=n.expirationTimes;0<s;){var h=31-ur(s),c=1<<h;i[h]=0,l[h]=-1,u[h]=-1,s&=~c}if(Un!==null&&(r&24)==0&&Un.has(n)&&Un.delete(n),n===mt&&(qe=mt=null,dt=0),1<t.flags?t.lastEffect!==null?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,r!==null){if(i=ue,ue|=32,Yc.current=null,uc=Ta,l=_v(),sc(l)){if("selectionStart"in l)u={start:l.selectionStart,end:l.selectionEnd};else e:if(u=(u=l.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&c.rangeCount!==0){u=c.anchorNode,s=c.anchorOffset,h=c.focusNode,c=c.focusOffset;try{u.nodeType,h.nodeType}catch{u=null;break e}var m=0,_=-1,v=-1,E=0,x=0,P=l,w=null;t:for(;;){for(var S;P!==u||s!==0&&P.nodeType!==3||(_=m+s),P!==h||c!==0&&P.nodeType!==3||(v=m+c),P.nodeType===3&&(m+=P.nodeValue.length),(S=P.firstChild)!==null;)w=P,P=S;for(;;){if(P===l)break t;if(w===u&&++E===s&&(_=m),w===h&&++x===c&&(v=m),(S=P.nextSibling)!==null)break;P=w,w=P.parentNode}P=S}u=_===-1||v===-1?null:{start:_,end:v}}else u=null;u=u||{start:0,end:0}}else u=null;fc={focusedElem:l,selectionRange:u},Ta=!1,Go=null,uu=!1,J=r;do try{lS()}catch(D){if(J===null)throw Error(j(330));xr(J,D),J=J.nextEffect}while(J!==null);Go=null,J=r;do try{for(l=n;J!==null;){var C=J.flags;if(C&16&&eo(J.stateNode,""),C&128){var k=J.alternate;if(k!==null){var R=k.ref;R!==null&&(typeof R=="function"?R(null):R.current=null)}}switch(C&1038){case 2:G0(J),J.flags&=-3;break;case 6:G0(J),J.flags&=-3,jc(J.alternate,J);break;case 1024:J.flags&=-1025;break;case 1028:J.flags&=-1025,jc(J.alternate,J);break;case 4:jc(J.alternate,J);break;case 8:u=J,U0(l,u);var F=u.alternate;F0(u),F!==null&&F0(F)}J=J.nextEffect}}catch(D){if(J===null)throw Error(j(330));xr(J,D),J=J.nextEffect}while(J!==null);if(R=fc,k=_v(),C=R.focusedElem,l=R.selectionRange,k!==C&&C&&C.ownerDocument&&yv(C.ownerDocument.documentElement,C)){for(l!==null&&sc(C)&&(k=l.start,R=l.end,R===void 0&&(R=k),"selectionStart"in C?(C.selectionStart=k,C.selectionEnd=Math.min(R,C.value.length)):(R=(k=C.ownerDocument||document)&&k.defaultView||window,R.getSelection&&(R=R.getSelection(),u=C.textContent.length,F=Math.min(l.start,u),l=l.end===void 0?F:Math.min(l.end,u),!R.extend&&F>l&&(u=l,l=F,F=u),u=vv(C,F),s=vv(C,l),u&&s&&(R.rangeCount!==1||R.anchorNode!==u.node||R.anchorOffset!==u.offset||R.focusNode!==s.node||R.focusOffset!==s.offset)&&(k=k.createRange(),k.setStart(u.node,u.offset),R.removeAllRanges(),F>l?(R.addRange(k),R.extend(s.node,s.offset)):(k.setEnd(s.node,s.offset),R.addRange(k)))))),k=[],R=C;R=R.parentNode;)R.nodeType===1&&k.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<k.length;C++)R=k[C],R.element.scrollLeft=R.left,R.element.scrollTop=R.top}Ta=!!uc,fc=uc=null,n.current=t,J=r;do try{for(C=n;J!==null;){var N=J.flags;if(N&36&&eS(C,J.alternate,J),N&128){k=void 0;var U=J.ref;if(U!==null){var B=J.stateNode;switch(J.tag){case 5:k=B;break;default:k=B}typeof U=="function"?U(k):U.current=k}}J=J.nextEffect}}catch(D){if(J===null)throw Error(j(330));xr(J,D),J=J.nextEffect}while(J!==null);J=null,Hw(),ue=i}else n.current=t;if(yr)yr=!1,zo=n,Fo=e;else for(J=r;J!==null;)e=J.nextEffect,J.nextEffect=null,J.flags&8&&(N=J,N.sibling=null,N.stateNode=null),J=e;if(r=n.pendingLanes,r===0&&(yn=null),r===1?n===td?Bo++:(Bo=0,td=n):Bo=0,t=t.stateNode,qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(gc,t,void 0,(t.current.flags&64)==64)}catch{}if(Vt(n,ht()),ou)throw ou=!1,n=Zc,Zc=null,n;return(ue&8)!=0||pn(),null}function lS(){for(;J!==null;){var n=J.alternate;uu||Go===null||((J.flags&8)!=0?Gm(J,Go)&&(uu=!0):J.tag===13&&tS(n,J)&&Gm(J,Go)&&(uu=!0));var e=J.flags;(e&256)!=0&&Jw(n,J),(e&512)==0||yr||(yr=!0,xo(97,function(){return Sr(),null})),J=J.nextEffect}}function Sr(){if(Fo!==90){var n=97<Fo?97:Fo;return Fo=90,Xr(n,uS)}return!1}function aS(n,e){Jc.push(e,n),yr||(yr=!0,xo(97,function(){return Sr(),null}))}function X0(n,e){ed.push(e,n),yr||(yr=!0,xo(97,function(){return Sr(),null}))}function uS(){if(zo===null)return!1;var n=zo;if(zo=null,(ue&48)!=0)throw Error(j(331));var e=ue;ue|=32;var t=ed;ed=[];for(var r=0;r<t.length;r+=2){var i=t[r],s=t[r+1],l=i.destroy;if(i.destroy=void 0,typeof l=="function")try{l()}catch(h){if(s===null)throw Error(j(330));xr(s,h)}}for(t=Jc,Jc=[],r=0;r<t.length;r+=2){i=t[r],s=t[r+1];try{var u=i.create;i.destroy=u()}catch(h){if(s===null)throw Error(j(330));xr(s,h)}}for(u=n.current.firstEffect;u!==null;)n=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=n;return ue=e,pn(),!0}function $0(n,e,t){e=bc(t,e),e=N0(n,e,1),mr(n,e),e=Rt(),n=fu(n,1),n!==null&&(Pa(n,1,e),Vt(n,e))}function xr(n,e){if(n.tag===3)$0(n,n,e);else for(var t=n.return;t!==null;){if(t.tag===3){$0(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yn===null||!yn.has(r))){n=bc(e,n);var i=O0(t,n,1);if(mr(t,i),i=Rt(),t=fu(t,1),t!==null)Pa(t,1,i),Vt(t,i);else if(typeof r.componentDidCatch=="function"&&(yn===null||!yn.has(r)))try{r.componentDidCatch(e,n)}catch{}break}}t=t.return}}function fS(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Rt(),n.pingedLanes|=n.suspendedLanes&t,mt===n&&(dt&t)===t&&(it===4||it===3&&(dt&62914560)===dt&&500>ht()-$c?es(n,0):qc|=t),Vt(n,e)}function hS(n,e){var t=n.stateNode;t!==null&&t.delete(e),e=0,e===0&&(e=n.mode,(e&2)==0?e=1:(e&4)==0?e=ji()===99?1:2:(bn===0&&(bn=$i),e=Di(62914560&~bn),e===0&&(e=4194304))),t=Rt(),n=fu(n,e),n!==null&&(Pa(n,e,t),Vt(n,t))}var K0;K0=function(n,e,t){var r=e.lanes;if(n!==null)if(n.memoizedProps!==e.pendingProps||Et.current)en=!0;else if((t&r)!=0)en=(n.flags&16384)!=0;else{switch(en=!1,e.tag){case 3:x0(e),Ic();break;case 5:r0(e);break;case 1:Ct(e.type)&&Ga(e);break;case 4:kc(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;Be(Ha,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(t&e.child.childLanes)!=0?E0(n,e,t):(Be(Ge,Ge.current&1),e=Gn(n,e,t),e!==null?e.sibling:null);Be(Ge,Ge.current&1);break;case 19:if(r=(t&e.childLanes)!=0,(n.flags&64)!=0){if(r)return I0(n,e,t);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Ge,Ge.current),r)break;return null;case 23:case 24:return e.lanes=0,zc(n,e,t)}return Gn(n,e,t)}else en=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,i=Wi(e,ft.current),Qi(e,t),i=Lc(null,e,r,n,i,t),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ct(r)){var s=!0;Ga(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ec(e);var l=r.getDerivedStateFromProps;typeof l=="function"&&ja(e,r,l,n),i.updater=Ya,e.stateNode=i,i._reactInternals=e,Cc(e,r,n,t),e=Bc(null,e,r,!0,s,t)}else e.tag=0,Pt(null,e,i,t),e=e.child;return e;case 16:i=e.elementType;e:{switch(n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=dS(i),n=Jt(i,n),s){case 0:e=Fc(null,e,i,n,t);break e;case 1:e=S0(null,e,i,n,t);break e;case 11:e=v0(null,e,i,n,t);break e;case 14:e=y0(null,e,i,Jt(i.type,n),r,t);break e}throw Error(j(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Fc(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),S0(n,e,r,i,t);case 3:if(x0(e),r=e.updateQueue,n===null||r===null)throw Error(j(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,qv(n,e),Eo(e,r,null,t),r=e.memoizedState.element,r===i)Ic(),e=Gn(n,e,t);else{if(i=e.stateNode,(s=i.hydrate)&&(vr=Ui(e.stateNode.containerInfo.firstChild),Bn=e,s=mn=!0),s){if(n=i.mutableSourceEagerHydrationData,n!=null)for(i=0;i<n.length;i+=2)s=n[i],s._workInProgressVersionPrimary=n[i+1],Xi.push(s);for(t=n0(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|1024,t=t.sibling}else Pt(n,e,r,t),Ic();e=e.child}return e;case 5:return r0(e),n===null&&Tc(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,l=i.children,hc(r,i)?l=null:s!==null&&hc(r,s)&&(e.flags|=16),w0(n,e),Pt(n,e,l,t),e.child;case 6:return n===null&&Tc(e),null;case 13:return E0(n,e,t);case 4:return kc(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Xa(e,null,r,t):Pt(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),v0(n,e,r,i,t);case 7:return Pt(n,e,e.pendingProps,t),e.child;case 8:return Pt(n,e,e.pendingProps.children,t),e.child;case 12:return Pt(n,e,e.pendingProps.children,t),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,l=e.memoizedProps,s=i.value;var u=e.type._context;if(Be(Ha,u._currentValue),u._currentValue=s,l!==null)if(u=l.value,s=Ut(u,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(u,s):1073741823)|0,s===0){if(l.children===i.children&&!Et.current){e=Gn(n,e,t);break e}}else for(u=e.child,u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){l=u.child;for(var c=h.firstContext;c!==null;){if(c.context===r&&(c.observedBits&s)!=0){u.tag===1&&(c=gr(-1,t&-t),c.tag=2,mr(u,c)),u.lanes|=t,c=u.alternate,c!==null&&(c.lanes|=t),Qv(u.return,t),h.lanes|=t;break}c=c.next}}else l=u.tag===10&&u.type===e.type?null:u.child;if(l!==null)l.return=u;else for(l=u;l!==null;){if(l===e){l=null;break}if(u=l.sibling,u!==null){u.return=l.return,l=u;break}l=l.return}u=l}Pt(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,Qi(e,t),i=bt(i,s.unstable_observedBits),r=r(i),e.flags|=1,Pt(n,e,r,t),e.child;case 14:return i=e.type,s=Jt(i,e.pendingProps),s=Jt(i.type,s),y0(n,e,i,s,r,t);case 15:return _0(n,e,e.type,e.pendingProps,r,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Ct(r)?(n=!0,Ga(e)):n=!1,Qi(e,t),Jv(e,r,i),Cc(e,r,i,t),Bc(null,e,r,!0,n,t);case 19:return I0(n,e,t);case 23:return zc(n,e,t);case 24:return zc(n,e,t)}throw Error(j(156,e.tag))};function cS(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(n,e,t,r){return new cS(n,e,t,r)}function id(n){return n=n.prototype,!(!n||!n.isReactComponent)}function dS(n){if(typeof n=="function")return id(n)?1:0;if(n!=null){if(n=n.$$typeof,n===da)return 11;if(n===ga)return 14}return 2}function Er(n,e){var t=n.alternate;return t===null?(t=Wt(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function cu(n,e,t,r,i,s){var l=2;if(r=n,typeof n=="function")id(n)&&(l=1);else if(typeof n=="string")l=5;else e:switch(n){case ir:return ts(t.children,i,s,e);case vm:l=8,i|=16;break;case ph:l=8,i|=1;break;case $s:return n=Wt(12,t,e,i|8),n.elementType=$s,n.type=$s,n.lanes=s,n;case Ks:return n=Wt(13,t,e,i),n.type=Ks,n.elementType=Ks,n.lanes=s,n;case pa:return n=Wt(19,t,e,i),n.elementType=pa,n.lanes=s,n;case wh:return sd(t,i,s,e);case Sh:return n=Wt(24,t,e,i),n.elementType=Sh,n.lanes=s,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case gh:l=10;break e;case mh:l=9;break e;case da:l=11;break e;case ga:l=14;break e;case vh:l=16,r=null;break e;case yh:l=22;break e}throw Error(j(130,n==null?n:typeof n,""))}return e=Wt(l,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function ts(n,e,t,r){return n=Wt(7,n,r,e),n.lanes=t,n}function sd(n,e,t,r){return n=Wt(23,n,r,e),n.elementType=wh,n.lanes=t,n}function od(n,e,t){return n=Wt(6,n,null,e),n.lanes=t,n}function ld(n,e,t){return e=Wt(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function pS(n,e,t){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Qh(0),this.expirationTimes=Qh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qh(0),this.mutableSourceEagerHydrationData=null}function gS(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vr,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function du(n,e,t,r){var i=e.current,s=Rt(),l=_r(i);e:if(t){t=t._reactInternals;t:{if(jr(t)!==t||t.tag!==1)throw Error(j(170));var u=t;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Ct(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(j(171))}if(t.tag===1){var h=t.type;if(Ct(h)){t=Fv(t,h,u);break e}}t=u}else t=dr;return e.context===null?e.context=t:e.pendingContext=t,e=gr(s,l),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),mr(i,e),wr(i,l,s),l}function ad(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Z0(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function ud(n,e){Z0(n,e),(n=n.alternate)&&Z0(n,e)}function mS(){return null}function fd(n,e,t){var r=t!=null&&t.hydrationOptions!=null&&t.hydrationOptions.mutableSources||null;if(t=new pS(n,e,t!=null&&t.hydrate===!0),e=Wt(3,null,null,e===2?7:e===1?3:0),t.current=e,e.stateNode=t,Ec(e),n[bi]=t.current,Pv(n.nodeType===8?n.parentNode:n),r)for(n=0;n<r.length;n++){e=r[n];var i=e._getVersion;i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=t}fd.prototype.render=function(n){du(n,this._internalRoot,null,null)};fd.prototype.unmount=function(){var n=this._internalRoot,e=n.containerInfo;du(null,n,null,function(){e[bi]=null})};function bo(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function vS(n,e){if(e||(e=n?n.nodeType===9?n.documentElement:n.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var t;t=n.lastChild;)n.removeChild(t);return new fd(n,0,e?{hydrate:!0}:void 0)}function pu(n,e,t,r,i){var s=t._reactRootContainer;if(s){var l=s._internalRoot;if(typeof i=="function"){var u=i;i=function(){var c=ad(l);u.call(c)}}du(e,l,n,i)}else{if(s=t._reactRootContainer=vS(t,r),l=s._internalRoot,typeof i=="function"){var h=i;i=function(){var c=ad(l);h.call(c)}}W0(function(){du(e,l,n,i)})}return ad(l)}Um=function(n){if(n.tag===13){var e=Rt();wr(n,4,e),ud(n,4)}};bh=function(n){if(n.tag===13){var e=Rt();wr(n,67108864,e),ud(n,67108864)}};bm=function(n){if(n.tag===13){var e=Rt(),t=_r(n);wr(n,t,e),ud(n,t)}};Hm=function(n,e){return e()};Mh=function(n,e,t){switch(e){case"input":if(kh(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Fa(r);if(!i)throw Error(j(90));wm(r),kh(r,i)}}}break;case"textarea":km(n,t);break;case"select":e=t.value,e!=null&&Ai(n,!!t.multiple,e,!1)}};Dh=V0;Mm=function(n,e,t,r,i){var s=ue;ue|=4;try{return Xr(98,n.bind(null,e,t,r,i))}finally{ue=s,ue===0&&(Zi(),pn())}};zh=function(){(ue&49)==0&&(rS(),Sr())};Dm=function(n,e){var t=ue;ue|=2;try{return n(e)}finally{ue=t,ue===0&&(Zi(),pn())}};function J0(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bo(e))throw Error(j(200));return gS(n,e,null,t)}var yS={Events:[So,Hi,Fa,Nm,Om,Sr,{current:!1}]},Ho={findFiberByHostInstance:Yr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},_S={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Bm(n),n===null?null:n.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||mS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gu.isDisabled&&gu.supportsFiber)try{gc=gu.inject(_S),qr=gu}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yS;Gt.createPortal=J0;Gt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(j(188)):Error(j(268,Object.keys(n)));return n=Bm(e),n=n===null?null:n.stateNode,n};Gt.flushSync=function(n,e){var t=ue;if((t&48)!=0)return n(e);ue|=1;try{if(n)return Xr(99,n.bind(null,e))}finally{ue=t,pn()}};Gt.hydrate=function(n,e,t){if(!bo(e))throw Error(j(200));return pu(null,n,e,!0,t)};Gt.render=function(n,e,t){if(!bo(e))throw Error(j(200));return pu(null,n,e,!1,t)};Gt.unmountComponentAtNode=function(n){if(!bo(n))throw Error(j(40));return n._reactRootContainer?(W0(function(){pu(null,null,n,!1,function(){n._reactRootContainer=null,n[bi]=null})}),!0):!1};Gt.unstable_batchedUpdates=V0;Gt.unstable_createPortal=function(n,e){return J0(n,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Gt.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!bo(t))throw Error(j(200));if(n==null||n._reactInternals===void 0)throw Error(j(38));return pu(n,e,t,!1,r)};Gt.version="17.0.2";function ey(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ey)}catch(n){console.error(n)}}ey(),hm.exports=Gt;var hP=hm.exports,wS=Math.PI/180;function SS(){return typeof window!="undefined"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const ns=typeof global!="undefined"?global:typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"?self:{},ee={_global:ns,version:"8.3.2",isBrowser:SS(),isUnminified:/param/.test(function(n){}.toString()),dblClickWindow:400,getAngle(n){return ee.angleDeg?n*wS:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window!="undefined"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return ee.DD.isDragging},isDragReady(){return!!ee.DD.node},document:ns.document,_injectGlobal(n){ns.Konva=n}},Me=n=>{ee[n.prototype.getClassName()]=n};ee._injectGlobal(ee);class At{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new At(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){var t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){var t=Math.cos(e),r=Math.sin(e),i=this.m[0]*t+this.m[2]*r,s=this.m[1]*t+this.m[3]*r,l=this.m[0]*-r+this.m[2]*t,u=this.m[1]*-r+this.m[3]*t;return this.m[0]=i,this.m[1]=s,this.m[2]=l,this.m[3]=u,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){var r=this.m[0]+this.m[2]*t,i=this.m[1]+this.m[3]*t,s=this.m[2]+this.m[0]*e,l=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=s,this.m[3]=l,this}multiply(e){var t=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],s=this.m[1]*e.m[2]+this.m[3]*e.m[3],l=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],u=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=l,this.m[5]=u,this}invert(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,r=-this.m[1]*e,i=-this.m[2]*e,s=this.m[0]*e,l=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),u=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=l,this.m[5]=u,this}getMatrix(){return this.m}setAbsolutePosition(e,t){var r=this.m[0],i=this.m[1],s=this.m[2],l=this.m[3],u=this.m[4],h=this.m[5],c=(r*(t-h)-i*(e-u))/(r*l-i*s),m=(e-u-s*c)/r;return this.translate(m,c)}decompose(){var e=this.m[0],t=this.m[1],r=this.m[2],i=this.m[3],s=this.m[4],l=this.m[5],u=e*i-t*r;let h={x:s,y:l,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||t!=0){var c=Math.sqrt(e*e+t*t);h.rotation=t>0?Math.acos(e/c):-Math.acos(e/c),h.scaleX=c,h.scaleY=u/c,h.skewX=(e*r+t*i)/u,h.skewY=0}else if(r!=0||i!=0){var m=Math.sqrt(r*r+i*i);h.rotation=Math.PI/2-(i>0?Math.acos(-r/m):-Math.acos(r/m)),h.scaleX=u/m,h.scaleY=m,h.skewX=0,h.skewY=(e*r+t*i)/u}return h.rotation=O._getRotation(h.rotation),h}}var xS="[object Array]",ES="[object Number]",CS="[object String]",kS="[object Boolean]",PS=Math.PI/180,TS=180/Math.PI,hd="#",IS="",RS="0",AS="Konva warning: ",ty="Konva error: ",LS="rgb(",cd={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},NS=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,mu=[];const OS=typeof requestAnimationFrame!="undefined"&&requestAnimationFrame||function(n){setTimeout(n,60)},O={_isElement(n){return!!(n&&n.nodeType==1)},_isFunction(n){return!!(n&&n.constructor&&n.call&&n.apply)},_isPlainObject(n){return!!n&&n.constructor===Object},_isArray(n){return Object.prototype.toString.call(n)===xS},_isNumber(n){return Object.prototype.toString.call(n)===ES&&!isNaN(n)&&isFinite(n)},_isString(n){return Object.prototype.toString.call(n)===CS},_isBoolean(n){return Object.prototype.toString.call(n)===kS},isObject(n){return n instanceof Object},isValidSelector(n){if(typeof n!="string")return!1;var e=n[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(n){return n===0||n>0?1:-1},requestAnimFrame(n){mu.push(n),mu.length===1&&OS(function(){const e=mu;mu=[],e.forEach(function(t){t()})})},createCanvasElement(){var n=document.createElement("canvas");try{n.style=n.style||{}}catch{}return n},createImageElement(){return document.createElement("img")},_isInDocument(n){for(;n=n.parentNode;)if(n==document)return!0;return!1},_urlToImage(n,e){var t=O.createImageElement();t.onload=function(){e(t)},t.src=n},_rgbToHex(n,e,t){return((1<<24)+(n<<16)+(e<<8)+t).toString(16).slice(1)},_hexToRgb(n){n=n.replace(hd,IS);var e=parseInt(n,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){for(var n=(Math.random()*16777215<<0).toString(16);n.length<6;)n=RS+n;return hd+n},getRGB(n){var e;return n in cd?(e=cd[n],{r:e[0],g:e[1],b:e[2]}):n[0]===hd?this._hexToRgb(n.substring(1)):n.substr(0,4)===LS?(e=NS.exec(n.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(n){return n=n||"black",O._namedColorToRBA(n)||O._hex3ColorToRGBA(n)||O._hex6ColorToRGBA(n)||O._rgbColorToRGBA(n)||O._rgbaColorToRGBA(n)||O._hslColorToRGBA(n)},_namedColorToRBA(n){var e=cd[n.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(n){if(n.indexOf("rgb(")===0){n=n.match(/rgb\(([^)]+)\)/)[1];var e=n.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(n){if(n.indexOf("rgba(")===0){n=n.match(/rgba\(([^)]+)\)/)[1];var e=n.split(/ *, */).map((t,r)=>t.slice(-1)==="%"?r===3?parseInt(t)/100:parseInt(t)/100*255:Number(t));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA(n){if(n[0]==="#"&&n.length===7)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:1}},_hex3ColorToRGBA(n){if(n[0]==="#"&&n.length===4)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:1}},_hslColorToRGBA(n){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(n)){const[e,...t]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n),r=Number(t[0])/360,i=Number(t[1])/100,s=Number(t[2])/100;let l,u,h;if(i===0)return h=s*255,{r:Math.round(h),g:Math.round(h),b:Math.round(h),a:1};s<.5?l=s*(1+i):l=s+i-s*i;const c=2*s-l,m=[0,0,0];for(let _=0;_<3;_++)u=r+1/3*-(_-1),u<0&&u++,u>1&&u--,6*u<1?h=c+(l-c)*6*u:2*u<1?h=l:3*u<2?h=c+(l-c)*(2/3-u)*6:h=c,m[_]=h*255;return{r:Math.round(m[0]),g:Math.round(m[1]),b:Math.round(m[2]),a:1}}},haveIntersection(n,e){return!(e.x>n.x+n.width||e.x+e.width<n.x||e.y>n.y+n.height||e.y+e.height<n.y)},cloneObject(n){var e={};for(var t in n)this._isPlainObject(n[t])?e[t]=this.cloneObject(n[t]):this._isArray(n[t])?e[t]=this.cloneArray(n[t]):e[t]=n[t];return e},cloneArray(n){return n.slice(0)},degToRad(n){return n*PS},radToDeg(n){return n*TS},_degToRad(n){return O.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),O.degToRad(n)},_radToDeg(n){return O.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),O.radToDeg(n)},_getRotation(n){return ee.angleDeg?O.radToDeg(n):n},_capitalize(n){return n.charAt(0).toUpperCase()+n.slice(1)},throw(n){throw new Error(ty+n)},error(n){console.error(ty+n)},warn(n){!ee.showWarnings||console.warn(AS+n)},each(n,e){for(var t in n)e(t,n[t])},_inRange(n,e,t){return e<=n&&n<t},_getProjectionToSegment(n,e,t,r,i,s){var l,u,h,c=(n-t)*(n-t)+(e-r)*(e-r);if(c==0)l=n,u=e,h=(i-t)*(i-t)+(s-r)*(s-r);else{var m=((i-n)*(t-n)+(s-e)*(r-e))/c;m<0?(l=n,u=e,h=(n-i)*(n-i)+(e-s)*(e-s)):m>1?(l=t,u=r,h=(t-i)*(t-i)+(r-s)*(r-s)):(l=n+m*(t-n),u=e+m*(r-e),h=(l-i)*(l-i)+(u-s)*(u-s))}return[l,u,h]},_getProjectionToLine(n,e,t){var r=O.cloneObject(n),i=Number.MAX_VALUE;return e.forEach(function(s,l){if(!(!t&&l===e.length-1)){var u=e[(l+1)%e.length],h=O._getProjectionToSegment(s.x,s.y,u.x,u.y,n.x,n.y),c=h[0],m=h[1],_=h[2];_<i&&(r.x=c,r.y=m,i=_)}}),r},_prepareArrayForTween(n,e,t){var r,i=[],s=[];if(n.length>e.length){var l=e;e=n,n=l}for(r=0;r<n.length;r+=2)i.push({x:n[r],y:n[r+1]});for(r=0;r<e.length;r+=2)s.push({x:e[r],y:e[r+1]});var u=[];return s.forEach(function(h){var c=O._getProjectionToLine(h,i,t);u.push(c.x),u.push(c.y)}),u},_prepareToStringify(n){var e;n.visitedByCircularReferenceRemoval=!0;for(var t in n)if(!!(n.hasOwnProperty(t)&&n[t]&&typeof n[t]=="object")){if(e=Object.getOwnPropertyDescriptor(n,t),n[t].visitedByCircularReferenceRemoval||O._isElement(n[t]))if(e.configurable)delete n[t];else return null;else if(O._prepareToStringify(n[t])===null)if(e.configurable)delete n[t];else return null}return delete n.visitedByCircularReferenceRemoval,n},_assign(n,e){for(var t in e)n[t]=e[t];return n},_getFirstPointerId(n){return n.touches?n.changedTouches[0].identifier:n.pointerId||999}};function Cr(n){return O._isString(n)?'"'+n+'"':Object.prototype.toString.call(n)==="[object Number]"||O._isBoolean(n)?n:Object.prototype.toString.call(n)}function ny(n){return n>255?255:n<0?0:Math.round(n)}function W(){if(ee.isUnminified)return function(n,e){return O._isNumber(n)||O.warn(Cr(n)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),n}}function ry(n){if(ee.isUnminified)return function(e,t){let r=O._isNumber(e),i=O._isArray(e)&&e.length==n;return!r&&!i&&O.warn(Cr(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or Array<number>('+n+")"),e}}function dd(){if(ee.isUnminified)return function(n,e){var t=O._isNumber(n),r=n==="auto";return t||r||O.warn(Cr(n)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),n}}function rs(){if(ee.isUnminified)return function(n,e){return O._isString(n)||O.warn(Cr(n)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),n}}function iy(){if(ee.isUnminified)return function(n,e){const t=O._isString(n),r=Object.prototype.toString.call(n)==="[object CanvasGradient]"||n&&n.addColorStop;return t||r||O.warn(Cr(n)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),n}}function MS(){if(ee.isUnminified)return function(n,e){return O._isArray(n)?n.forEach(function(t){O._isNumber(t)||O.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")}):O.warn(Cr(n)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),n}}function tn(){if(ee.isUnminified)return function(n,e){var t=n===!0||n===!1;return t||O.warn(Cr(n)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),n}}function DS(n){if(ee.isUnminified)return function(e,t){return O.isObject(e)||O.warn(Cr(e)+' is a not valid value for "'+t+'" attribute. The value should be an object with properties '+n),e}}var Vo="get",Wo="set";const I={addGetterSetter(n,e,t,r,i){I.addGetter(n,e,t),I.addSetter(n,e,r,i),I.addOverloadedGetterSetter(n,e)},addGetter(n,e,t){var r=Vo+O._capitalize(e);n.prototype[r]=n.prototype[r]||function(){var i=this.attrs[e];return i===void 0?t:i}},addSetter(n,e,t,r){var i=Wo+O._capitalize(e);n.prototype[i]||I.overWriteSetter(n,e,t,r)},overWriteSetter(n,e,t,r){var i=Wo+O._capitalize(e);n.prototype[i]=function(s){return t&&s!==void 0&&s!==null&&(s=t.call(this,s,e)),this._setAttr(e,s),r&&r.call(this),this}},addComponentsGetterSetter(n,e,t,r,i){var s=t.length,l=O._capitalize,u=Vo+l(e),h=Wo+l(e),c,m;n.prototype[u]=function(){var v={};for(c=0;c<s;c++)m=t[c],v[m]=this.getAttr(e+l(m));return v};var _=DS(t);n.prototype[h]=function(v){var E=this.attrs[e],x;r&&(v=r.call(this,v)),_&&_.call(this,v,e);for(x in v)!v.hasOwnProperty(x)||this._setAttr(e+l(x),v[x]);return this._fireChangeEvent(e,E,v),i&&i.call(this),this},I.addOverloadedGetterSetter(n,e)},addOverloadedGetterSetter(n,e){var t=O._capitalize(e),r=Wo+t,i=Vo+t;n.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(n,e,t,r){O.error("Adding deprecated "+e);var i=Vo+O._capitalize(e),s=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";n.prototype[i]=function(){O.error(s);var l=this.attrs[e];return l===void 0?t:l},I.addSetter(n,e,r,function(){O.error(s)}),I.addOverloadedGetterSetter(n,e)},backCompat(n,e){O.each(e,function(t,r){var i=n.prototype[r],s=Vo+O._capitalize(t),l=Wo+O._capitalize(t);function u(){i.apply(this,arguments),O.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}n.prototype[t]=u,n.prototype[s]=u,n.prototype[l]=u})},afterSetFilter(){this._filterUpToDate=!1}};function zS(n){var e=[],t=n.length,r=O,i,s;for(i=0;i<t;i++)s=n[i],r._isNumber(s)?s=Math.round(s*1e3)/1e3:r._isString(s)||(s=s+""),e.push(s);return e}var sy=",",FS="(",BS=")",GS="([",US="])",bS=";",HS="()",VS="=",oy=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],WS=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const jS=100;class vu{constructor(e){this.canvas=e,this._context=e._canvas.getContext("2d"),ee.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){var r=this.traceArr,i=r.length,s="",l,u,h,c;for(l=0;l<i;l++)u=r[l],h=u.method,h?(c=u.args,s+=h,e?s+=HS:O._isArray(c[0])?s+=GS+c.join(sy)+US:(t&&(c=c.map(m=>typeof m=="number"?Math.floor(m):m)),s+=FS+c.join(sy)+BS)):(s+=u.property,e||(s+=VS+u.val)),s+=bS;return s}clearTrace(){this.traceArr=[]}_trace(e){var t=this.traceArr,r;t.push(e),r=t.length,r>=jS&&t.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){var t=e.getLineCap();t&&this.setAttr("lineCap",t)}_applyOpacity(e){var t=e.getAbsoluteOpacity();t!==1&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){var t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,r,i,s,l){this._context.arc(e,t,r,i,s,l)}arcTo(e,t,r,i,s){this._context.arcTo(e,t,r,i,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,r,i,s,l){this._context.bezierCurveTo(e,t,r,i,s,l)}clearRect(e,t,r,i){this._context.clearRect(e,t,r,i)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(e,t){var r=arguments;if(r.length===2)return this._context.createImageData(e,t);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,t,r,i){return this._context.createLinearGradient(e,t,r,i)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,r,i,s,l){return this._context.createRadialGradient(e,t,r,i,s,l)}drawImage(e,t,r,i,s,l,u,h,c){var m=arguments,_=this._context;m.length===3?_.drawImage(e,t,r):m.length===5?_.drawImage(e,t,r,i,s):m.length===9&&_.drawImage(e,t,r,i,s,l,u,h,c)}ellipse(e,t,r,i,s,l,u,h){this._context.ellipse(e,t,r,i,s,l,u,h)}isPointInPath(e,t){return this._context.isPointInPath(e,t)}fill(e){e?this._context.fill(e):this._context.fill()}fillRect(e,t,r,i){this._context.fillRect(e,t,r,i)}strokeRect(e,t,r,i){this._context.strokeRect(e,t,r,i)}fillText(e,t,r,i){i?this._context.fillText(e,t,r,i):this._context.fillText(e,t,r)}measureText(e){return this._context.measureText(e)}getImageData(e,t,r,i){return this._context.getImageData(e,t,r,i)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,r,i){this._context.rect(e,t,r,i)}putImageData(e,t,r){this._context.putImageData(e,t,r)}quadraticCurveTo(e,t,r,i){this._context.quadraticCurveTo(e,t,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,r,i,s,l){this._context.setTransform(e,t,r,i,s,l)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,r,i){this._context.strokeText(e,t,r,i)}transform(e,t,r,i,s,l){this._context.transform(e,t,r,i,s,l)}translate(e,t){this._context.translate(e,t)}_enableTrace(){var e=this,t=oy.length,r=this.setAttr,i,s,l=function(u){var h=e[u],c;e[u]=function(){return s=zS(Array.prototype.slice.call(arguments,0)),c=h.apply(e,arguments),e._trace({method:u,args:s}),c}};for(i=0;i<t;i++)l(oy[i]);e.setAttr=function(){r.apply(e,arguments);var u=arguments[0],h=arguments[1];(u==="shadowOffsetX"||u==="shadowOffsetY"||u==="shadowBlur")&&(h=h/this.canvas.getPixelRatio()),e._trace({property:u,val:h})}}_applyGlobalCompositeOperation(e){const t=e.attrs.globalCompositeOperation;var r=!t||t==="source-over";r||this.setAttr("globalCompositeOperation",t)}}WS.forEach(function(n){Object.defineProperty(vu.prototype,n,{get(){return this._context[n]},set(e){this._context[n]=e}})});class YS extends vu{_fillColor(e){var t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){var t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){var t=e.fill(),r=e.getFillPriority();if(t&&r==="color"){this._fillColor(e);return}var i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}var s=e.getFillLinearGradientColorStops();if(s&&r==="linear-gradient"){this._fillLinearGradient(e);return}var l=e.getFillRadialGradientColorStops();if(l&&r==="radial-gradient"){this._fillRadialGradient(e);return}t?this._fillColor(e):i?this._fillPattern(e):s?this._fillLinearGradient(e):l&&this._fillRadialGradient(e)}_strokeLinearGradient(e){var t=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(t.x,t.y,r.x,r.y);if(i){for(var l=0;l<i.length;l+=2)s.addColorStop(i[l],i[l+1]);this.setAttr("strokeStyle",s)}}_stroke(e){var t=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var s=e.getStrokeLinearGradientColorStops();s?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var t,r,i,s=(t=e.getShadowRGBA())!==null&&t!==void 0?t:"black",l=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,u=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},h=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),m=h.x*c,_=h.y*c;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",l*Math.min(Math.abs(m),Math.abs(_))),this.setAttr("shadowOffsetX",u.x*m),this.setAttr("shadowOffsetY",u.y*_)}}class QS extends vu{_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){var t=e.getStrokeScaleEnabled();if(!t){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e);var i=e.hitStrokeWidth(),s=i==="auto"?e.strokeWidth():i;this.setAttr("lineWidth",s),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}}var yu;function qS(){if(yu)return yu;var n=O.createCanvasElement(),e=n.getContext("2d");return yu=function(){var t=ee._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r}(),yu}class _u{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var t=e||{},r=t.pixelRatio||ee.pixelRatio||qS();this.pixelRatio=r,this._canvas=O.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var t=this.pixelRatio,r=this.getContext()._context;r.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var t=this.pixelRatio,r=this.getContext()._context;r.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch{try{return this._canvas.toDataURL()}catch(i){return O.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}I.addGetterSetter(_u,"pixelRatio",void 0,W());class is extends _u{constructor(e={width:0,height:0}){super(e);this.context=new YS(this),this.setSize(e.width,e.height)}}class pd extends _u{constructor(e={width:0,height:0}){super(e);this.hitCanvas=!0,this.context=new QS(this),this.setSize(e.width,e.height)}}const ve={get isDragging(){var n=!1;return ve._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){var n;return ve._dragElements.forEach(e=>{n=e.node}),n},_dragElements:new Map,_drag(n){const e=[];ve._dragElements.forEach((t,r)=>{const{node:i}=t,s=i.getStage();s.setPointersPositions(n),t.pointerId===void 0&&(t.pointerId=O._getFirstPointerId(n));const l=s._changedPointerPositions.find(c=>c.id===t.pointerId);if(!!l){if(t.dragStatus!=="dragging"){var u=i.dragDistance(),h=Math.max(Math.abs(l.x-t.startPointerPos.x),Math.abs(l.y-t.startPointerPos.y));if(h<u||(i.startDrag({evt:n}),!i.isDragging()))return}i._setDragPosition(n,t),e.push(i)}}),e.forEach(t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:n},!0)})},_endDragBefore(n){ve._dragElements.forEach(e=>{const{node:t}=e,r=t.getStage();if(n&&r.setPointersPositions(n),!r._changedPointerPositions.find(l=>l.id===e.pointerId))return;(e.dragStatus==="dragging"||e.dragStatus==="stopped")&&(ve.justDragged=!0,ee._mouseListenClick=!1,ee._touchListenClick=!1,ee._pointerListenClick=!1,e.dragStatus="stopped");const s=e.node.getLayer()||e.node instanceof ee.Stage&&e.node;s&&s.batchDraw()})},_endDragAfter(n){ve._dragElements.forEach((e,t)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:n},!0),e.dragStatus!=="dragging"&&ve._dragElements.delete(t)})}};ee.isBrowser&&(window.addEventListener("mouseup",ve._endDragBefore,!0),window.addEventListener("touchend",ve._endDragBefore,!0),window.addEventListener("mousemove",ve._drag),window.addEventListener("touchmove",ve._drag),window.addEventListener("mouseup",ve._endDragAfter,!1),window.addEventListener("touchend",ve._endDragAfter,!1));var wu="absoluteOpacity",Su="allEventListeners",Hn="absoluteTransform",ly="absoluteScale",jo="canvas",XS="Change",$S="children",KS="konva",gd="listening",ay="mouseenter",uy="mouseleave",fy="set",hy="Shape",xu=" ",cy="stage",kr="transform",ZS="Stage",md="visible",JS=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(xu);let ex=1;class Y{constructor(e){this._id=ex++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===kr||e===Hn)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,t){var r=this._cache.get(e),i=e===kr||e===Hn,s=r===void 0||i&&r.dirty===!0;return s&&(r=t.call(this),this._cache.set(e,r)),r}_calculate(e,t,r){if(!this._attachedDepsListeners.get(e)){const i=t.map(s=>s+"Change.konva").join(xu);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(jo)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Hn&&this.fire("absoluteTransformChange")}clearCache(){return this._cache.delete(jo),this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var t=e||{},r={};(t.x===void 0||t.y===void 0||t.width===void 0||t.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(t.width||r.width),s=Math.ceil(t.height||r.height),l=t.pixelRatio,u=t.x===void 0?r.x:t.x,h=t.y===void 0?r.y:t.y,c=t.offset||0,m=t.drawBorder||!1,_=t.hitCanvasPixelRatio||1;if(!i||!s){O.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}i+=c*2,s+=c*2,u-=c,h-=c;var v=new is({pixelRatio:l,width:i,height:s}),E=new is({pixelRatio:l,width:0,height:0}),x=new pd({pixelRatio:_,width:i,height:s}),P=v.getContext(),w=x.getContext();return x.isCache=!0,v.isCache=!0,this._cache.delete(jo),this._filterUpToDate=!1,t.imageSmoothingEnabled===!1&&(v.getContext()._context.imageSmoothingEnabled=!1,E.getContext()._context.imageSmoothingEnabled=!1),P.save(),w.save(),P.translate(-u,-h),w.translate(-u,-h),this._isUnderCache=!0,this._clearSelfAndDescendantCache(wu),this._clearSelfAndDescendantCache(ly),this.drawScene(v,this),this.drawHit(x,this),this._isUnderCache=!1,P.restore(),w.restore(),m&&(P.save(),P.beginPath(),P.rect(0,0,i,s),P.closePath(),P.setAttr("strokeStyle","red"),P.setAttr("lineWidth",5),P.stroke(),P.restore()),this._cache.set(jo,{scene:v,filter:E,hit:x,x:u,y:h}),this._requestDraw(),this}isCached(){return this._cache.has(jo)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){var r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i,s,l,u,h=this.getAbsoluteTransform(t);return r.forEach(function(c){var m=h.point(c);i===void 0&&(i=l=m.x,s=u=m.y),i=Math.min(i,m.x),s=Math.min(s,m.y),l=Math.max(l,m.x),u=Math.max(u,m.y)}),{x:i,y:s,width:l-i,height:u-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const t=this._getCanvasCache();e.translate(t.x,t.y);var r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){var t=this._getCanvasCache(),r=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e=this.filters(),t=this._getCanvasCache(),r=t.scene,i=t.filter,s=i.getContext(),l,u,h,c;if(e){if(!this._filterUpToDate){var m=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(l=e.length,s.clear(),s.drawImage(r._canvas,0,0,r.getWidth()/m,r.getHeight()/m),u=s.getImageData(0,0,i.getWidth(),i.getHeight()),h=0;h<l;h++){if(c=e[h],typeof c!="function"){O.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,u),s.putImageData(u,0,0)}}catch(_){O.error("Unable to apply filter. "+_.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(e,t){if(this._cache&&this._cache.delete(Su),arguments.length===3)return this._delegate.apply(this,arguments);var r=e.split(xu),i=r.length,s,l,u,h,c;for(s=0;s<i;s++)l=r[s],u=l.split("."),h=u[0],c=u[1]||"",this.eventListeners[h]||(this.eventListeners[h]=[]),this.eventListeners[h].push({name:c,handler:t});return this}off(e,t){var r=(e||"").split(xu),i=r.length,s,l,u,h,c,m;if(this._cache&&this._cache.delete(Su),!e)for(l in this.eventListeners)this._off(l);for(s=0;s<i;s++)if(u=r[s],h=u.split("."),c=h[0],m=h[1],c)this.eventListeners[c]&&this._off(c,m,t);else for(l in this.eventListeners)this._off(l,m,t);return this}dispatchEvent(e){var t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,function(r){t.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,r){var i=this;this.on(e,function(s){for(var l=s.target.findAncestors(t,!0,i),u=0;u<l.length;u++)s=O.cloneObject(s),s.currentTarget=l[u],r.call(l[u],s)})}remove(){return this.isDragging()&&this.stopDrag(),ve._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Hn),this._clearSelfAndDescendantCache(wu),this._clearSelfAndDescendantCache(ly),this._clearSelfAndDescendantCache(cy),this._clearSelfAndDescendantCache(md),this._clearSelfAndDescendantCache(gd)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this}getAttr(e){var t="get"+O._capitalize(e);return O._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),t=[];e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var t,r;if(!e)return this;for(t in e)t!==$S&&(r=fy+O._capitalize(t),O._isFunction(this[r])?this[r](e[t]):this._setAttr(t,e[t]))}),this}isListening(){return this._getCache(gd,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(md,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,t=!1){if(e)return this._isVisible(e)&&this._isListening(e);var r=this.getLayer(),i=!1;ve._dragElements.forEach(l=>{l.dragStatus==="dragging"&&(l.node.nodeType==="Stage"||l.node.getLayer()===r)&&(i=!0)});var s=!t&&!ee.hitOnDragEnabled&&i;return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e=this.getDepth(),t=this,r=0,i,s,l,u;function h(c){for(i=[],s=c.length,l=0;l<s;l++)u=c[l],r++,u.nodeType!==hy&&(i=i.concat(u.getChildren().slice())),u._id===t._id&&(l=s);i.length>0&&i[0].getDepth()<=e&&h(i)}return t.nodeType!==ZS&&h(t.getStage().getChildren()),r}getDepth(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(kr),this._clearSelfAndDescendantCache(Hn)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var t=this.getAbsoluteTransform().copy();return t.invert(),t.point(e)}getAbsolutePosition(e){let t=!1,r=this.parent;for(;r;){if(r.isCached()){t=!0;break}r=r.parent}t&&!e&&(e=!0);var i=this.getAbsoluteTransform(e).getMatrix(),s=new At,l=this.offset();return s.m=i.slice(),s.translate(l.x,l.y),s.getTranslation()}setAbsolutePosition(e){var t=this._clearTransform();this.attrs.x=t.x,this.attrs.y=t.y,delete t.x,delete t.y,this._clearCache(kr);var r=this._getAbsoluteTransform().copy();return r.invert(),r.translate(e.x,e.y),e={x:this.attrs.x+r.getTranslation().x,y:this.attrs.y+r.getTranslation().y},this._setTransform(t),this.setPosition({x:e.x,y:e.y}),this._clearCache(kr),this._clearSelfAndDescendantCache(Hn),this}_setTransform(e){var t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var t=e.x,r=e.y,i=this.x(),s=this.y();return t!==void 0&&(i+=t),r!==void 0&&(s+=r),this.setPosition({x:i,y:s}),this}_eachAncestorReverse(e,t){var r=[],i=this.getParent(),s,l;if(!(t&&t._id===this._id)){for(r.unshift(this);i&&(!t||i._id!==t._id);)r.unshift(i),i=i.parent;for(s=r.length,l=0;l<s;l++)e(r[l])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return O.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return O.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return O.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return O.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return O.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&O.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(wu,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e={},t=this.getAttrs(),r,i,s,l,u;e.attrs={};for(r in t)i=t[r],u=O.isObject(i)&&!O._isPlainObject(i)&&!O._isArray(i),!u&&(s=typeof this[r]=="function"&&this[r],delete t[r],l=s?s.call(this):null,t[r]=i,l!==i&&(e.attrs[r]=i));return e.className=this.getClassName(),O._prepareToStringify(e)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,r){var i=[];t&&this._isMatch(e)&&i.push(this);for(var s=this.parent;s;){if(s===r)return i;s._isMatch(e)&&i.push(s),s=s.parent}return i}isAncestorOf(e){return!1}findAncestor(e,t,r){return this.findAncestors(e,t,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var t=e.replace(/ /g,"").split(","),r=t.length,i,s;for(i=0;i<r;i++)if(s=t[i],O.isValidSelector(s)||(O.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),O.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),O.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(cy,this._getStage)}_getStage(){var e=this.getParent();if(e)return e.getStage()}fire(e,t={},r){return t.target=t.target||this,r?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Hn,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var t;if(e)return t=new At,this._eachAncestorReverse(function(i){var s=i.transformsEnabled();s==="all"?t.multiply(i.getTransform()):s==="position"&&t.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},e),t;t=this._cache.get(Hn)||new At,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();var r=this.transformsEnabled();if(r==="all")t.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,s=this.attrs.y||0,l=this.attrs.offsetX||0,u=this.attrs.offsetY||0;t.translate(i-l,s-u)}return t.dirty=!1,t}getAbsoluteScale(e){for(var t=this;t;)t._isUnderCache&&(e=t),t=t.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(kr,this._getTransform)}_getTransform(){var e,t,r=this._cache.get(kr)||new At;r.reset();var i=this.x(),s=this.y(),l=ee.getAngle(this.rotation()),u=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,h=(t=this.attrs.scaleY)!==null&&t!==void 0?t:1,c=this.attrs.skewX||0,m=this.attrs.skewY||0,_=this.attrs.offsetX||0,v=this.attrs.offsetY||0;return(i!==0||s!==0)&&r.translate(i,s),l!==0&&r.rotate(l),(c!==0||m!==0)&&r.skew(c,m),(u!==1||h!==1)&&r.scale(u,h),(_!==0||v!==0)&&r.translate(-1*_,-1*v),r.dirty=!1,r}clone(e){var t=O.cloneObject(this.attrs),r,i,s,l,u;for(r in e)t[r]=e[r];var h=new this.constructor(t);for(r in this.eventListeners)for(i=this.eventListeners[r],s=i.length,l=0;l<s;l++)u=i[l],u.name.indexOf(KS)<0&&(h.eventListeners[r]||(h.eventListeners[r]=[]),h.eventListeners[r].push(u));return h}_toKonvaCanvas(e){e=e||{};var t=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:t.x,s=e.y!==void 0?e.y:t.y,l=e.pixelRatio||1,u=new is({width:e.width||t.width||(r?r.width():0),height:e.height||t.height||(r?r.height():0),pixelRatio:l}),h=u.getContext();return h.save(),(i||s)&&h.translate(-1*i,-1*s),this.drawScene(u),h.restore(),u}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};var t=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(t,r);return e.callback&&e.callback(i),i}toImage(e){if(!e||!e.callback)throw"callback required for toImage method config argument";var t=e.callback;delete e.callback,O._urlToImage(this.toDataURL(e),function(r){t(r)})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():ee.dragDistance}_off(e,t,r){var i=this.eventListeners[e],s,l,u;for(s=0;s<i.length;s++)if(l=i[s].name,u=i[s].handler,(l!=="konva"||t==="konva")&&(!t||l===t)&&(!r||r===u)){if(i.splice(s,1),i.length===0){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,t,r){this._fire(e+XS,{oldVal:t,newVal:r})}addName(e){if(!this.hasName(e)){var t=this.name(),r=t?t+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const t=this.name();if(!t)return!1;var r=(t||"").split(/\s/g);return r.indexOf(e)!==-1}removeName(e){var t=(this.name()||"").split(/\s/g),r=t.indexOf(e);return r!==-1&&(t.splice(r,1),this.name(t.join(" "))),this}setAttr(e,t){var r=this[fy+O._capitalize(e)];return O._isFunction(r)?r.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(ee.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,t){var r=this.attrs[e];r===t&&!O.isObject(t)||(t==null?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,t),this._requestDraw())}_setComponentAttr(e,t,r){var i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,t,r){t&&this.nodeType===hy&&(t.target=this);var i=(e===ay||e===uy)&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r);if(!i){this._fire(e,t);var s=(e===ay||e===uy)&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!s&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,t,r):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){let t=this._cache.get(Su);if(!t){t={};let i=Object.getPrototypeOf(this);for(;i;){if(!i.eventListeners){i=Object.getPrototypeOf(i);continue}for(var r in i.eventListeners){const s=i.eventListeners[r],l=t[r]||[];t[r]=s.concat(l)}i=Object.getPrototypeOf(i)}this._cache.set(Su,t)}return t[e]}_fire(e,t){t=t||{},t.currentTarget=this,t.type=e;const r=this._getProtoListeners(e);if(r)for(var i=0;i<r.length;i++)r[i].handler.call(this,t);const s=this.eventListeners[e];if(s)for(var i=0;i<s.length;i++)s[i].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var t=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition(),s=r._getPointerById(t)||r._changedPointerPositions[0]||i;ve._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-i.x,y:s.y-i.y},dragStatus:"ready",pointerId:t})}startDrag(e,t=!0){ve._dragElements.has(this._id)||this._createDragElement(e);const r=ve._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){const r=this.getStage()._getPointerById(t.pointerId);if(!!r){var i={x:r.x-t.offset.x,y:r.y-t.offset.y},s=this.dragBoundFunc();if(s!==void 0){const l=s.call(this,i,e);l?i=l:O.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}}stopDrag(e){const t=ve._dragElements.get(this._id);t&&(t.dragStatus="stopped"),ve._endDragBefore(e),ve._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=ve._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){var t=e.evt.button!==void 0,r=!t||ee.dragButtons.indexOf(e.evt.button)>=0;if(!!r&&!this.isDragging()){var i=!1;ve._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(i=!0)}),i||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage();if(!e)return;const t=ve._dragElements.get(this._id),r=t&&t.dragStatus==="dragging",i=t&&t.dragStatus==="ready";r?this.stopDrag():i&&ve._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const t=this.getStage();if(!t)return!1;const r={x:-e.x,y:-e.y,width:t.width()+e.x,height:t.height()+e.y};return O.haveIntersection(r,this.getClientRect())}static create(e,t){return O._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){var r=Y.prototype.getClassName.call(e),i=e.children,s,l,u;t&&(e.attrs.container=t),ee[r]||(O.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const h=ee[r];if(s=new h(e.attrs),i)for(l=i.length,u=0;u<l;u++)s.add(Y._createNode(i[u]));return s}}Y.prototype.nodeType="Node";Y.prototype._attrsAffectingSize=[];Y.prototype.eventListeners={};Y.prototype.on.call(Y.prototype,JS,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(kr),this._clearSelfAndDescendantCache(Hn)});Y.prototype.on.call(Y.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(md)});Y.prototype.on.call(Y.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(gd)});Y.prototype.on.call(Y.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(wu)});const ke=I.addGetterSetter;ke(Y,"zIndex");ke(Y,"absolutePosition");ke(Y,"position");ke(Y,"x",0,W());ke(Y,"y",0,W());ke(Y,"globalCompositeOperation","source-over",rs());ke(Y,"opacity",1,W());ke(Y,"name","",rs());ke(Y,"id","",rs());ke(Y,"rotation",0,W());I.addComponentsGetterSetter(Y,"scale",["x","y"]);ke(Y,"scaleX",1,W());ke(Y,"scaleY",1,W());I.addComponentsGetterSetter(Y,"skew",["x","y"]);ke(Y,"skewX",0,W());ke(Y,"skewY",0,W());I.addComponentsGetterSetter(Y,"offset",["x","y"]);ke(Y,"offsetX",0,W());ke(Y,"offsetY",0,W());ke(Y,"dragDistance",null,W());ke(Y,"width",0,W());ke(Y,"height",0,W());ke(Y,"listening",!0,tn());ke(Y,"preventDefault",!0,tn());ke(Y,"filters",null,function(n){return this._filterUpToDate=!1,n});ke(Y,"visible",!0,tn());ke(Y,"transformsEnabled","all",rs());ke(Y,"size");ke(Y,"dragBoundFunc");ke(Y,"draggable",!1,tn());I.backCompat(Y,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Lt extends Y{constructor(){super(...arguments);this.children=[]}getChildren(e){if(!e)return this.children||[];const t=this.children||[];var r=[];return t.forEach(function(i){e(i)&&r.push(i)}),r}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}var r=e[0];return r.getParent()?(r.moveTo(this),this):(this._validateAdd(r),r.index=this.getChildren().length,r.parent=this,r._clearCaches(),this.getChildren().push(r),this._fire("add",{child:r}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){var r=[];return this._descendants(i=>{const s=i._isMatch(e);return s&&r.push(i),!!(s&&t)}),r}_descendants(e){let t=!1;const r=this.getChildren();for(const i of r){if(t=e(i),t)return!0;if(!!i.hasChildren()&&(t=i._descendants(e),t))return!0}return!1}toObject(){var e=Y.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(t=>{e.children.push(t.toObject())}),e}isAncestorOf(e){for(var t=e.getParent();t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){var t=Y.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){t.add(r.clone())}),t}getAllIntersections(e){var t=[];return this.find("Shape").forEach(function(r){r.isVisible()&&r.intersects(e)&&t.push(r)}),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),!this.isCached()&&((t=this.children)===null||t===void 0||t.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(t,r){t.index=r}),this._requestDraw()}drawScene(e,t){var r=this.getLayer(),i=e||r&&r.getCanvas(),s=i&&i.getContext(),l=this._getCanvasCache(),u=l&&l.scene,h=i&&i.isCache;if(!this.isVisible()&&!h)return this;if(u){s.save();var c=this.getAbsoluteTransform(t).getMatrix();s.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",i,t);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;var r=this.getLayer(),i=e||r&&r.hitCanvas,s=i&&i.getContext(),l=this._getCanvasCache(),u=l&&l.hit;if(u){s.save();var h=this.getAbsoluteTransform(t).getMatrix();s.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",i,t);return this}_drawChildren(e,t,r){var i,s=t&&t.getContext(),l=this.clipWidth(),u=this.clipHeight(),h=this.clipFunc(),c=l&&u||h;const m=r===this;if(c){s.save();var _=this.getAbsoluteTransform(r),v=_.getMatrix();if(s.transform(v[0],v[1],v[2],v[3],v[4],v[5]),s.beginPath(),h)h.call(this,s,this);else{var E=this.clipX(),x=this.clipY();s.rect(E,x,l,u)}s.clip(),v=_.copy().invert().getMatrix(),s.transform(v[0],v[1],v[2],v[3],v[4],v[5])}var P=!m&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";P&&(s.save(),s._applyGlobalCompositeOperation(this)),(i=this.children)===null||i===void 0||i.forEach(function(w){w[e](t,r)}),P&&s.restore(),c&&s.restore()}getClientRect(e){var t;e=e||{};var r=e.skipTransform,i=e.relativeTo,s,l,u,h,c={x:1/0,y:1/0,width:0,height:0},m=this;(t=this.children)===null||t===void 0||t.forEach(function(P){if(!!P.visible()){var w=P.getClientRect({relativeTo:m,skipShadow:e.skipShadow,skipStroke:e.skipStroke});w.width===0&&w.height===0||(s===void 0?(s=w.x,l=w.y,u=w.x+w.width,h=w.y+w.height):(s=Math.min(s,w.x),l=Math.min(l,w.y),u=Math.max(u,w.x+w.width),h=Math.max(h,w.y+w.height)))}});for(var _=this.find("Shape"),v=!1,E=0;E<_.length;E++){var x=_[E];if(x._isVisible(this)){v=!0;break}}return v&&s!==void 0?c={x:s,y:l,width:u-s,height:h-l}:c={x:0,y:0,width:0,height:0},r?c:this._transformedRect(c,i)}}I.addComponentsGetterSetter(Lt,"clip",["x","y","width","height"]);I.addGetterSetter(Lt,"clipX",void 0,W());I.addGetterSetter(Lt,"clipY",void 0,W());I.addGetterSetter(Lt,"clipWidth",void 0,W());I.addGetterSetter(Lt,"clipHeight",void 0,W());I.addGetterSetter(Lt,"clipFunc");const Yo=new Map,dy=ee._global.PointerEvent!==void 0;function vd(n){return Yo.get(n)}function yd(n){return{evt:n,pointerId:n.pointerId}}function py(n,e){return Yo.get(n)===e}function gy(n,e){Qo(n),!!e.getStage()&&(Yo.set(n,e),dy&&e._fire("gotpointercapture",yd(new PointerEvent("gotpointercapture"))))}function Qo(n,e){const t=Yo.get(n);if(!t)return;const r=t.getStage();r&&r.content,Yo.delete(n),dy&&t._fire("lostpointercapture",yd(new PointerEvent("lostpointercapture")))}var tx="Stage",nx="string",my="px",rx="mouseout",vy="mouseleave",yy="mouseover",_y="mouseenter",wy="mousemove",Sy="mousedown",xy="mouseup",qo="pointermove",Xo="pointerdown",ss="pointerup",$o="pointercancel",ix="lostpointercapture",Eu="pointerout",Cu="pointerleave",ku="pointerover",Pu="pointerenter",_d="contextmenu",Ey="touchstart",Cy="touchend",ky="touchmove",Py="touchcancel",wd="wheel",sx=5,ox=[[_y,"_pointerenter"],[Sy,"_pointerdown"],[wy,"_pointermove"],[xy,"_pointerup"],[vy,"_pointerleave"],[Ey,"_pointerdown"],[ky,"_pointermove"],[Cy,"_pointerup"],[Py,"_pointercancel"],[yy,"_pointerover"],[wd,"_wheel"],[_d,"_contextmenu"],[Xo,"_pointerdown"],[qo,"_pointermove"],[ss,"_pointerup"],[$o,"_pointercancel"],[ix,"_lostpointercapture"]];const Sd={mouse:{[Eu]:rx,[Cu]:vy,[ku]:yy,[Pu]:_y,[qo]:wy,[Xo]:Sy,[ss]:xy,[$o]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Eu]:"touchout",[Cu]:"touchleave",[ku]:"touchover",[Pu]:"touchenter",[qo]:ky,[Xo]:Ey,[ss]:Cy,[$o]:Py,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Eu]:Eu,[Cu]:Cu,[ku]:ku,[Pu]:Pu,[qo]:qo,[Xo]:Xo,[ss]:ss,[$o]:$o,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Ko=n=>n.indexOf("pointer")>=0?"pointer":n.indexOf("touch")>=0?"touch":"mouse",os=n=>{const e=Ko(n);if(e==="pointer")return ee.pointerEventsEnabled&&Sd.pointer;if(e==="touch")return Sd.touch;if(e==="mouse")return Sd.mouse};function Ty(n={}){return(n.clipFunc||n.clipWidth||n.clipHeight)&&O.warn("Stage does not support clipping. Please use clip for Layers or Groups."),n}const lx="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",Tu=[];class Iu extends Lt{constructor(e){super(Ty(e));this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Tu.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Ty(this.attrs)}),this._checkVisibility()}_validateAdd(e){const t=e.getType()==="Layer",r=e.getType()==="FastLayer";t||r||O.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===nx){if(e.charAt(0)==="."){var t=e.slice(1);e=document.getElementsByClassName(t)[0]}else{var r;e.charAt(0)!=="#"?r=e:r=e.slice(1),e=document.getElementById(r)}if(!e)throw"Can not find container in document with id "+r}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var e=this.children,t=e.length,r;for(r=0;r<t;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document!="undefined"&&document.createElement("div"),Lt.prototype.clone.call(this,e)}destroy(){super.destroy();var e=this.content;e&&O._isInDocument(e)&&this.container().removeChild(e);var t=Tu.indexOf(this);return t>-1&&Tu.splice(t,1),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(O.warn(lx),null)}_getPointerById(e){return this._pointerPositions.find(t=>t.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e=e||{},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var t=new is({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=t.getContext()._context,i=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),i.forEach(function(s){if(!!s.isVisible()){var l=s._toKonvaCanvas(e);r.drawImage(l._canvas,e.x,e.y,l.getWidth()/l.getPixelRatio(),l.getHeight()/l.getPixelRatio())}}),t}getIntersection(e){if(!e)return null;var t=this.children,r=t.length,i=r-1,s;for(s=i;s>=0;s--){const l=t[s].getIntersection(e);if(l)return l}return null}_resizeDOM(){var e=this.width(),t=this.height();this.content&&(this.content.style.width=e+my,this.content.style.height=t+my),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach(r=>{r.setSize({width:e,height:t}),r.draw()})}add(e,...t){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}super.add(e);var i=this.children.length;return i>sx&&O.warn("The stage has "+i+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),ee.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return py(e,this)}setPointerCapture(e){gy(e,this)}releaseCapture(e){Qo(e)}getLayers(){return this.children}_bindContentEvents(){!ee.isBrowser||ox.forEach(([e,t])=>{this.content.addEventListener(e,r=>{this[t](r)})})}_pointerenter(e){this.setPointersPositions(e);const t=os(e.type);this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const t=os(e.type);this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){const t=os(e.type),r=Ko(e.type);if(!!t){this.setPointersPositions(e);var i=this._getTargetShape(r),s=!ve.isDragging||ee.hitOnDragEnabled;i&&s?(i._fireAndBubble(t.pointerout,{evt:e}),i._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):s&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(e){const t=os(e.type),r=Ko(e.type);if(!!t){this.setPointersPositions(e);var i=!1;this._changedPointerPositions.forEach(s=>{var l=this.getIntersection(s);if(ve.justDragged=!1,ee["_"+r+"ListenClick"]=!0,!(l&&l.isListening()))return;ee.capturePointerEventsEnabled&&l.setPointerCapture(s.id),this[r+"ClickStartShape"]=l,l._fireAndBubble(t.pointerdown,{evt:e,pointerId:s.id}),i=!0;const h=e.type.indexOf("touch")>=0;l.preventDefault()&&e.cancelable&&h&&e.preventDefault()}),i||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(e){const t=os(e.type),r=Ko(e.type);if(!t)return;ve.isDragging&&ve.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e);var i=!ve.isDragging||ee.hitOnDragEnabled;if(!i)return;var s={};let l=!1;var u=this._getTargetShape(r);this._changedPointerPositions.forEach(h=>{const c=vd(h.id)||this.getIntersection(h),m=h.id,_={evt:e,pointerId:m};var v=u!==c;if(v&&u&&(u._fireAndBubble(t.pointerout,Object.assign({},_),c),u._fireAndBubble(t.pointerleave,Object.assign({},_),c)),c){if(s[c._id])return;s[c._id]=!0}c&&c.isListening()?(l=!0,v&&(c._fireAndBubble(t.pointerover,Object.assign({},_),u),c._fireAndBubble(t.pointerenter,Object.assign({},_),u),this[r+"targetShape"]=c),c._fireAndBubble(t.pointermove,Object.assign({},_))):u&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:m}),this[r+"targetShape"]=null)}),l||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const t=os(e.type),r=Ko(e.type);if(!t)return;this.setPointersPositions(e);const i=this[r+"ClickStartShape"],s=this[r+"ClickEndShape"];var l={};let u=!1;this._changedPointerPositions.forEach(h=>{const c=vd(h.id)||this.getIntersection(h);if(c){if(c.releaseCapture(h.id),l[c._id])return;l[c._id]=!0}const m=h.id,_={evt:e,pointerId:m};let v=!1;ee["_"+r+"InDblClickWindow"]?(v=!0,clearTimeout(this[r+"DblTimeout"])):ve.justDragged||(ee["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){ee["_"+r+"InDblClickWindow"]=!1},ee.dblClickWindow),c&&c.isListening()?(u=!0,this[r+"ClickEndShape"]=c,c._fireAndBubble(t.pointerup,Object.assign({},_)),ee["_"+r+"ListenClick"]&&i&&i===c&&(c._fireAndBubble(t.pointerclick,Object.assign({},_)),v&&s&&s===c&&c._fireAndBubble(t.pointerdblclick,Object.assign({},_)))):(this[r+"ClickEndShape"]=null,ee["_"+r+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:m}),v&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:m}))}),u||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),ee["_"+r+"ListenClick"]=!1,e.cancelable&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(_d,{evt:e}):this._fire(_d,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(wd,{evt:e}):this._fire(wd,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const t=vd(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(ss,yd(e)),Qo(e.pointerId)}_lostpointercapture(e){Qo(e.pointerId)}setPointersPositions(e){var t=this._getContentPosition(),r=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,s=>{this._pointerPositions.push({id:s.identifier,x:(s.clientX-t.left)/t.scaleX,y:(s.clientY-t.top)/t.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,s=>{this._changedPointerPositions.push({id:s.identifier,x:(s.clientX-t.left)/t.scaleX,y:(s.clientY-t.top)/t.scaleY})})):(r=(e.clientX-t.left)/t.scaleX,i=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:O._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:O._getFirstPointerId(e)}])}_setPointerPosition(e){O.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new is({width:this.width(),height:this.height()}),this.bufferHitCanvas=new pd({pixelRatio:1,width:this.width(),height:this.height()}),!!ee.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}cache(){return O.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}Iu.prototype.nodeType=tx;Me(Iu);I.addGetterSetter(Iu,"container");var Iy="hasShadow",Ry="shadowRGBA",Ay="patternImage",Ly="linearGradient",Ny="radialGradient";let Ru;function xd(){return Ru||(Ru=O.createCanvasElement().getContext("2d"),Ru)}const Zo={};function ax(n){n.fill()}function ux(n){n.stroke()}function fx(n){n.fill()}function hx(n){n.stroke()}function cx(){this._clearCache(Iy)}function dx(){this._clearCache(Ry)}function px(){this._clearCache(Ay)}function gx(){this._clearCache(Ly)}function mx(){this._clearCache(Ny)}class H extends Y{constructor(e){super(e);let t;for(;t=O.getRandomColor(),!(t&&!(t in Zo)););this.colorKey=t,Zo[t]=this}getContext(){return O.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return O.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(Iy,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(Ay,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var e=xd();const t=e.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(t&&t.setTransform){const r=new At;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(ee.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=r.getMatrix();t.setTransform({a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]})}return t}}_getLinearGradient(){return this._getCache(Ly,this.__getLinearGradient)}__getLinearGradient(){var e=this.fillLinearGradientColorStops();if(e){for(var t=xd(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),s=t.createLinearGradient(r.x,r.y,i.x,i.y),l=0;l<e.length;l+=2)s.addColorStop(e[l],e[l+1]);return s}}_getRadialGradient(){return this._getCache(Ny,this.__getRadialGradient)}__getRadialGradient(){var e=this.fillRadialGradientColorStops();if(e){for(var t=xd(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),s=t.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius()),l=0;l<e.length;l+=2)s.addColorStop(e[l],e[l+1]);return s}}getShadowRGBA(){return this._getCache(Ry,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var e=O.colorToRGBA(this.shadowColor());return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){var t=this.getStage(),r=t.bufferHitCanvas,i;return r.getContext().clear(),this.drawHit(r,null,!0),i=r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data,i[3]>0}destroy(){return Y.prototype.destroy.call(this),delete Zo[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(!this.getStage()||!((t=this.attrs.perfectDrawEnabled)!==null&&t!==void 0?t:!0))return!1;const i=e||this.hasFill(),s=this.hasStroke(),l=this.getAbsoluteOpacity()!==1;if(i&&s&&l)return!0;const u=this.hasShadow(),h=this.shadowForStrokeEnabled();return!!(i&&s&&u&&h)}setStrokeHitEnabled(e){O.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){const t=e.skipTransform,r=e.relativeTo,i=this.getSelfRect(),l=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,u=i.width+l,h=i.height+l,c=!e.skipShadow&&this.hasShadow(),m=c?this.shadowOffsetX():0,_=c?this.shadowOffsetY():0,v=u+Math.abs(m),E=h+Math.abs(_),x=c&&this.shadowBlur()||0,P=v+x*2,w=E+x*2;let S=0;Math.round(l/2)!==l/2&&(S=1);const C={width:P+S,height:w+S,x:-Math.round(l/2+x)+Math.min(m,0)+i.x,y:-Math.round(l/2+x)+Math.min(_,0)+i.y};return t?C:this._transformedRect(C,r)}drawScene(e,t){var r=this.getLayer(),i=e||r.getCanvas(),s=i.getContext(),l=this._getCanvasCache(),u=this.getSceneFunc(),h=this.hasShadow(),c,m,_,v=i.isCache,E=t===this;if(!this.isVisible()&&!E)return this;if(l){s.save();var x=this.getAbsoluteTransform(t).getMatrix();return s.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!u)return this;if(s.save(),this._useBufferCanvas()&&!v){c=this.getStage(),m=c.bufferCanvas,_=m.getContext(),_.clear(),_.save(),_._applyLineJoin(this);var P=this.getAbsoluteTransform(t).getMatrix();_.transform(P[0],P[1],P[2],P[3],P[4],P[5]),u.call(this,_,this),_.restore();var w=m.pixelRatio;h&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(m._canvas,0,0,m.width/w,m.height/w)}else{if(s._applyLineJoin(this),!E){var P=this.getAbsoluteTransform(t).getMatrix();s.transform(P[0],P[1],P[2],P[3],P[4],P[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}h&&s._applyShadow(this),u.call(this,s,this)}return s.restore(),this}drawHit(e,t,r=!1){if(!this.shouldDrawHit(t,r))return this;var i=this.getLayer(),s=e||i.hitCanvas,l=s&&s.getContext(),u=this.hitFunc()||this.sceneFunc(),h=this._getCanvasCache(),c=h&&h.hit;if(this.colorKey||O.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){l.save();var m=this.getAbsoluteTransform(t).getMatrix();return l.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedHitCanvas(l),l.restore(),this}if(!u)return this;if(l.save(),l._applyLineJoin(this),!(this===t)){var v=this.getAbsoluteTransform(t).getMatrix();l.transform(v[0],v[1],v[2],v[3],v[4],v[5])}return u.call(this,l,this),l.restore(),this}drawHitFromCache(e=0){var t=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=t.hit,s=i.getContext(),l=i.getWidth(),u=i.getHeight(),h,c,m,_,v,E;s.clear(),s.drawImage(r._canvas,0,0,l,u);try{for(h=s.getImageData(0,0,l,u),c=h.data,m=c.length,_=O._hexToRgb(this.colorKey),v=0;v<m;v+=4)E=c[v+3],E>e?(c[v]=_.r,c[v+1]=_.g,c[v+2]=_.b,c[v+3]=255):c[v+3]=0;s.putImageData(h,0,0)}catch(x){O.error("Unable to draw hit graph from cached scene canvas. "+x.message)}return this}hasPointerCapture(e){return py(e,this)}setPointerCapture(e){gy(e,this)}releaseCapture(e){Qo(e)}}H.prototype._fillFunc=ax;H.prototype._strokeFunc=ux;H.prototype._fillFuncHit=fx;H.prototype._strokeFuncHit=hx;H.prototype._centroid=!1;H.prototype.nodeType="Shape";Me(H);H.prototype.eventListeners={};H.prototype.on.call(H.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",cx);H.prototype.on.call(H.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",dx);H.prototype.on.call(H.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",px);H.prototype.on.call(H.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",gx);H.prototype.on.call(H.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",mx);I.addGetterSetter(H,"stroke",void 0,iy());I.addGetterSetter(H,"strokeWidth",2,W());I.addGetterSetter(H,"fillAfterStrokeEnabled",!1);I.addGetterSetter(H,"hitStrokeWidth","auto",dd());I.addGetterSetter(H,"strokeHitEnabled",!0,tn());I.addGetterSetter(H,"perfectDrawEnabled",!0,tn());I.addGetterSetter(H,"shadowForStrokeEnabled",!0,tn());I.addGetterSetter(H,"lineJoin");I.addGetterSetter(H,"lineCap");I.addGetterSetter(H,"sceneFunc");I.addGetterSetter(H,"hitFunc");I.addGetterSetter(H,"dash");I.addGetterSetter(H,"dashOffset",0,W());I.addGetterSetter(H,"shadowColor",void 0,rs());I.addGetterSetter(H,"shadowBlur",0,W());I.addGetterSetter(H,"shadowOpacity",1,W());I.addComponentsGetterSetter(H,"shadowOffset",["x","y"]);I.addGetterSetter(H,"shadowOffsetX",0,W());I.addGetterSetter(H,"shadowOffsetY",0,W());I.addGetterSetter(H,"fillPatternImage");I.addGetterSetter(H,"fill",void 0,iy());I.addGetterSetter(H,"fillPatternX",0,W());I.addGetterSetter(H,"fillPatternY",0,W());I.addGetterSetter(H,"fillLinearGradientColorStops");I.addGetterSetter(H,"strokeLinearGradientColorStops");I.addGetterSetter(H,"fillRadialGradientStartRadius",0);I.addGetterSetter(H,"fillRadialGradientEndRadius",0);I.addGetterSetter(H,"fillRadialGradientColorStops");I.addGetterSetter(H,"fillPatternRepeat","repeat");I.addGetterSetter(H,"fillEnabled",!0);I.addGetterSetter(H,"strokeEnabled",!0);I.addGetterSetter(H,"shadowEnabled",!0);I.addGetterSetter(H,"dashEnabled",!0);I.addGetterSetter(H,"strokeScaleEnabled",!0);I.addGetterSetter(H,"fillPriority","color");I.addComponentsGetterSetter(H,"fillPatternOffset",["x","y"]);I.addGetterSetter(H,"fillPatternOffsetX",0,W());I.addGetterSetter(H,"fillPatternOffsetY",0,W());I.addComponentsGetterSetter(H,"fillPatternScale",["x","y"]);I.addGetterSetter(H,"fillPatternScaleX",1,W());I.addGetterSetter(H,"fillPatternScaleY",1,W());I.addComponentsGetterSetter(H,"fillLinearGradientStartPoint",["x","y"]);I.addComponentsGetterSetter(H,"strokeLinearGradientStartPoint",["x","y"]);I.addGetterSetter(H,"fillLinearGradientStartPointX",0);I.addGetterSetter(H,"strokeLinearGradientStartPointX",0);I.addGetterSetter(H,"fillLinearGradientStartPointY",0);I.addGetterSetter(H,"strokeLinearGradientStartPointY",0);I.addComponentsGetterSetter(H,"fillLinearGradientEndPoint",["x","y"]);I.addComponentsGetterSetter(H,"strokeLinearGradientEndPoint",["x","y"]);I.addGetterSetter(H,"fillLinearGradientEndPointX",0);I.addGetterSetter(H,"strokeLinearGradientEndPointX",0);I.addGetterSetter(H,"fillLinearGradientEndPointY",0);I.addGetterSetter(H,"strokeLinearGradientEndPointY",0);I.addComponentsGetterSetter(H,"fillRadialGradientStartPoint",["x","y"]);I.addGetterSetter(H,"fillRadialGradientStartPointX",0);I.addGetterSetter(H,"fillRadialGradientStartPointY",0);I.addComponentsGetterSetter(H,"fillRadialGradientEndPoint",["x","y"]);I.addGetterSetter(H,"fillRadialGradientEndPointX",0);I.addGetterSetter(H,"fillRadialGradientEndPointY",0);I.addGetterSetter(H,"fillPatternRotation",0);I.backCompat(H,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var vx="#",yx="beforeDraw",_x="draw",Oy=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],wx=Oy.length;class ti extends Lt{constructor(e){super(e);this.canvas=new is,this.hitCanvas=new pd({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Y.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=Y.prototype.moveUp.call(this);if(!e)return!1;var t=this.getStage();return!t||!t.content?!1:(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Y.prototype.moveDown.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Y.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return Y.prototype.remove.call(this),e&&e.parentNode&&O._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:t}){return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this}_validateAdd(e){var t=e.getType();t!=="Group"&&t!=="Shape"&&O.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Y.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){O.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){O.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,O.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var t=1,r=!1;;){for(let i=0;i<wx;i++){const s=Oy[i],l=this._getIntersection({x:e.x+s.x*t,y:e.y+s.y*t}),u=l.shape;if(u)return u;if(r=!!l.antialiased,!l.antialiased)break}if(r)t+=1;else return null}}_getIntersection(e){const t=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,i=r[3];if(i===255){const s=O._rgbToHex(r[0],r[1],r[2]),l=Zo[vx+s];return l?{shape:l}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,t){var r=this.getLayer(),i=e||r&&r.getCanvas();return this._fire(yx,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),Lt.prototype.drawScene.call(this,i,t),this._fire(_x,{node:this}),this}drawHit(e,t){var r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),Lt.prototype.drawHit.call(this,i,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){O.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return O.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,t=!!this.hitCanvas._canvas.parentNode;t?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}}ti.prototype.nodeType="Layer";Me(ti);I.addGetterSetter(ti,"imageSmoothingEnabled",!0);I.addGetterSetter(ti,"clearBeforeDraw",!0);I.addGetterSetter(ti,"hitGraphEnabled",!0,tn());class Ed extends ti{constructor(e){super(e);this.listening(!1),O.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Ed.prototype.nodeType="FastLayer";Me(Ed);class ls extends Lt{_validateAdd(e){var t=e.getType();t!=="Group"&&t!=="Shape"&&O.throw("You may only add groups and shapes to groups.")}}ls.prototype.nodeType="Group";Me(ls);var Cd=function(){return ns.performance&&ns.performance.now?function(){return ns.performance.now()}:function(){return new Date().getTime()}}();class jt{constructor(e,t){this.id=jt.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Cd(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){var t=[];return e?e.length>0?t=e:t=[e]:t=[],this.layers=t,this}getLayers(){return this.layers}addLayer(e){var t=this.layers,r=t.length,i;for(i=0;i<r;i++)if(t[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){var e=jt,t=e.animations,r=t.length,i;for(i=0;i<r;i++)if(t[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Cd(),jt._addAnimation(this),this}stop(){return jt._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){var t=e.id,r=this.animations,i=r.length,s;for(s=0;s<i;s++)if(r[s].id===t){this.animations.splice(s,1);break}}static _runFrames(){var e={},t=this.animations,r,i,s,l,u,h,c,m,_;for(l=0;l<t.length;l++)if(r=t[l],i=r.layers,s=r.func,r._updateFrameObject(Cd()),h=i.length,s?_=s.call(r,r.frame)!==!1:_=!0,!!_)for(u=0;u<h;u++)c=i[u],c._id!==void 0&&(e[c._id]=c);for(m in e)!e.hasOwnProperty(m)||e[m].batchDraw()}static _animationLoop(){var e=jt;e.animations.length?(e._runFrames(),O.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,O.requestAnimFrame(this._animationLoop))}}jt.animations=[];jt.animIdCounter=0;jt.animRunning=!1;var Sx={node:1,duration:1,easing:1,onFinish:1,yoyo:1},xx=1,My=2,Dy=3,Ex=0,zy=["fill","stroke","shadowColor"];class Cx{constructor(e,t,r,i,s,l,u){this.prop=e,this.propFunc=t,this.begin=i,this._pos=i,this.duration=l,this._change=0,this.prevPos=0,this.yoyo=u,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=s-this.begin,this.pause()}fire(e){var t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=My,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=Dy,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var e=this.getTimer()-this._startTime;this.state===My?this.setTime(e):this.state===Dy&&this.setTime(this.duration-e)}pause(){this.state=xx,this.fire("onPause")}getTimer(){return new Date().getTime()}}class We{constructor(e){var t=this,r=e.node,i=r._id,s,l=e.easing||Jo.Linear,u=!!e.yoyo,h;typeof e.duration=="undefined"?s=.3:e.duration===0?s=.001:s=e.duration,this.node=r,this._id=Ex++;var c=r.getLayer()||(r instanceof ee.Stage?r.getLayers():null);c||O.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new jt(function(){t.tween.onEnterFrame()},c),this.tween=new Cx(h,function(m){t._tweenFunc(m)},l,0,1,s*1e3,u),this._addListeners(),We.attrs[i]||(We.attrs[i]={}),We.attrs[i][this._id]||(We.attrs[i][this._id]={}),We.tweens[i]||(We.tweens[i]={});for(h in e)Sx[h]===void 0&&this._addAttr(h,e[h]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){var r=this.node,i=r._id,s,l,u,h,c,m,_,v;if(u=We.tweens[i][e],u&&delete We.attrs[i][u][e],s=r.getAttr(e),O._isArray(t))if(l=[],c=Math.max(t.length,s.length),e==="points"&&t.length!==s.length&&(t.length>s.length?(_=s,s=O._prepareArrayForTween(s,t,r.closed())):(m=t,t=O._prepareArrayForTween(t,s,r.closed()))),e.indexOf("fill")===0)for(h=0;h<c;h++)if(h%2==0)l.push(t[h]-s[h]);else{var E=O.colorToRGBA(s[h]);v=O.colorToRGBA(t[h]),s[h]=E,l.push({r:v.r-E.r,g:v.g-E.g,b:v.b-E.b,a:v.a-E.a})}else for(h=0;h<c;h++)l.push(t[h]-s[h]);else zy.indexOf(e)!==-1?(s=O.colorToRGBA(s),v=O.colorToRGBA(t),l={r:v.r-s.r,g:v.g-s.g,b:v.b-s.b,a:v.a-s.a}):l=t-s;We.attrs[i][this._id][e]={start:s,diff:l,end:t,trueEnd:m,trueStart:_},We.tweens[i][e]=this._id}_tweenFunc(e){var t=this.node,r=We.attrs[t._id][this._id],i,s,l,u,h,c,m,_;for(i in r){if(s=r[i],l=s.start,u=s.diff,_=s.end,O._isArray(l))if(h=[],m=Math.max(l.length,_.length),i.indexOf("fill")===0)for(c=0;c<m;c++)c%2==0?h.push((l[c]||0)+u[c]*e):h.push("rgba("+Math.round(l[c].r+u[c].r*e)+","+Math.round(l[c].g+u[c].g*e)+","+Math.round(l[c].b+u[c].b*e)+","+(l[c].a+u[c].a*e)+")");else for(c=0;c<m;c++)h.push((l[c]||0)+u[c]*e);else zy.indexOf(i)!==-1?h="rgba("+Math.round(l.r+u.r*e)+","+Math.round(l.g+u.g*e)+","+Math.round(l.b+u.b*e)+","+(l.a+u.a*e)+")":h=l+u*e;t.setAttr(i,h)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var e=this.node,t=We.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var e=this.node,t=We.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var e=this.node._id,t=this._id,r=We.tweens[e],i;this.pause();for(i in r)delete We.tweens[e][i];delete We.attrs[e][t]}}We.attrs={};We.tweens={};Y.prototype.to=function(n){var e=n.onFinish;n.node=this,n.onFinish=function(){this.destroy(),e&&e()};var t=new We(n);t.play()};const Jo={BackEaseIn(n,e,t,r){var i=1.70158;return t*(n/=r)*n*((i+1)*n-i)+e},BackEaseOut(n,e,t,r){var i=1.70158;return t*((n=n/r-1)*n*((i+1)*n+i)+1)+e},BackEaseInOut(n,e,t,r){var i=1.70158;return(n/=r/2)<1?t/2*(n*n*(((i*=1.525)+1)*n-i))+e:t/2*((n-=2)*n*(((i*=1.525)+1)*n+i)+2)+e},ElasticEaseIn(n,e,t,r,i,s){var l=0;return n===0?e:(n/=r)==1?e+t:(s||(s=r*.3),!i||i<Math.abs(t)?(i=t,l=s/4):l=s/(2*Math.PI)*Math.asin(t/i),-(i*Math.pow(2,10*(n-=1))*Math.sin((n*r-l)*(2*Math.PI)/s))+e)},ElasticEaseOut(n,e,t,r,i,s){var l=0;return n===0?e:(n/=r)==1?e+t:(s||(s=r*.3),!i||i<Math.abs(t)?(i=t,l=s/4):l=s/(2*Math.PI)*Math.asin(t/i),i*Math.pow(2,-10*n)*Math.sin((n*r-l)*(2*Math.PI)/s)+t+e)},ElasticEaseInOut(n,e,t,r,i,s){var l=0;return n===0?e:(n/=r/2)==2?e+t:(s||(s=r*(.3*1.5)),!i||i<Math.abs(t)?(i=t,l=s/4):l=s/(2*Math.PI)*Math.asin(t/i),n<1?-.5*(i*Math.pow(2,10*(n-=1))*Math.sin((n*r-l)*(2*Math.PI)/s))+e:i*Math.pow(2,-10*(n-=1))*Math.sin((n*r-l)*(2*Math.PI)/s)*.5+t+e)},BounceEaseOut(n,e,t,r){return(n/=r)<1/2.75?t*(7.5625*n*n)+e:n<2/2.75?t*(7.5625*(n-=1.5/2.75)*n+.75)+e:n<2.5/2.75?t*(7.5625*(n-=2.25/2.75)*n+.9375)+e:t*(7.5625*(n-=2.625/2.75)*n+.984375)+e},BounceEaseIn(n,e,t,r){return t-Jo.BounceEaseOut(r-n,0,t,r)+e},BounceEaseInOut(n,e,t,r){return n<r/2?Jo.BounceEaseIn(n*2,0,t,r)*.5+e:Jo.BounceEaseOut(n*2-r,0,t,r)*.5+t*.5+e},EaseIn(n,e,t,r){return t*(n/=r)*n+e},EaseOut(n,e,t,r){return-t*(n/=r)*(n-2)+e},EaseInOut(n,e,t,r){return(n/=r/2)<1?t/2*n*n+e:-t/2*(--n*(n-2)-1)+e},StrongEaseIn(n,e,t,r){return t*(n/=r)*n*n*n*n+e},StrongEaseOut(n,e,t,r){return t*((n=n/r-1)*n*n*n*n+1)+e},StrongEaseInOut(n,e,t,r){return(n/=r/2)<1?t/2*n*n*n*n*n+e:t/2*((n-=2)*n*n*n*n+2)+e},Linear(n,e,t,r){return t*n/r+e}},ni=O._assign(ee,{Util:O,Transform:At,Node:Y,Container:Lt,Stage:Iu,stages:Tu,Layer:ti,FastLayer:Ed,Group:ls,DD:ve,Shape:H,shapes:Zo,Animation:jt,Tween:We,Easings:Jo,Context:vu,Canvas:_u});class Vn extends H{_sceneFunc(e){var t=ee.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,r),e.arc(0,0,this.innerRadius(),t,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),t=this.outerRadius(),r=this.clockwise(),i=ee.getAngle(r?360-this.angle():this.angle()),s=Math.cos(Math.min(i,Math.PI)),l=1,u=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),h=Math.sin(Math.min(i,Math.PI/2)),c=s*(s>0?e:t),m=l*t,_=u*(u>0?e:t),v=h*(h>0?t:e);return{x:Math.round(c),y:Math.round(r?-1*v:_),width:Math.round(m-c),height:Math.round(v-_)}}}Vn.prototype._centroid=!0;Vn.prototype.className="Arc";Vn.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Me(Vn);I.addGetterSetter(Vn,"innerRadius",0,W());I.addGetterSetter(Vn,"outerRadius",0,W());I.addGetterSetter(Vn,"angle",0,W());I.addGetterSetter(Vn,"clockwise",!1,tn());function kd(n,e,t,r,i,s,l){var u=Math.sqrt(Math.pow(t-n,2)+Math.pow(r-e,2)),h=Math.sqrt(Math.pow(i-t,2)+Math.pow(s-r,2)),c=l*u/(u+h),m=l*h/(u+h),_=t-c*(i-n),v=r-c*(s-e),E=t+m*(i-n),x=r+m*(s-e);return[_,v,E,x]}function Fy(n,e){var t=n.length,r=[],i,s;for(i=2;i<t-2;i+=2)s=kd(n[i-2],n[i-1],n[i],n[i+1],n[i+2],n[i+3],e),!isNaN(s[0])&&(r.push(s[0]),r.push(s[1]),r.push(n[i]),r.push(n[i+1]),r.push(s[2]),r.push(s[3]));return r}class Wn extends H{constructor(e){super(e);this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var t=this.points(),r=t.length,i=this.tension(),s=this.closed(),l=this.bezier(),u,h,c;if(!!r){if(e.beginPath(),e.moveTo(t[0],t[1]),i!==0&&r>4){for(u=this.getTensionPoints(),h=u.length,c=s?0:4,s||e.quadraticCurveTo(u[0],u[1],u[2],u[3]);c<h-2;)e.bezierCurveTo(u[c++],u[c++],u[c++],u[c++],u[c++],u[c++]);s||e.quadraticCurveTo(u[h-2],u[h-1],t[r-2],t[r-1])}else if(l)for(c=2;c<r;)e.bezierCurveTo(t[c++],t[c++],t[c++],t[c++],t[c++],t[c++]);else for(c=2;c<r;c+=2)e.lineTo(t[c],t[c+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():Fy(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),t=e.length,r=this.tension(),i=kd(e[t-2],e[t-1],e[0],e[1],e[2],e[3],r),s=kd(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],r),l=Fy(e,r),u=[i[2],i[3]].concat(l).concat([s[0],s[1],e[t-2],e[t-1],s[2],s[3],i[0],i[1],e[0],e[1]]);return u}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();for(var t=e[0],r=e[0],i=e[1],s=e[1],l,u,h=0;h<e.length/2;h++)l=e[h*2],u=e[h*2+1],t=Math.min(t,l),r=Math.max(r,l),i=Math.min(i,u),s=Math.max(s,u);return{x:t,y:i,width:r-t,height:s-i}}}Wn.prototype.className="Line";Wn.prototype._attrsAffectingSize=["points","bezier","tension"];Me(Wn);I.addGetterSetter(Wn,"closed",!1);I.addGetterSetter(Wn,"bezier",!1);I.addGetterSetter(Wn,"tension",0,W());I.addGetterSetter(Wn,"points",[],MS());class xe extends H{constructor(e){super(e);this.dataArray=[],this.pathLength=0,this.dataArray=xe.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength;this.on("dataChange.konva",function(){this.dataArray=xe.parsePathData(this.data()),this.pathLength=0;for(var r=0;r<this.dataArray.length;++r)this.pathLength+=this.dataArray[r].pathLength})}_sceneFunc(e){var t=this.dataArray;e.beginPath();for(var r=!1,i=0;i<t.length;i++){var s=t[i].command,l=t[i].points;switch(s){case"L":e.lineTo(l[0],l[1]);break;case"M":e.moveTo(l[0],l[1]);break;case"C":e.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"Q":e.quadraticCurveTo(l[0],l[1],l[2],l[3]);break;case"A":var u=l[0],h=l[1],c=l[2],m=l[3],_=l[4],v=l[5],E=l[6],x=l[7],P=c>m?c:m,w=c>m?1:c/m,S=c>m?m/c:1;e.translate(u,h),e.rotate(E),e.scale(w,S),e.arc(0,0,P,_,_+v,1-x),e.scale(1/w,1/S),e.rotate(-E),e.translate(-u,-h);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(c){if(c.command==="A"){var m=c.points[4],_=c.points[5],v=c.points[4]+_,E=Math.PI/180;if(Math.abs(m-v)<E&&(E=Math.abs(m-v)),_<0)for(let x=m-E;x>v;x-=E){const P=xe.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],x,0);e.push(P.x,P.y)}else for(let x=m+E;x<v;x+=E){const P=xe.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],x,0);e.push(P.x,P.y)}}else if(c.command==="C")for(let x=0;x<=1;x+=.01){const P=xe.getPointOnCubicBezier(x,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);e.push(P.x,P.y)}else e=e.concat(c.points)});for(var t=e[0],r=e[0],i=e[1],s=e[1],l,u,h=0;h<e.length/2;h++)l=e[h*2],u=e[h*2+1],isNaN(l)||(t=Math.min(t,l),r=Math.max(r,l)),isNaN(u)||(i=Math.min(i,u),s=Math.max(s,u));return{x:Math.round(t),y:Math.round(i),width:Math.round(r-t),height:Math.round(s-i)}}getLength(){return this.pathLength}getPointAtLength(e){var t,r=0,i=this.dataArray.length;if(!i)return null;for(;r<i&&e>this.dataArray[r].pathLength;)e-=this.dataArray[r].pathLength,++r;if(r===i)return t=this.dataArray[r-1].points.slice(-2),{x:t[0],y:t[1]};if(e<.01)return t=this.dataArray[r].points.slice(0,2),{x:t[0],y:t[1]};var s=this.dataArray[r],l=s.points;switch(s.command){case"L":return xe.getPointOnLine(e,s.start.x,s.start.y,l[0],l[1]);case"C":return xe.getPointOnCubicBezier(e/s.pathLength,s.start.x,s.start.y,l[0],l[1],l[2],l[3],l[4],l[5]);case"Q":return xe.getPointOnQuadraticBezier(e/s.pathLength,s.start.x,s.start.y,l[0],l[1],l[2],l[3]);case"A":var u=l[0],h=l[1],c=l[2],m=l[3],_=l[4],v=l[5],E=l[6];return _+=v*e/s.pathLength,xe.getPointOnEllipticalArc(u,h,c,m,_,E)}return null}static getLineLength(e,t,r,i){return Math.sqrt((r-e)*(r-e)+(i-t)*(i-t))}static getPointOnLine(e,t,r,i,s,l,u){l===void 0&&(l=t),u===void 0&&(u=r);var h=(s-r)/(i-t+1e-8),c=Math.sqrt(e*e/(1+h*h));i<t&&(c*=-1);var m=h*c,_;if(i===t)_={x:l,y:u+m};else if((u-r)/(l-t+1e-8)===h)_={x:l+c,y:u+m};else{var v,E,x=this.getLineLength(t,r,i,s),P=(l-t)*(i-t)+(u-r)*(s-r);P=P/(x*x),v=t+P*(i-t),E=r+P*(s-r);var w=this.getLineLength(l,u,v,E),S=Math.sqrt(e*e-w*w);c=Math.sqrt(S*S/(1+h*h)),i<t&&(c*=-1),m=h*c,_={x:v+c,y:E+m}}return _}static getPointOnCubicBezier(e,t,r,i,s,l,u,h,c){function m(w){return w*w*w}function _(w){return 3*w*w*(1-w)}function v(w){return 3*w*(1-w)*(1-w)}function E(w){return(1-w)*(1-w)*(1-w)}var x=h*m(e)+l*_(e)+i*v(e)+t*E(e),P=c*m(e)+u*_(e)+s*v(e)+r*E(e);return{x,y:P}}static getPointOnQuadraticBezier(e,t,r,i,s,l,u){function h(E){return E*E}function c(E){return 2*E*(1-E)}function m(E){return(1-E)*(1-E)}var _=l*h(e)+i*c(e)+t*m(e),v=u*h(e)+s*c(e)+r*m(e);return{x:_,y:v}}static getPointOnEllipticalArc(e,t,r,i,s,l){var u=Math.cos(l),h=Math.sin(l),c={x:r*Math.cos(s),y:i*Math.sin(s)};return{x:e+(c.x*u-c.y*h),y:t+(c.x*h+c.y*u)}}static parsePathData(e){if(!e)return[];var t=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var i=0;i<r.length;i++)t=t.replace(new RegExp(r[i],"g"),"|"+r[i]);var s=t.split("|"),l=[],u=[],h=0,c=0,m=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,_;for(i=1;i<s.length;i++){var v=s[i],E=v.charAt(0);for(v=v.slice(1),u.length=0;_=m.exec(v);)u.push(_[0]);for(var x=[],P=0,w=u.length;P<w;P++){if(u[P]==="00"){x.push(0,0);continue}var S=parseFloat(u[P]);isNaN(S)?x.push(0):x.push(S)}for(;x.length>0&&!isNaN(x[0]);){var C=null,k=[],R=h,F=c,N,U,B,D,V,X,ne,q,ce,we;switch(E){case"l":h+=x.shift(),c+=x.shift(),C="L",k.push(h,c);break;case"L":h=x.shift(),c=x.shift(),k.push(h,c);break;case"m":var he=x.shift(),Ee=x.shift();if(h+=he,c+=Ee,C="M",l.length>2&&l[l.length-1].command==="z"){for(var Ue=l.length-2;Ue>=0;Ue--)if(l[Ue].command==="M"){h=l[Ue].points[0]+he,c=l[Ue].points[1]+Ee;break}}k.push(h,c),E="l";break;case"M":h=x.shift(),c=x.shift(),C="M",k.push(h,c),E="L";break;case"h":h+=x.shift(),C="L",k.push(h,c);break;case"H":h=x.shift(),C="L",k.push(h,c);break;case"v":c+=x.shift(),C="L",k.push(h,c);break;case"V":c=x.shift(),C="L",k.push(h,c);break;case"C":k.push(x.shift(),x.shift(),x.shift(),x.shift()),h=x.shift(),c=x.shift(),k.push(h,c);break;case"c":k.push(h+x.shift(),c+x.shift(),h+x.shift(),c+x.shift()),h+=x.shift(),c+=x.shift(),C="C",k.push(h,c);break;case"S":U=h,B=c,N=l[l.length-1],N.command==="C"&&(U=h+(h-N.points[2]),B=c+(c-N.points[3])),k.push(U,B,x.shift(),x.shift()),h=x.shift(),c=x.shift(),C="C",k.push(h,c);break;case"s":U=h,B=c,N=l[l.length-1],N.command==="C"&&(U=h+(h-N.points[2]),B=c+(c-N.points[3])),k.push(U,B,h+x.shift(),c+x.shift()),h+=x.shift(),c+=x.shift(),C="C",k.push(h,c);break;case"Q":k.push(x.shift(),x.shift()),h=x.shift(),c=x.shift(),k.push(h,c);break;case"q":k.push(h+x.shift(),c+x.shift()),h+=x.shift(),c+=x.shift(),C="Q",k.push(h,c);break;case"T":U=h,B=c,N=l[l.length-1],N.command==="Q"&&(U=h+(h-N.points[0]),B=c+(c-N.points[1])),h=x.shift(),c=x.shift(),C="Q",k.push(U,B,h,c);break;case"t":U=h,B=c,N=l[l.length-1],N.command==="Q"&&(U=h+(h-N.points[0]),B=c+(c-N.points[1])),h+=x.shift(),c+=x.shift(),C="Q",k.push(U,B,h,c);break;case"A":D=x.shift(),V=x.shift(),X=x.shift(),ne=x.shift(),q=x.shift(),ce=h,we=c,h=x.shift(),c=x.shift(),C="A",k=this.convertEndpointToCenterParameterization(ce,we,h,c,ne,q,D,V,X);break;case"a":D=x.shift(),V=x.shift(),X=x.shift(),ne=x.shift(),q=x.shift(),ce=h,we=c,h+=x.shift(),c+=x.shift(),C="A",k=this.convertEndpointToCenterParameterization(ce,we,h,c,ne,q,D,V,X);break}l.push({command:C||E,points:k,start:{x:R,y:F},pathLength:this.calcLength(R,F,C||E,k)})}(E==="z"||E==="Z")&&l.push({command:"z",points:[],start:void 0,pathLength:0})}return l}static calcLength(e,t,r,i){var s,l,u,h,c=xe;switch(r){case"L":return c.getLineLength(e,t,i[0],i[1]);case"C":for(s=0,l=c.getPointOnCubicBezier(0,e,t,i[0],i[1],i[2],i[3],i[4],i[5]),h=.01;h<=1;h+=.01)u=c.getPointOnCubicBezier(h,e,t,i[0],i[1],i[2],i[3],i[4],i[5]),s+=c.getLineLength(l.x,l.y,u.x,u.y),l=u;return s;case"Q":for(s=0,l=c.getPointOnQuadraticBezier(0,e,t,i[0],i[1],i[2],i[3]),h=.01;h<=1;h+=.01)u=c.getPointOnQuadraticBezier(h,e,t,i[0],i[1],i[2],i[3]),s+=c.getLineLength(l.x,l.y,u.x,u.y),l=u;return s;case"A":s=0;var m=i[4],_=i[5],v=i[4]+_,E=Math.PI/180;if(Math.abs(m-v)<E&&(E=Math.abs(m-v)),l=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],m,0),_<0)for(h=m-E;h>v;h-=E)u=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),s+=c.getLineLength(l.x,l.y,u.x,u.y),l=u;else for(h=m+E;h<v;h+=E)u=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),s+=c.getLineLength(l.x,l.y,u.x,u.y),l=u;return u=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],v,0),s+=c.getLineLength(l.x,l.y,u.x,u.y),s}return 0}static convertEndpointToCenterParameterization(e,t,r,i,s,l,u,h,c){var m=c*(Math.PI/180),_=Math.cos(m)*(e-r)/2+Math.sin(m)*(t-i)/2,v=-1*Math.sin(m)*(e-r)/2+Math.cos(m)*(t-i)/2,E=_*_/(u*u)+v*v/(h*h);E>1&&(u*=Math.sqrt(E),h*=Math.sqrt(E));var x=Math.sqrt((u*u*(h*h)-u*u*(v*v)-h*h*(_*_))/(u*u*(v*v)+h*h*(_*_)));s===l&&(x*=-1),isNaN(x)&&(x=0);var P=x*u*v/h,w=x*-h*_/u,S=(e+r)/2+Math.cos(m)*P-Math.sin(m)*w,C=(t+i)/2+Math.sin(m)*P+Math.cos(m)*w,k=function(V){return Math.sqrt(V[0]*V[0]+V[1]*V[1])},R=function(V,X){return(V[0]*X[0]+V[1]*X[1])/(k(V)*k(X))},F=function(V,X){return(V[0]*X[1]<V[1]*X[0]?-1:1)*Math.acos(R(V,X))},N=F([1,0],[(_-P)/u,(v-w)/h]),U=[(_-P)/u,(v-w)/h],B=[(-1*_-P)/u,(-1*v-w)/h],D=F(U,B);return R(U,B)<=-1&&(D=Math.PI),R(U,B)>=1&&(D=0),l===0&&D>0&&(D=D-2*Math.PI),l===1&&D<0&&(D=D+2*Math.PI),[S,C,u,h,N,D,m,l]}}xe.prototype.className="Path";xe.prototype._attrsAffectingSize=["data"];Me(xe);I.addGetterSetter(xe,"data");class ri extends Wn{_sceneFunc(e){super._sceneFunc(e);var t=Math.PI*2,r=this.points(),i=r,s=this.tension()!==0&&r.length>4;s&&(i=this.getTensionPoints());var l=this.pointerLength(),u=r.length,h,c;if(s){const v=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[u-2],r[u-1]],E=xe.calcLength(i[i.length-4],i[i.length-3],"C",v),x=xe.getPointOnQuadraticBezier(Math.min(1,1-l/E),v[0],v[1],v[2],v[3],v[4],v[5]);h=r[u-2]-x.x,c=r[u-1]-x.y}else h=r[u-2]-r[u-4],c=r[u-1]-r[u-3];var m=(Math.atan2(c,h)+t)%t,_=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[u-2],r[u-1]),e.rotate(m),e.moveTo(0,0),e.lineTo(-l,_/2),e.lineTo(-l,-_/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),s?(h=(i[0]+i[2])/2-r[0],c=(i[1]+i[3])/2-r[1]):(h=r[2]-r[0],c=r[3]-r[1]),e.rotate((Math.atan2(-c,-h)+t)%t),e.moveTo(0,0),e.lineTo(-l,_/2),e.lineTo(-l,-_/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x-t,y:e.y-t,width:e.width+t*2,height:e.height+t*2}}}ri.prototype.className="Arrow";Me(ri);I.addGetterSetter(ri,"pointerLength",10,W());I.addGetterSetter(ri,"pointerWidth",10,W());I.addGetterSetter(ri,"pointerAtBeginning",!1);I.addGetterSetter(ri,"pointerAtEnding",!0);class as extends H{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}as.prototype._centroid=!0;as.prototype.className="Circle";as.prototype._attrsAffectingSize=["radius"];Me(as);I.addGetterSetter(as,"radius",0,W());class Pr extends H{_sceneFunc(e){var t=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),t!==r&&e.scale(1,r/t),e.arc(0,0,t,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Pr.prototype.className="Ellipse";Pr.prototype._centroid=!0;Pr.prototype._attrsAffectingSize=["radiusX","radiusY"];Me(Pr);I.addComponentsGetterSetter(Pr,"radius",["x","y"]);I.addGetterSetter(Pr,"radiusX",0,W());I.addGetterSetter(Pr,"radiusY",0,W());class nn extends H{constructor(e){super(e);this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const t=this.getWidth(),r=this.getHeight(),i=this.attrs.image;let s;if(i){const l=this.attrs.cropWidth,u=this.attrs.cropHeight;l&&u?s=[i,this.cropX(),this.cropY(),l,u,0,0,t,r]:s=[i,0,0,t,r]}(this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)),i&&e.drawImage.apply(e,s)}_hitFunc(e){var t=this.width(),r=this.height();e.beginPath(),e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return(e=this.attrs.width)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.width}getHeight(){var e,t;return(e=this.attrs.height)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.height}static fromURL(e,t,r=null){var i=O.createImageElement();i.onload=function(){var s=new nn({image:i});t(s)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}}nn.prototype.className="Image";Me(nn);I.addGetterSetter(nn,"image");I.addComponentsGetterSetter(nn,"crop",["x","y","width","height"]);I.addGetterSetter(nn,"cropX",0,W());I.addGetterSetter(nn,"cropY",0,W());I.addGetterSetter(nn,"cropWidth",0,W());I.addGetterSetter(nn,"cropHeight",0,W());var By=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height"],kx="Change.konva",Px="none",Pd="up",Td="right",Id="down",Rd="left",Tx=By.length;class Ad extends ls{constructor(e){super(e);this.on("add.konva",function(t){this._addListeners(t.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var t=this,r,i=function(){t._sync()};for(r=0;r<Tx;r++)e.on(By[r]+kx,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e=this.getText(),t=this.getTag(),r,i,s,l,u,h,c;if(e&&t){switch(r=e.width(),i=e.height(),s=t.pointerDirection(),l=t.pointerWidth(),c=t.pointerHeight(),u=0,h=0,s){case Pd:u=r/2,h=-1*c;break;case Td:u=r+l,h=i/2;break;case Id:u=r/2,h=i+c;break;case Rd:u=-1*l,h=i/2;break}t.setAttrs({x:-1*u,y:-1*h,width:r,height:i}),e.setAttrs({x:-1*u,y:-1*h})}}}Ad.prototype.className="Label";Me(Ad);class ii extends H{_sceneFunc(e){var t=this.width(),r=this.height(),i=this.pointerDirection(),s=this.pointerWidth(),l=this.pointerHeight(),u=this.cornerRadius();let h=0,c=0,m=0,_=0;typeof u=="number"?h=c=m=_=Math.min(u,t/2,r/2):(h=Math.min(u[0]||0,t/2,r/2),c=Math.min(u[1]||0,t/2,r/2),_=Math.min(u[2]||0,t/2,r/2),m=Math.min(u[3]||0,t/2,r/2)),e.beginPath(),e.moveTo(h,0),i===Pd&&(e.lineTo((t-s)/2,0),e.lineTo(t/2,-1*l),e.lineTo((t+s)/2,0)),e.lineTo(t-c,0),e.arc(t-c,c,c,Math.PI*3/2,0,!1),i===Td&&(e.lineTo(t,(r-l)/2),e.lineTo(t+s,r/2),e.lineTo(t,(r+l)/2)),e.lineTo(t,r-_),e.arc(t-_,r-_,_,0,Math.PI/2,!1),i===Id&&(e.lineTo((t+s)/2,r),e.lineTo(t/2,r+l),e.lineTo((t-s)/2,r)),e.lineTo(m,r),e.arc(m,r-m,m,Math.PI/2,Math.PI,!1),i===Rd&&(e.lineTo(0,(r+l)/2),e.lineTo(-1*s,r/2),e.lineTo(0,(r-l)/2)),e.lineTo(0,h),e.arc(h,h,h,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,t=0,r=this.pointerWidth(),i=this.pointerHeight(),s=this.pointerDirection(),l=this.width(),u=this.height();return s===Pd?(t-=i,u+=i):s===Id?u+=i:s===Rd?(e-=r*1.5,l+=r):s===Td&&(l+=r*1.5),{x:e,y:t,width:l,height:u}}}ii.prototype.className="Tag";Me(ii);I.addGetterSetter(ii,"pointerDirection",Px);I.addGetterSetter(ii,"pointerWidth",0,W());I.addGetterSetter(ii,"pointerHeight",0,W());I.addGetterSetter(ii,"cornerRadius",0,ry(4));class el extends H{_sceneFunc(e){var t=this.cornerRadius(),r=this.width(),i=this.height();if(e.beginPath(),!t)e.rect(0,0,r,i);else{let s=0,l=0,u=0,h=0;typeof t=="number"?s=l=u=h=Math.min(t,r/2,i/2):(s=Math.min(t[0]||0,r/2,i/2),l=Math.min(t[1]||0,r/2,i/2),h=Math.min(t[2]||0,r/2,i/2),u=Math.min(t[3]||0,r/2,i/2)),e.moveTo(s,0),e.lineTo(r-l,0),e.arc(r-l,l,l,Math.PI*3/2,0,!1),e.lineTo(r,i-h),e.arc(r-h,i-h,h,0,Math.PI/2,!1),e.lineTo(u,i),e.arc(u,i-u,u,Math.PI/2,Math.PI,!1),e.lineTo(0,s),e.arc(s,s,s,Math.PI,Math.PI*3/2,!1)}e.closePath(),e.fillStrokeShape(this)}}el.prototype.className="Rect";Me(el);I.addGetterSetter(el,"cornerRadius",0,ry(4));class si extends H{_sceneFunc(e){const t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var r=1;r<t.length;r++)e.lineTo(t[r].x,t[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,t=this.attrs.radius||0,r=[];for(var i=0;i<e;i++)r.push({x:t*Math.sin(i*2*Math.PI/e),y:-1*t*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();var t=e[0].x,r=e[0].y,i=e[0].x,s=e[0].y;return e.forEach(l=>{t=Math.min(t,l.x),r=Math.max(r,l.x),i=Math.min(i,l.y),s=Math.max(s,l.y)}),{x:t,y:i,width:r-t,height:s-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}si.prototype.className="RegularPolygon";si.prototype._centroid=!0;si.prototype._attrsAffectingSize=["radius"];Me(si);I.addGetterSetter(si,"radius",0,W());I.addGetterSetter(si,"sides",0,W());var Gy=Math.PI*2;class oi extends H{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,Gy,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),Gy,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}oi.prototype.className="Ring";oi.prototype._centroid=!0;oi.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Me(oi);I.addGetterSetter(oi,"innerRadius",0,W());I.addGetterSetter(oi,"outerRadius",0,W());class _n extends H{constructor(e){super(e);this._updated=!0,this.anim=new jt(()=>{var t=this._updated;return this._updated=!1,t}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){!this.anim.isRunning()||(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var t=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[t],l=this.frameOffsets(),u=s[i+0],h=s[i+1],c=s[i+2],m=s[i+3],_=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,m),e.closePath(),e.fillStrokeShape(this)),_)if(l){var v=l[t],E=r*2;e.drawImage(_,u,h,c,m,v[E+0],v[E+1],c,m)}else e.drawImage(_,u,h,c,m,0,0,c,m)}_hitFunc(e){var t=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[t],l=this.frameOffsets(),u=s[i+2],h=s[i+3];if(e.beginPath(),l){var c=l[t],m=r*2;e.rect(c[m+0],c[m+1],u,h)}else e.rect(0,0,u,h);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),t=this.animation(),r=this.animations(),i=r[t],s=i.length/4;e<s-1?this.frameIndex(e+1):this.frameIndex(0)}}_n.prototype.className="Sprite";Me(_n);I.addGetterSetter(_n,"animation");I.addGetterSetter(_n,"animations");I.addGetterSetter(_n,"frameOffsets");I.addGetterSetter(_n,"image");I.addGetterSetter(_n,"frameIndex",0,W());I.addGetterSetter(_n,"frameRate",17,W());I.backCompat(_n,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Tr extends H{_sceneFunc(e){var t=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(var s=1;s<i*2;s++){var l=s%2==0?r:t,u=l*Math.sin(s*Math.PI/i),h=-1*l*Math.cos(s*Math.PI/i);e.lineTo(u,h)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Tr.prototype.className="Star";Tr.prototype._centroid=!0;Tr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Me(Tr);I.addGetterSetter(Tr,"numPoints",5,W());I.addGetterSetter(Tr,"innerRadius",0,W());I.addGetterSetter(Tr,"outerRadius",0,W());function Uy(n){return Array.from(n)}var Au="auto",Ix="center",tl="justify",Rx="Change.konva",Ax="2d",by="-",Hy="left",Lx="text",Nx="Text",Ox="top",Mx="bottom",Vy="middle",Wy="normal",Dx="px ",Lu=" ",zx="right",Fx="word",Bx="char",Gx="none",Ld="\u2026",jy=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Ux=jy.length;function bx(n){return n.split(",").map(e=>{e=e.trim();const t=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!r&&(e=`"${e}"`),e}).join(", ")}var Nu;function Nd(){return Nu||(Nu=O.createCanvasElement().getContext(Ax),Nu)}function Hx(n){n.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Vx(n){n.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Wx(n){return n=n||{},!n.fillLinearGradientColorStops&&!n.fillRadialGradientColorStops&&!n.fillPatternImage&&(n.fill=n.fill||"black"),n}class De extends H{constructor(e){super(Wx(e));this._partialTextX=0,this._partialTextY=0;for(var t=0;t<Ux;t++)this.on(jy[t]+Rx,this._setTextData);this._setTextData()}_sceneFunc(e){var t=this.textArr,r=t.length;if(!!this.text()){var i=this.padding(),s=this.fontSize(),l=this.lineHeight()*s,u=this.verticalAlign(),h=0,c=this.align(),m=this.getWidth(),_=this.letterSpacing(),v=this.fill(),E=this.textDecoration(),x=E.indexOf("underline")!==-1,P=E.indexOf("line-through")!==-1,w,S=0,S=l/2,C=0,k=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",Vy),e.setAttr("textAlign",Hy),u===Vy?h=(this.getHeight()-r*l-i*2)/2:u===Mx&&(h=this.getHeight()-r*l-i*2),e.translate(i,h+i),w=0;w<r;w++){var C=0,k=0,R=t[w],F=R.text,N=R.width,U=w!==r-1,B,D,V;if(e.save(),c===zx?C+=m-N-i*2:c===Ix&&(C+=(m-N-i*2)/2),x&&(e.save(),e.beginPath(),e.moveTo(C,S+k+Math.round(s/2)),B=F.split(" ").length-1,D=B===0,V=c===tl&&U&&!D?m-i*2:N,e.lineTo(C+Math.round(V),S+k+Math.round(s/2)),e.lineWidth=s/15,e.strokeStyle=v,e.stroke(),e.restore()),P&&(e.save(),e.beginPath(),e.moveTo(C,S+k),B=F.split(" ").length-1,D=B===0,V=c===tl&&U&&!D?m-i*2:N,e.lineTo(C+Math.round(V),S+k),e.lineWidth=s/15,e.strokeStyle=v,e.stroke(),e.restore()),_!==0||c===tl){B=F.split(" ").length-1;for(var X=Uy(F),ne=0;ne<X.length;ne++){var q=X[ne];q===" "&&w!==r-1&&c===tl&&(C+=(m-i*2-N)/B),this._partialTextX=C,this._partialTextY=S+k,this._partialText=q,e.fillStrokeShape(this),C+=this.measureSize(q).width+_}}else this._partialTextX=C,this._partialTextY=S+k,this._partialText=F,e.fillStrokeShape(this);e.restore(),r>1&&(S+=l)}}}_hitFunc(e){var t=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}setText(e){var t=O._isString(e)?e:e==null?"":e+"";return this._setAttr(Lx,t),this}getWidth(){var e=this.attrs.width===Au||this.attrs.width===void 0;return e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var e=this.attrs.height===Au||this.attrs.height===void 0;return e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return O.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t=Nd(),r=this.fontSize(),i;return t.save(),t.font=this._getContextFont(),i=t.measureText(e),t.restore(),{width:i.width,height:r}}_getContextFont(){return this.fontStyle()+Lu+this.fontVariant()+Lu+(this.fontSize()+Dx)+bx(this.fontFamily())}_addTextLine(e){this.align()===tl&&(e=e.trim());var t=this._getTextWidth(e);return this.textArr.push({text:e,width:t})}_getTextWidth(e){var t=this.letterSpacing(),r=e.length;return Nd().measureText(e).width+(r?t*(r-1):0)}_setTextData(){var e=this.text().split(`
`),t=+this.fontSize(),r=0,i=this.lineHeight()*t,s=this.attrs.width,l=this.attrs.height,u=s!==Au&&s!==void 0,h=l!==Au&&l!==void 0,c=this.padding(),m=s-c*2,_=l-c*2,v=0,E=this.wrap(),x=E!==Gx,P=E!==Bx&&x,w=this.ellipsis();this.textArr=[],Nd().font=this._getContextFont();for(var S=w?this._getTextWidth(Ld):0,C=0,k=e.length;C<k;++C){var R=e[C],F=this._getTextWidth(R);if(u&&F>m)for(;R.length>0;){for(var N=0,U=R.length,B="",D=0;N<U;){var V=N+U>>>1,X=R.slice(0,V+1),ne=this._getTextWidth(X)+S;ne<=m?(N=V+1,B=X,D=ne):U=V}if(B){if(P){var q,ce=R[B.length],we=ce===Lu||ce===by;we&&D<=m?q=B.length:q=Math.max(B.lastIndexOf(Lu),B.lastIndexOf(by))+1,q>0&&(N=q,B=B.slice(0,N),D=this._getTextWidth(B))}if(B=B.trimRight(),this._addTextLine(B),r=Math.max(r,D),v+=i,!x||h&&v+i>_){var he=this.textArr[this.textArr.length-1];if(he&&w){var Ee=this._getTextWidth(he.text+Ld)<m;Ee||(he.text=he.text.slice(0,he.text.length-3)),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(he.text+Ld)}break}if(R=R.slice(N),R=R.trimLeft(),R.length>0&&(F=this._getTextWidth(R),F<=m)){this._addTextLine(R),v+=i,r=Math.max(r,F);break}}else break}else this._addTextLine(R),v+=i,r=Math.max(r,F);if(h&&v+i>_)break}this.textHeight=t,this.textWidth=r}getStrokeScaleEnabled(){return!0}}De.prototype._fillFunc=Hx;De.prototype._strokeFunc=Vx;De.prototype.className=Nx;De.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Me(De);I.overWriteSetter(De,"width",dd());I.overWriteSetter(De,"height",dd());I.addGetterSetter(De,"fontFamily","Arial");I.addGetterSetter(De,"fontSize",12,W());I.addGetterSetter(De,"fontStyle",Wy);I.addGetterSetter(De,"fontVariant",Wy);I.addGetterSetter(De,"padding",0,W());I.addGetterSetter(De,"align",Hy);I.addGetterSetter(De,"verticalAlign",Ox);I.addGetterSetter(De,"lineHeight",1,W());I.addGetterSetter(De,"wrap",Fx);I.addGetterSetter(De,"ellipsis",!1,tn());I.addGetterSetter(De,"letterSpacing",0,W());I.addGetterSetter(De,"text","",rs());I.addGetterSetter(De,"textDecoration","");var jx="",Yy="normal";function Qy(n){n.fillText(this.partialText,0,0)}function qy(n){n.strokeText(this.partialText,0,0)}class Xe extends H{constructor(e){super(e);this.dummyCanvas=O.createCanvasElement(),this.dataArray=[],this.dataArray=xe.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){this.dataArray=xe.parsePathData(this.attrs.data),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva",this._setTextData),this._setTextData()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var t=this.textDecoration(),r=this.fill(),i=this.fontSize(),s=this.glyphInfo;t==="underline"&&e.beginPath();for(var l=0;l<s.length;l++){e.save();var u=s[l].p0;e.translate(u.x,u.y),e.rotate(s[l].rotation),this.partialText=s[l].text,e.fillStrokeShape(this),t==="underline"&&(l===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}t==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var t=this.glyphInfo;if(t.length>=1){var r=t[0].p0;e.moveTo(r.x,r.y)}for(var i=0;i<t.length;i++){var s=t[i].p1;e.lineTo(s.x,s.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return O.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return De.prototype.setText.call(this,e)}_getContextFont(){return De.prototype._getContextFont.call(this)}_getTextSize(e){var t=this.dummyCanvas,r=t.getContext("2d");r.save(),r.font=this._getContextFont();var i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var e=this,t=this._getTextSize(this.attrs.text),r=this.letterSpacing(),i=this.align(),s=this.kerningFunc();this.textWidth=t.width,this.textHeight=t.height;var l=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);this.glyphInfo=[];for(var u=0,h=0;h<e.dataArray.length;h++)e.dataArray[h].pathLength>0&&(u+=e.dataArray[h].pathLength);var c=0;i==="center"&&(c=Math.max(0,u/2-l/2)),i==="right"&&(c=Math.max(0,u-l));for(var m=Uy(this.text()),_=this.text().split(" ").length-1,v,E,x,P=-1,w=0,S=function(){w=0;for(var ne=e.dataArray,q=P+1;q<ne.length;q++){if(ne[q].pathLength>0)return P=q,ne[q];ne[q].command==="M"&&(v={x:ne[q].points[0],y:ne[q].points[1]})}return{}},C=function(ne){var q=e._getTextSize(ne).width+r;ne===" "&&i==="justify"&&(q+=(u-l)/_);var ce=0,we=0;for(E=void 0;Math.abs(q-ce)/q>.01&&we<20;){we++;for(var he=ce;x===void 0;)x=S(),x&&he+x.pathLength<q&&(he+=x.pathLength,x=void 0);if(x==={}||v===void 0)return;var Ee=!1;switch(x.command){case"L":xe.getLineLength(v.x,v.y,x.points[0],x.points[1])>q?E=xe.getPointOnLine(q,v.x,v.y,x.points[0],x.points[1],v.x,v.y):x=void 0;break;case"A":var Ue=x.points[4],Ye=x.points[5],de=x.points[4]+Ye;w===0?w=Ue+1e-8:q>ce?w+=Math.PI/180*Ye/Math.abs(Ye):w-=Math.PI/360*Ye/Math.abs(Ye),(Ye<0&&w<de||Ye>=0&&w>de)&&(w=de,Ee=!0),E=xe.getPointOnEllipticalArc(x.points[0],x.points[1],x.points[2],x.points[3],w,x.points[6]);break;case"C":w===0?q>x.pathLength?w=1e-8:w=q/x.pathLength:q>ce?w+=(q-ce)/x.pathLength/2:w=Math.max(w-(ce-q)/x.pathLength/2,0),w>1&&(w=1,Ee=!0),E=xe.getPointOnCubicBezier(w,x.start.x,x.start.y,x.points[0],x.points[1],x.points[2],x.points[3],x.points[4],x.points[5]);break;case"Q":w===0?w=q/x.pathLength:q>ce?w+=(q-ce)/x.pathLength:w-=(ce-q)/x.pathLength,w>1&&(w=1,Ee=!0),E=xe.getPointOnQuadraticBezier(w,x.start.x,x.start.y,x.points[0],x.points[1],x.points[2],x.points[3]);break}E!==void 0&&(ce=xe.getLineLength(v.x,v.y,E.x,E.y)),Ee&&(Ee=!1,x=void 0)}},k="C",R=e._getTextSize(k).width+r,F=c/R-1,N=0;N<F&&(C(k),!(v===void 0||E===void 0));N++)v=E;for(var U=0;U<m.length&&(C(m[U]),!(v===void 0||E===void 0));U++){var B=xe.getLineLength(v.x,v.y,E.x,E.y),D=0;if(s)try{D=s(m[U-1],m[U])*this.fontSize()}catch{D=0}v.x+=D,E.x+=D,this.textWidth+=D;var V=xe.getPointOnLine(D+B/2,v.x,v.y,E.x,E.y),X=Math.atan2(E.y-v.y,E.x-v.x);this.glyphInfo.push({transposeX:V.x,transposeY:V.y,text:m[U],rotation:X,p0:v,p1:E}),v=E}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(m){e.push(m.p0.x),e.push(m.p0.y),e.push(m.p1.x),e.push(m.p1.y)});for(var t=e[0]||0,r=e[0]||0,i=e[1]||0,s=e[1]||0,l,u,h=0;h<e.length/2;h++)l=e[h*2],u=e[h*2+1],t=Math.min(t,l),r=Math.max(r,l),i=Math.min(i,u),s=Math.max(s,u);var c=this.fontSize();return{x:t-c/2,y:i-c/2,width:r-t+c,height:s-i+c}}}Xe.prototype._fillFunc=Qy;Xe.prototype._strokeFunc=qy;Xe.prototype._fillFuncHit=Qy;Xe.prototype._strokeFuncHit=qy;Xe.prototype.className="TextPath";Xe.prototype._attrsAffectingSize=["text","fontSize","data"];Me(Xe);I.addGetterSetter(Xe,"data");I.addGetterSetter(Xe,"fontFamily","Arial");I.addGetterSetter(Xe,"fontSize",12,W());I.addGetterSetter(Xe,"fontStyle",Yy);I.addGetterSetter(Xe,"align","left");I.addGetterSetter(Xe,"letterSpacing",0,W());I.addGetterSetter(Xe,"textBaseline","middle");I.addGetterSetter(Xe,"fontVariant",Yy);I.addGetterSetter(Xe,"text",jx);I.addGetterSetter(Xe,"textDecoration",null);I.addGetterSetter(Xe,"kerningFunc",null);var Xy="tr-konva",Yx=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(n=>n+`.${Xy}`).join(" "),$y="nodesRect",Qx=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],qx={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const Xx="ontouchstart"in ee._global;function $x(n,e){if(n==="rotater")return"crosshair";e+=O.degToRad(qx[n]||0);var t=(O.radToDeg(e)%360+360)%360;return O._inRange(t,315+22.5,360)||O._inRange(t,0,22.5)?"ns-resize":O._inRange(t,45-22.5,45+22.5)?"nesw-resize":O._inRange(t,90-22.5,90+22.5)?"ew-resize":O._inRange(t,135-22.5,135+22.5)?"nwse-resize":O._inRange(t,180-22.5,180+22.5)?"ns-resize":O._inRange(t,225-22.5,225+22.5)?"nesw-resize":O._inRange(t,270-22.5,270+22.5)?"ew-resize":O._inRange(t,315-22.5,315+22.5)?"nwse-resize":(O.error("Transformer has unknown angle for cursor detection: "+t),"pointer")}var Ou=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],Ky=1e8;function Kx(n){return{x:n.x+n.width/2*Math.cos(n.rotation)+n.height/2*Math.sin(-n.rotation),y:n.y+n.height/2*Math.cos(n.rotation)+n.width/2*Math.sin(n.rotation)}}function Zy(n,e,t){const r=t.x+(n.x-t.x)*Math.cos(e)-(n.y-t.y)*Math.sin(e),i=t.y+(n.x-t.x)*Math.sin(e)+(n.y-t.y)*Math.cos(e);return Object.assign(Object.assign({},n),{rotation:n.rotation+e,x:r,y:i})}function Zx(n,e){const t=Kx(n);return Zy(n,e,t)}function Jx(n,e,t){let r=e;for(let i=0;i<n.length;i++){const s=ee.getAngle(n[i]),l=Math.abs(s-e)%(Math.PI*2);Math.min(l,Math.PI*2-l)<t&&(r=s)}return r}class _e extends ls{constructor(e){super(e);this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(Yx,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return O.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Xy+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach(),this._nodes=e,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(r=>{const i=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},s=r._attrsAffectingSize.map(l=>l+"Change."+this._getEventNamespace()).join(" ");r.on(s,i),r.on(Qx.map(l=>l+`.${this._getEventNamespace()}`).join(" "),i),r.on(`absoluteTransformChange.${this._getEventNamespace()}`,i),this._proxyDrag(r)}),this._resetTransformCache();var t=!!this.findOne(".top-left");return t&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,r=>{t=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!t)return;const i=e.getAbsolutePosition(),s=i.x-t.x,l=i.y-t.y;this.nodes().forEach(u=>{if(u===e||u.isDragging())return;const h=u.getAbsolutePosition();u.setAbsolutePosition({x:h.x+s,y:h.y+l}),u.startDrag(r)}),t=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache($y),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache($y,this.__getNodeRect)}__getNodeShape(e,t=this.rotation(),r){var i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(r),l=e.getAbsolutePosition(r),u=i.x*s.x-e.offsetX()*s.x,h=i.y*s.y-e.offsetY()*s.y;const c=(ee.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),m={x:l.x+u*Math.cos(c)+h*Math.sin(-c),y:l.y+h*Math.cos(c)+u*Math.sin(c),width:i.width*s.x,height:i.height*s.y,rotation:c};return Zy(m,-ee.getAngle(t),{x:0,y:0})}__getNodeRect(){var e=this.getNode();if(!e)return{x:-Ky,y:-Ky,width:0,height:0,rotation:0};const t=[];this.nodes().map(c=>{const m=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var _=[{x:m.x,y:m.y},{x:m.x+m.width,y:m.y},{x:m.x+m.width,y:m.y+m.height},{x:m.x,y:m.y+m.height}],v=c.getAbsoluteTransform();_.forEach(function(E){var x=v.point(E);t.push(x)})});const r=new At;r.rotate(-ee.getAngle(this.rotation()));var i,s,l,u;t.forEach(function(c){var m=r.point(c);i===void 0&&(i=l=m.x,s=u=m.y),i=Math.min(i,m.x),s=Math.min(s,m.y),l=Math.max(l,m.x),u=Math.max(u,m.y)}),r.invert();const h=r.point({x:i,y:s});return{x:h.x,y:h.y,width:l-i,height:u-s,rotation:ee.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Ou.forEach(function(e){this._createAnchor(e)}.bind(this)),this._createAnchor("rotater")}_createAnchor(e){var t=new el({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:Xx?10:"auto"}),r=this;t.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),t.on("dragstart",i=>{t.stopDrag(),i.cancelBubble=!0}),t.on("dragend",i=>{i.cancelBubble=!0}),t.on("mouseenter",()=>{var i=ee.getAngle(this.rotation()),s=$x(e,i);t.getStage().content&&(t.getStage().content.style.cursor=s),this._cursorChange=!0}),t.on("mouseout",()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(t)}_createBack(){var e=new H({name:"back",width:0,height:0,draggable:!0,sceneFunc(t){var r=this.getParent(),i=r.padding();t.beginPath(),t.rect(-i,-i,this.width()+i*2,this.height()+i*2),t.moveTo(this.width()/2,-i),r.rotateEnabled()&&t.lineTo(this.width()/2,-r.rotateAnchorOffset()*O._sign(this.height())-i),t.fillStrokeShape(this)},hitFunc:(t,r)=>{if(!!this.shouldOverdrawWholeArea()){var i=this.padding();t.beginPath(),t.rect(-i,-i,r.width()+i*2,r.height()+i*2),t.fillStrokeShape(r)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",t=>{t.cancelBubble=!0}),e.on("dragmove",t=>{t.cancelBubble=!0}),e.on("dragend",t=>{t.cancelBubble=!0}),this.on("dragmove",t=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var t=this._getNodeRect(),r=t.width,i=t.height,s=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/s),this.cos=Math.abs(r/s),typeof window!="undefined"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var l=e.target.getAbsolutePosition(),u=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:u.x-l.x,y:u.y-l.y},this._fire("transformstart",{evt:e,target:this.getNode()}),this._nodes.forEach(h=>{h._fire("transformstart",{evt:e,target:h})})}_handleMouseMove(e){var t,r,i,s=this.findOne("."+this._movingAnchorName),l=s.getStage();l.setPointersPositions(e);const u=l.getPointerPosition();let h={x:u.x-this._anchorDragOffset.x,y:u.y-this._anchorDragOffset.y};const c=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(h=this.anchorDragBoundFunc()(c,h,e)),s.setAbsolutePosition(h);const m=s.getAbsolutePosition();if(!(c.x===m.x&&c.y===m.y)){if(this._movingAnchorName==="rotater"){var _=this._getNodeRect();t=s.x()-_.width/2,r=-s.y()+_.height/2;let ne=Math.atan2(-r,t)+Math.PI/2;_.height<0&&(ne-=Math.PI);var v=ee.getAngle(this.rotation());const q=v+ne,ce=ee.getAngle(this.rotationSnapTolerance()),he=Jx(this.rotationSnaps(),q,ce)-_.rotation,Ee=Zx(_,he);this._fitNodesInto(Ee,e);return}var E=this.keepRatio()||e.shiftKey,x=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(E){var P=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(P.x-s.x(),2)+Math.pow(P.y-s.y(),2));var w=this.findOne(".top-left").x()>P.x?-1:1,S=this.findOne(".top-left").y()>P.y?-1:1;t=i*this.cos*w,r=i*this.sin*S,this.findOne(".top-left").x(P.x-t),this.findOne(".top-left").y(P.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(E){var P=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(s.x()-P.x,2)+Math.pow(P.y-s.y(),2));var w=this.findOne(".top-right").x()<P.x?-1:1,S=this.findOne(".top-right").y()>P.y?-1:1;t=i*this.cos*w,r=i*this.sin*S,this.findOne(".top-right").x(P.x+t),this.findOne(".top-right").y(P.y-r)}var C=s.position();this.findOne(".top-left").y(C.y),this.findOne(".bottom-right").x(C.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(E){var P=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(P.x-s.x(),2)+Math.pow(s.y()-P.y,2));var w=P.x<s.x()?-1:1,S=s.y()<P.y?-1:1;t=i*this.cos*w,r=i*this.sin*S,s.x(P.x-t),s.y(P.y+r)}C=s.position(),this.findOne(".top-left").x(C.x),this.findOne(".bottom-right").y(C.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(E){var P=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(s.x()-P.x,2)+Math.pow(s.y()-P.y,2));var w=this.findOne(".bottom-right").x()<P.x?-1:1,S=this.findOne(".bottom-right").y()<P.y?-1:1;t=i*this.cos*w,r=i*this.sin*S,this.findOne(".bottom-right").x(P.x+t),this.findOne(".bottom-right").y(P.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var x=this.centeredScaling()||e.altKey;if(x){var k=this.findOne(".top-left"),R=this.findOne(".bottom-right"),F=k.x(),N=k.y(),U=this.getWidth()-R.x(),B=this.getHeight()-R.y();R.move({x:-F,y:-N}),k.move({x:U,y:B})}var D=this.findOne(".top-left").getAbsolutePosition();t=D.x,r=D.y;var V=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),X=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:r,width:V,height:X,rotation:ee.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window!="undefined"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var t=this.getNode();this._fire("transformend",{evt:e,target:t}),t&&this._nodes.forEach(r=>{r._fire("transformend",{evt:e,target:r})}),this._movingAnchorName=null}}_fitNodesInto(e,t){var r=this._getNodeRect();const i=1;if(O._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(O._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const s=this.flipEnabled();var l=new At;if(l.rotate(ee.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const _=l.point({x:-this.padding()*2,y:0});if(e.x+=_.x,e.y+=_.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=_.x,this._anchorDragOffset.y-=_.y,!s){this.update();return}}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const _=l.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=_.x,this._anchorDragOffset.y-=_.y,e.width+=this.padding()*2,!s){this.update();return}}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const _=l.point({x:0,y:-this.padding()*2});if(e.x+=_.x,e.y+=_.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=_.x,this._anchorDragOffset.y-=_.y,e.height+=this.padding()*2,!s){this.update();return}}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const _=l.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=_.x,this._anchorDragOffset.y-=_.y,e.height+=this.padding()*2,!s){this.update();return}}if(this.boundBoxFunc()){const _=this.boundBoxFunc()(r,e);_?e=_:O.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const u=1e7,h=new At;h.translate(r.x,r.y),h.rotate(r.rotation),h.scale(r.width/u,r.height/u);const c=new At;c.translate(e.x,e.y),c.rotate(e.rotation),c.scale(e.width/u,e.height/u);const m=c.multiply(h.invert());this._nodes.forEach(_=>{var v;const E=_.getParent().getAbsoluteTransform(),x=_.getTransform().copy();x.translate(_.offsetX(),_.offsetY());const P=new At;P.multiply(E.copy().invert()).multiply(m).multiply(E).multiply(x);const w=P.decompose();_.setAttrs(w),this._fire("transform",{evt:t,target:_}),_._fire("transform",{evt:t,target:_}),(v=_.getLayer())===null||v===void 0||v.batchDraw()}),this.rotation(O._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e,t=this._getNodeRect();this.rotation(O._getRotation(t.rotation));var r=t.width,i=t.height,s=this.enabledAnchors(),l=this.resizeEnabled(),u=this.padding(),h=this.anchorSize();this.find("._anchor").forEach(c=>{c.setAttrs({width:h,height:h,offsetX:h/2,offsetY:h/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:h/2+u,offsetY:h/2+u,visible:l&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:h/2+u,visible:l&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:h/2-u,offsetY:h/2+u,visible:l&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:h/2+u,visible:l&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:h/2-u,visible:l&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:h/2+u,offsetY:h/2-u,visible:l&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:h/2-u,visible:l&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:h/2-u,offsetY:h/2-u,visible:l&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*O._sign(i)-u,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),ls.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Y.prototype.toObject.call(this)}}function eE(n){return n instanceof Array||O.warn("enabledAnchors value should be an array"),n instanceof Array&&n.forEach(function(e){Ou.indexOf(e)===-1&&O.warn("Unknown anchor name: "+e+". Available names are: "+Ou.join(", "))}),n||[]}_e.prototype.className="Transformer";Me(_e);I.addGetterSetter(_e,"enabledAnchors",Ou,eE);I.addGetterSetter(_e,"flipEnabled",!0,tn());I.addGetterSetter(_e,"resizeEnabled",!0);I.addGetterSetter(_e,"anchorSize",10,W());I.addGetterSetter(_e,"rotateEnabled",!0);I.addGetterSetter(_e,"rotationSnaps",[]);I.addGetterSetter(_e,"rotateAnchorOffset",50,W());I.addGetterSetter(_e,"rotationSnapTolerance",5,W());I.addGetterSetter(_e,"borderEnabled",!0);I.addGetterSetter(_e,"anchorStroke","rgb(0, 161, 255)");I.addGetterSetter(_e,"anchorStrokeWidth",1,W());I.addGetterSetter(_e,"anchorFill","white");I.addGetterSetter(_e,"anchorCornerRadius",0,W());I.addGetterSetter(_e,"borderStroke","rgb(0, 161, 255)");I.addGetterSetter(_e,"borderStrokeWidth",1,W());I.addGetterSetter(_e,"borderDash");I.addGetterSetter(_e,"keepRatio",!0);I.addGetterSetter(_e,"centeredScaling",!1);I.addGetterSetter(_e,"ignoreStroke",!1);I.addGetterSetter(_e,"padding",0,W());I.addGetterSetter(_e,"node");I.addGetterSetter(_e,"nodes");I.addGetterSetter(_e,"boundBoxFunc");I.addGetterSetter(_e,"anchorDragBoundFunc");I.addGetterSetter(_e,"shouldOverdrawWholeArea",!1);I.addGetterSetter(_e,"useSingleNodeRotation",!0);I.backCompat(_e,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class jn extends H{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,ee.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}jn.prototype.className="Wedge";jn.prototype._centroid=!0;jn.prototype._attrsAffectingSize=["radius"];Me(jn);I.addGetterSetter(jn,"radius",0,W());I.addGetterSetter(jn,"angle",0,W());I.addGetterSetter(jn,"clockwise",!1);I.backCompat(jn,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function Jy(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var tE=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],nE=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function rE(n,e){var t=n.data,r=n.width,i=n.height,s,l,u,h,c,m,_,v,E,x,P,w,S,C,k,R,F,N,U,B,D,V,X,ne,q=e+e+1,ce=r-1,we=i-1,he=e+1,Ee=he*(he+1)/2,Ue=new Jy,Ye=null,de=Ue,b=null,re=null,le=tE[e],me=nE[e];for(u=1;u<q;u++)de=de.next=new Jy,u===he&&(Ye=de);for(de.next=Ue,_=m=0,l=0;l<i;l++){for(R=F=N=U=v=E=x=P=0,w=he*(B=t[m]),S=he*(D=t[m+1]),C=he*(V=t[m+2]),k=he*(X=t[m+3]),v+=Ee*B,E+=Ee*D,x+=Ee*V,P+=Ee*X,de=Ue,u=0;u<he;u++)de.r=B,de.g=D,de.b=V,de.a=X,de=de.next;for(u=1;u<he;u++)h=m+((ce<u?ce:u)<<2),v+=(de.r=B=t[h])*(ne=he-u),E+=(de.g=D=t[h+1])*ne,x+=(de.b=V=t[h+2])*ne,P+=(de.a=X=t[h+3])*ne,R+=B,F+=D,N+=V,U+=X,de=de.next;for(b=Ue,re=Ye,s=0;s<r;s++)t[m+3]=X=P*le>>me,X!==0?(X=255/X,t[m]=(v*le>>me)*X,t[m+1]=(E*le>>me)*X,t[m+2]=(x*le>>me)*X):t[m]=t[m+1]=t[m+2]=0,v-=w,E-=S,x-=C,P-=k,w-=b.r,S-=b.g,C-=b.b,k-=b.a,h=_+((h=s+e+1)<ce?h:ce)<<2,R+=b.r=t[h],F+=b.g=t[h+1],N+=b.b=t[h+2],U+=b.a=t[h+3],v+=R,E+=F,x+=N,P+=U,b=b.next,w+=B=re.r,S+=D=re.g,C+=V=re.b,k+=X=re.a,R-=B,F-=D,N-=V,U-=X,re=re.next,m+=4;_+=r}for(s=0;s<r;s++){for(F=N=U=R=E=x=P=v=0,m=s<<2,w=he*(B=t[m]),S=he*(D=t[m+1]),C=he*(V=t[m+2]),k=he*(X=t[m+3]),v+=Ee*B,E+=Ee*D,x+=Ee*V,P+=Ee*X,de=Ue,u=0;u<he;u++)de.r=B,de.g=D,de.b=V,de.a=X,de=de.next;for(c=r,u=1;u<=e;u++)m=c+s<<2,v+=(de.r=B=t[m])*(ne=he-u),E+=(de.g=D=t[m+1])*ne,x+=(de.b=V=t[m+2])*ne,P+=(de.a=X=t[m+3])*ne,R+=B,F+=D,N+=V,U+=X,de=de.next,u<we&&(c+=r);for(m=s,b=Ue,re=Ye,l=0;l<i;l++)h=m<<2,t[h+3]=X=P*le>>me,X>0?(X=255/X,t[h]=(v*le>>me)*X,t[h+1]=(E*le>>me)*X,t[h+2]=(x*le>>me)*X):t[h]=t[h+1]=t[h+2]=0,v-=w,E-=S,x-=C,P-=k,w-=b.r,S-=b.g,C-=b.b,k-=b.a,h=s+((h=l+he)<we?h:we)*r<<2,v+=R+=b.r=t[h],E+=F+=b.g=t[h+1],x+=N+=b.b=t[h+2],P+=U+=b.a=t[h+3],b=b.next,w+=B=re.r,S+=D=re.g,C+=V=re.b,k+=X=re.a,R-=B,F-=D,N-=V,U-=X,re=re.next,m+=r}}const iE=function(e){var t=Math.round(this.blurRadius());t>0&&rE(e,t)};I.addGetterSetter(Y,"blurRadius",0,W(),I.afterSetFilter);const sE=function(n){var e=this.brightness()*255,t=n.data,r=t.length,i;for(i=0;i<r;i+=4)t[i]+=e,t[i+1]+=e,t[i+2]+=e};I.addGetterSetter(Y,"brightness",0,W(),I.afterSetFilter);const oE=function(n){var e=Math.pow((this.contrast()+100)/100,2),t=n.data,r=t.length,i=150,s=150,l=150,u;for(u=0;u<r;u+=4)i=t[u],s=t[u+1],l=t[u+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,l/=255,l-=.5,l*=e,l+=.5,l*=255,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,l=l<0?0:l>255?255:l,t[u]=i,t[u+1]=s,t[u+2]=l};I.addGetterSetter(Y,"contrast",0,W(),I.afterSetFilter);const lE=function(n){var e=this.embossStrength()*10,t=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),s=0,l=0,u=n.data,h=n.width,c=n.height,m=h*4,_=c;switch(r){case"top-left":s=-1,l=-1;break;case"top":s=-1,l=0;break;case"top-right":s=-1,l=1;break;case"right":s=0,l=1;break;case"bottom-right":s=1,l=1;break;case"bottom":s=1,l=0;break;case"bottom-left":s=1,l=-1;break;case"left":s=0,l=-1;break;default:O.error("Unknown emboss direction: "+r)}do{var v=(_-1)*m,E=s;_+E<1&&(E=0),_+E>c&&(E=0);var x=(_-1+E)*h*4,P=h;do{var w=v+(P-1)*4,S=l;P+S<1&&(S=0),P+S>h&&(S=0);var C=x+(P-1+S)*4,k=u[w]-u[C],R=u[w+1]-u[C+1],F=u[w+2]-u[C+2],N=k,U=N>0?N:-N,B=R>0?R:-R,D=F>0?F:-F;if(B>U&&(N=R),D>U&&(N=F),N*=e,i){var V=u[w]+N,X=u[w+1]+N,ne=u[w+2]+N;u[w]=V>255?255:V<0?0:V,u[w+1]=X>255?255:X<0?0:X,u[w+2]=ne>255?255:ne<0?0:ne}else{var q=t-N;q<0?q=0:q>255&&(q=255),u[w]=u[w+1]=u[w+2]=q}}while(--P)}while(--_)};I.addGetterSetter(Y,"embossStrength",.5,W(),I.afterSetFilter);I.addGetterSetter(Y,"embossWhiteLevel",.5,W(),I.afterSetFilter);I.addGetterSetter(Y,"embossDirection","top-left",null,I.afterSetFilter);I.addGetterSetter(Y,"embossBlend",!1,null,I.afterSetFilter);function Od(n,e,t,r,i){var s=t-e,l=i-r,u;return s===0?r+l/2:l===0?r:(u=(n-e)/s,u=l*u+r,u)}const aE=function(n){var e=n.data,t=e.length,r=e[0],i=r,s,l=e[1],u=l,h,c=e[2],m=c,_,v,E=this.enhance();if(E!==0){for(v=0;v<t;v+=4)s=e[v+0],s<r?r=s:s>i&&(i=s),h=e[v+1],h<l?l=h:h>u&&(u=h),_=e[v+2],_<c?c=_:_>m&&(m=_);i===r&&(i=255,r=0),u===l&&(u=255,l=0),m===c&&(m=255,c=0);var x,P,w,S,C,k,R,F,N;for(E>0?(P=i+E*(255-i),w=r-E*(r-0),C=u+E*(255-u),k=l-E*(l-0),F=m+E*(255-m),N=c-E*(c-0)):(x=(i+r)*.5,P=i+E*(i-x),w=r+E*(r-x),S=(u+l)*.5,C=u+E*(u-S),k=l+E*(l-S),R=(m+c)*.5,F=m+E*(m-R),N=c+E*(c-R)),v=0;v<t;v+=4)e[v+0]=Od(e[v+0],r,i,w,P),e[v+1]=Od(e[v+1],l,u,k,C),e[v+2]=Od(e[v+2],c,m,N,F)}};I.addGetterSetter(Y,"enhance",0,W(),I.afterSetFilter);const uE=function(n){var e=n.data,t=e.length,r,i;for(r=0;r<t;r+=4)i=.34*e[r]+.5*e[r+1]+.16*e[r+2],e[r]=i,e[r+1]=i,e[r+2]=i};I.addGetterSetter(Y,"hue",0,W(),I.afterSetFilter);I.addGetterSetter(Y,"saturation",0,W(),I.afterSetFilter);I.addGetterSetter(Y,"luminance",0,W(),I.afterSetFilter);const fE=function(n){var e=n.data,t=e.length,r=1,i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,l=this.luminance()*127,u,h=r*i*Math.cos(s*Math.PI/180),c=r*i*Math.sin(s*Math.PI/180),m=.299*r+.701*h+.167*c,_=.587*r-.587*h+.33*c,v=.114*r-.114*h-.497*c,E=.299*r-.299*h-.328*c,x=.587*r+.413*h+.035*c,P=.114*r-.114*h+.293*c,w=.299*r-.3*h+1.25*c,S=.587*r-.586*h-1.05*c,C=.114*r+.886*h-.2*c,k,R,F,N;for(u=0;u<t;u+=4)k=e[u+0],R=e[u+1],F=e[u+2],N=e[u+3],e[u+0]=m*k+_*R+v*F+l,e[u+1]=E*k+x*R+P*F+l,e[u+2]=w*k+S*R+C*F+l,e[u+3]=N},hE=function(n){var e=n.data,t=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,l,u=r*i*Math.cos(s*Math.PI/180),h=r*i*Math.sin(s*Math.PI/180),c=.299*r+.701*u+.167*h,m=.587*r-.587*u+.33*h,_=.114*r-.114*u-.497*h,v=.299*r-.299*u-.328*h,E=.587*r+.413*u+.035*h,x=.114*r-.114*u+.293*h,P=.299*r-.3*u+1.25*h,w=.587*r-.586*u-1.05*h,S=.114*r+.886*u-.2*h,C,k,R,F;for(l=0;l<t;l+=4)C=e[l+0],k=e[l+1],R=e[l+2],F=e[l+3],e[l+0]=c*C+m*k+_*R,e[l+1]=v*C+E*k+x*R,e[l+2]=P*C+w*k+S*R,e[l+3]=F};I.addGetterSetter(Y,"hue",0,W(),I.afterSetFilter);I.addGetterSetter(Y,"saturation",0,W(),I.afterSetFilter);I.addGetterSetter(Y,"value",0,W(),I.afterSetFilter);const cE=function(n){var e=n.data,t=e.length,r;for(r=0;r<t;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};var dE=function(n,e,t){var r=n.data,i=e.data,s=n.width,l=n.height,u=t.polarCenterX||s/2,h=t.polarCenterY||l/2,c,m,_,v=0,E=0,x=0,P=0,w,S=Math.sqrt(u*u+h*h);m=s-u,_=l-h,w=Math.sqrt(m*m+_*_),S=w>S?w:S;var C=l,k=s,R,F,N=360/k*Math.PI/180,U,B;for(F=0;F<k;F+=1)for(U=Math.sin(F*N),B=Math.cos(F*N),R=0;R<C;R+=1)m=Math.floor(u+S*R/C*B),_=Math.floor(h+S*R/C*U),c=(_*s+m)*4,v=r[c+0],E=r[c+1],x=r[c+2],P=r[c+3],c=(F+R*s)*4,i[c+0]=v,i[c+1]=E,i[c+2]=x,i[c+3]=P},pE=function(n,e,t){var r=n.data,i=e.data,s=n.width,l=n.height,u=t.polarCenterX||s/2,h=t.polarCenterY||l/2,c,m,_,v,E,x=0,P=0,w=0,S=0,C,k=Math.sqrt(u*u+h*h);m=s-u,_=l-h,C=Math.sqrt(m*m+_*_),k=C>k?C:k;var R=l,F=s,N,U,B=t.polarRotation||0,D,V;for(m=0;m<s;m+=1)for(_=0;_<l;_+=1)v=m-u,E=_-h,N=Math.sqrt(v*v+E*E)*R/k,U=(Math.atan2(E,v)*180/Math.PI+360+B)%360,U=U*F/360,D=Math.floor(U),V=Math.floor(N),c=(V*s+D)*4,x=r[c+0],P=r[c+1],w=r[c+2],S=r[c+3],c=(_*s+m)*4,i[c+0]=x,i[c+1]=P,i[c+2]=w,i[c+3]=S};const gE=function(n){var e=n.width,t=n.height,r,i,s,l,u,h,c,m,_,v,E=Math.round(this.kaleidoscopePower()),x=Math.round(this.kaleidoscopeAngle()),P=Math.floor(e*(x%360)/360);if(!(E<1)){var w=O.createCanvasElement();w.width=e,w.height=t;var S=w.getContext("2d").getImageData(0,0,e,t);dE(n,S,{polarCenterX:e/2,polarCenterY:t/2});for(var C=e/Math.pow(2,E);C<=8;)C=C*2,E-=1;C=Math.ceil(C);var k=C,R=0,F=k,N=1;for(P+C>e&&(R=k,F=0,N=-1),i=0;i<t;i+=1)for(r=R;r!==F;r+=N)s=Math.round(r+P)%e,_=(e*i+s)*4,u=S.data[_+0],h=S.data[_+1],c=S.data[_+2],m=S.data[_+3],v=(e*i+r)*4,S.data[v+0]=u,S.data[v+1]=h,S.data[v+2]=c,S.data[v+3]=m;for(i=0;i<t;i+=1)for(k=Math.floor(C),l=0;l<E;l+=1){for(r=0;r<k+1;r+=1)_=(e*i+r)*4,u=S.data[_+0],h=S.data[_+1],c=S.data[_+2],m=S.data[_+3],v=(e*i+k*2-r-1)*4,S.data[v+0]=u,S.data[v+1]=h,S.data[v+2]=c,S.data[v+3]=m;k*=2}pE(S,n,{polarRotation:0})}};I.addGetterSetter(Y,"kaleidoscopePower",2,W(),I.afterSetFilter);I.addGetterSetter(Y,"kaleidoscopeAngle",0,W(),I.afterSetFilter);function Mu(n,e,t){var r=(t*n.width+e)*4,i=[];return i.push(n.data[r++],n.data[r++],n.data[r++],n.data[r++]),i}function nl(n,e){return Math.sqrt(Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)+Math.pow(n[2]-e[2],2))}function mE(n){for(var e=[0,0,0],t=0;t<n.length;t++)e[0]+=n[t][0],e[1]+=n[t][1],e[2]+=n[t][2];return e[0]/=n.length,e[1]/=n.length,e[2]/=n.length,e}function vE(n,e){var t=Mu(n,0,0),r=Mu(n,n.width-1,0),i=Mu(n,0,n.height-1),s=Mu(n,n.width-1,n.height-1),l=e||10;if(nl(t,r)<l&&nl(r,s)<l&&nl(s,i)<l&&nl(i,t)<l){for(var u=mE([r,t,s,i]),h=[],c=0;c<n.width*n.height;c++){var m=nl(u,[n.data[c*4],n.data[c*4+1],n.data[c*4+2]]);h[c]=m<l?0:255}return h}}function yE(n,e){for(var t=0;t<n.width*n.height;t++)n.data[4*t+3]=e[t]}function _E(n,e,t){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),l=[],u=0;u<t;u++)for(var h=0;h<e;h++){for(var c=u*e+h,m=0,_=0;_<i;_++)for(var v=0;v<i;v++){var E=u+_-s,x=h+v-s;if(E>=0&&E<t&&x>=0&&x<e){var P=E*e+x,w=r[_*i+v];m+=n[P]*w}}l[c]=m===255*8?255:0}return l}function wE(n,e,t){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),l=[],u=0;u<t;u++)for(var h=0;h<e;h++){for(var c=u*e+h,m=0,_=0;_<i;_++)for(var v=0;v<i;v++){var E=u+_-s,x=h+v-s;if(E>=0&&E<t&&x>=0&&x<e){var P=E*e+x,w=r[_*i+v];m+=n[P]*w}}l[c]=m>=255*4?255:0}return l}function SE(n,e,t){for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),l=[],u=0;u<t;u++)for(var h=0;h<e;h++){for(var c=u*e+h,m=0,_=0;_<i;_++)for(var v=0;v<i;v++){var E=u+_-s,x=h+v-s;if(E>=0&&E<t&&x>=0&&x<e){var P=E*e+x,w=r[_*i+v];m+=n[P]*w}}l[c]=m}return l}const xE=function(n){var e=this.threshold(),t=vE(n,e);return t&&(t=_E(t,n.width,n.height),t=wE(t,n.width,n.height),t=SE(t,n.width,n.height),yE(n,t)),n};I.addGetterSetter(Y,"threshold",0,W(),I.afterSetFilter);const EE=function(n){var e=this.noise()*255,t=n.data,r=t.length,i=e/2,s;for(s=0;s<r;s+=4)t[s+0]+=i-2*i*Math.random(),t[s+1]+=i-2*i*Math.random(),t[s+2]+=i-2*i*Math.random()};I.addGetterSetter(Y,"noise",.2,W(),I.afterSetFilter);const CE=function(n){var e=Math.ceil(this.pixelSize()),t=n.width,r=n.height,i,s,l,u,h,c,m,_=Math.ceil(t/e),v=Math.ceil(r/e),E,x,P,w,S,C,k,R=n.data;if(e<=0){O.error("pixelSize value can not be <= 0");return}for(S=0;S<_;S+=1)for(C=0;C<v;C+=1){for(u=0,h=0,c=0,m=0,E=S*e,x=E+e,P=C*e,w=P+e,k=0,i=E;i<x;i+=1)if(!(i>=t))for(s=P;s<w;s+=1)s>=r||(l=(t*s+i)*4,u+=R[l+0],h+=R[l+1],c+=R[l+2],m+=R[l+3],k+=1);for(u=u/k,h=h/k,c=c/k,m=m/k,i=E;i<x;i+=1)if(!(i>=t))for(s=P;s<w;s+=1)s>=r||(l=(t*s+i)*4,R[l+0]=u,R[l+1]=h,R[l+2]=c,R[l+3]=m)}};I.addGetterSetter(Y,"pixelSize",8,W(),I.afterSetFilter);const kE=function(n){var e=Math.round(this.levels()*254)+1,t=n.data,r=t.length,i=255/e,s;for(s=0;s<r;s+=1)t[s]=Math.floor(t[s]/i)*i};I.addGetterSetter(Y,"levels",.5,W(),I.afterSetFilter);const PE=function(n){var e=n.data,t=e.length,r=this.red(),i=this.green(),s=this.blue(),l,u;for(l=0;l<t;l+=4)u=(.34*e[l]+.5*e[l+1]+.16*e[l+2])/255,e[l]=u*r,e[l+1]=u*i,e[l+2]=u*s,e[l+3]=e[l+3]};I.addGetterSetter(Y,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});I.addGetterSetter(Y,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});I.addGetterSetter(Y,"blue",0,ny,I.afterSetFilter);const TE=function(n){var e=n.data,t=e.length,r=this.red(),i=this.green(),s=this.blue(),l=this.alpha(),u,h;for(u=0;u<t;u+=4)h=1-l,e[u]=r*l+e[u]*h,e[u+1]=i*l+e[u+1]*h,e[u+2]=s*l+e[u+2]*h};I.addGetterSetter(Y,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});I.addGetterSetter(Y,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});I.addGetterSetter(Y,"blue",0,ny,I.afterSetFilter);I.addGetterSetter(Y,"alpha",1,function(n){return this._filterUpToDate=!1,n>1?1:n<0?0:n});const IE=function(n){var e=n.data,t=e.length,r,i,s,l;for(r=0;r<t;r+=4)i=e[r+0],s=e[r+1],l=e[r+2],e[r+0]=Math.min(255,i*.393+s*.769+l*.189),e[r+1]=Math.min(255,i*.349+s*.686+l*.168),e[r+2]=Math.min(255,i*.272+s*.534+l*.131)},RE=function(n){var e=n.data,t=n.width,r=n.height,i=t*4,s=r;do{var l=(s-1)*i,u=t;do{var h=l+(u-1)*4,c=e[h],m=e[h+1],_=e[h+2];c>127&&(c=255-c),m>127&&(m=255-m),_>127&&(_=255-_),e[h]=c,e[h+1]=m,e[h+2]=_}while(--u)}while(--s)},AE=function(n){var e=this.threshold()*255,t=n.data,r=t.length,i;for(i=0;i<r;i+=1)t[i]=t[i]<e?0:255};I.addGetterSetter(Y,"threshold",.5,W(),I.afterSetFilter);ni.Util._assign(ni,{Arc:Vn,Arrow:ri,Circle:as,Ellipse:Pr,Image:nn,Label:Ad,Tag:ii,Line:Wn,Path:xe,Rect:el,RegularPolygon:si,Ring:oi,Sprite:_n,Star:Tr,Text:De,TextPath:Xe,Transformer:_e,Wedge:jn,Filters:{Blur:iE,Brighten:sE,Contrast:oE,Emboss:lE,Enhance:aE,Grayscale:uE,HSL:fE,HSV:hE,Invert:cE,Kaleidoscope:gE,Mask:xE,Noise:EE,Pixelate:CE,Posterize:kE,RGB:PE,RGBA:TE,Sepia:IE,Solarize:RE,Threshold:AE}});var e1={exports:{}},t1={exports:{}};/** @license React v0.26.2
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){n.exports=function(t){var r={},i=ih,s=Ys.exports,l=Ti.exports;function u(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=60103,m=60106,_=60107,v=60108,E=60114,x=60109,P=60110,w=60112,S=60113,C=60120,k=60115,R=60116,F=60121,N=60129,U=60130,B=60131;if(typeof Symbol=="function"&&Symbol.for){var D=Symbol.for;c=D("react.element"),m=D("react.portal"),_=D("react.fragment"),v=D("react.strict_mode"),E=D("react.profiler"),x=D("react.provider"),P=D("react.context"),w=D("react.forward_ref"),S=D("react.suspense"),C=D("react.suspense_list"),k=D("react.memo"),R=D("react.lazy"),F=D("react.block"),D("react.scope"),N=D("react.debug_trace_mode"),U=D("react.offscreen"),B=D("react.legacy_hidden")}var V=typeof Symbol=="function"&&Symbol.iterator;function X(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}function ne(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case _:return"Fragment";case m:return"Portal";case E:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case C:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case P:return(o.displayName||"Context")+".Consumer";case x:return(o._context.displayName||"Context")+".Provider";case w:var a=o.render;return a=a.displayName||a.name||"",o.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case k:return ne(o.type);case F:return ne(o._render);case R:a=o._payload,o=o._init;try{return ne(o(a))}catch{}}return null}function q(o){var a=o,f=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&1026)!=0&&(f=a.return),o=a.return;while(o)}return a.tag===3?f:null}function ce(o){if(q(o)!==o)throw Error(u(188))}function we(o){var a=o.alternate;if(!a){if(a=q(o),a===null)throw Error(u(188));return a!==o?null:o}for(var f=o,d=a;;){var g=f.return;if(g===null)break;var y=g.alternate;if(y===null){if(d=g.return,d!==null){f=d;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===f)return ce(g),o;if(y===d)return ce(g),a;y=y.sibling}throw Error(u(188))}if(f.return!==d.return)f=g,d=y;else{for(var T=!1,A=g.child;A;){if(A===f){T=!0,f=g,d=y;break}if(A===d){T=!0,d=g,f=y;break}A=A.sibling}if(!T){for(A=y.child;A;){if(A===f){T=!0,f=y,d=g;break}if(A===d){T=!0,d=y,f=g;break}A=A.sibling}if(!T)throw Error(u(189))}}if(f.alternate!==d)throw Error(u(190))}if(f.tag!==3)throw Error(u(188));return f.stateNode.current===f?o:a}function he(o){if(o=we(o),!o)return null;for(var a=o;;){if(a.tag===5||a.tag===6)return a;if(a.child)a.child.return=a,a=a.child;else{if(a===o)break;for(;!a.sibling;){if(!a.return||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}}return null}function Ee(o){if(o=we(o),!o)return null;for(var a=o;;){if(a.tag===5||a.tag===6)return a;if(a.child&&a.tag!==4)a.child.return=a,a=a.child;else{if(a===o)break;for(;!a.sibling;){if(!a.return||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}}return null}function Ue(o,a){for(var f=o.alternate;a!==null;){if(a===o||a===f)return!0;a=a.return}return!1}var Ye=t.getPublicInstance,de=t.getRootHostContext,b=t.getChildHostContext,re=t.prepareForCommit,le=t.resetAfterCommit,me=t.createInstance,be=t.appendInitialChild,on=t.finalizeInitialChildren,ln=t.prepareUpdate,kn=t.shouldSetTextContent,Pn=t.createTextInstance,gp=t.scheduleTimeout,q1=t.cancelTimeout,$u=t.noTimeout,Nr=t.isPrimaryRenderer,Qt=t.supportsMutation,_s=t.supportsPersistence,qt=t.supportsHydration,X1=t.getInstanceFromNode,$1=t.makeOpaqueHydratingObject,Ku=t.makeClientId,mp=t.beforeActiveInstanceBlur,K1=t.afterActiveInstanceBlur,Z1=t.preparePortalMount,ws=t.supportsTestSelectors,J1=t.findFiberRoot,e_=t.getBoundingRect,t_=t.getTextContent,Ss=t.isHiddenSubtree,n_=t.matchAccessibilityRole,r_=t.setFocusIfFocusable,i_=t.setupIntersectionObserver,s_=t.appendChild,o_=t.appendChildToContainer,l_=t.commitTextUpdate,a_=t.commitMount,u_=t.commitUpdate,f_=t.insertBefore,h_=t.insertInContainerBefore,c_=t.removeChild,d_=t.removeChildFromContainer,vp=t.resetTextContent,p_=t.hideInstance,g_=t.hideTextInstance,m_=t.unhideInstance,v_=t.unhideTextInstance,Zu=t.clearContainer,y_=t.cloneInstance,yp=t.createContainerChildSet,_p=t.appendChildToContainerChildSet,__=t.finalizeContainerChildren,wp=t.replaceContainerChildren,Sp=t.cloneHiddenInstance,xp=t.cloneHiddenTextInstance,w_=t.canHydrateInstance,S_=t.canHydrateTextInstance,x_=t.isSuspenseInstancePending,E_=t.isSuspenseInstanceFallback,Ju=t.getNextHydratableSibling,Ep=t.getFirstHydratableChild,C_=t.hydrateInstance,k_=t.hydrateTextInstance,P_=t.getNextHydratableInstanceAfterSuspenseInstance,Cp=t.commitHydratedContainer,T_=t.commitHydratedSuspenseInstance,ef;function xs(o){if(ef===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);ef=a&&a[1]||""}return`
`+ef+o}var tf=!1;function _l(o,a){if(!o||tf)return"";tf=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(z){var d=z}Reflect.construct(o,[],a)}else{try{a.call()}catch(z){d=z}o.call(a.prototype)}else{try{throw Error()}catch(z){d=z}o()}}catch(z){if(z&&d&&typeof z.stack=="string"){for(var g=z.stack.split(`
`),y=d.stack.split(`
`),T=g.length-1,A=y.length-1;1<=T&&0<=A&&g[T]!==y[A];)A--;for(;1<=T&&0<=A;T--,A--)if(g[T]!==y[A]){if(T!==1||A!==1)do if(T--,A--,0>A||g[T]!==y[A])return`
`+g[T].replace(" at new "," at ");while(1<=T&&0<=A);break}}}finally{tf=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?xs(o):""}var nf=[],hi=-1;function Yn(o){return{current:o}}function Re(o){0>hi||(o.current=nf[hi],nf[hi]=null,hi--)}function ze(o,a){hi++,nf[hi]=o.current,o.current=a}var Qn={},lt=Yn(Qn),yt=Yn(!1),Or=Qn;function ci(o,a){var f=o.type.contextTypes;if(!f)return Qn;var d=o.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===a)return d.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in f)g[y]=a[y];return d&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=g),g}function _t(o){return o=o.childContextTypes,o!=null}function wl(){Re(yt),Re(lt)}function kp(o,a,f){if(lt.current!==Qn)throw Error(u(168));ze(lt,a),ze(yt,f)}function Pp(o,a,f){var d=o.stateNode;if(o=a.childContextTypes,typeof d.getChildContext!="function")return f;d=d.getChildContext();for(var g in d)if(!(g in o))throw Error(u(108,ne(a)||"Unknown",g));return i({},f,d)}function Sl(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Qn,Or=lt.current,ze(lt,o),ze(yt,yt.current),!0}function Tp(o,a,f){var d=o.stateNode;if(!d)throw Error(u(169));f?(o=Pp(o,a,Or),d.__reactInternalMemoizedMergedChildContext=o,Re(yt),Re(lt),ze(lt,o)):Re(yt),ze(yt,f)}var rf=null,Mr=null,I_=l.unstable_now;I_();var xl=0,Pe=8;function Dr(o){if((1&o)!=0)return Pe=15,1;if((2&o)!=0)return Pe=14,2;if((4&o)!=0)return Pe=13,4;var a=24&o;return a!==0?(Pe=12,a):(o&32)!=0?(Pe=11,32):(a=192&o,a!==0?(Pe=10,a):(o&256)!=0?(Pe=9,256):(a=3584&o,a!==0?(Pe=8,a):(o&4096)!=0?(Pe=7,4096):(a=4186112&o,a!==0?(Pe=6,a):(a=62914560&o,a!==0?(Pe=5,a):o&67108864?(Pe=4,67108864):(o&134217728)!=0?(Pe=3,134217728):(a=805306368&o,a!==0?(Pe=2,a):(1073741824&o)!=0?(Pe=1,1073741824):(Pe=8,o))))))}function R_(o){switch(o){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function A_(o){switch(o){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(u(358,o))}}function Es(o,a){var f=o.pendingLanes;if(f===0)return Pe=0;var d=0,g=0,y=o.expiredLanes,T=o.suspendedLanes,A=o.pingedLanes;if(y!==0)d=y,g=Pe=15;else if(y=f&134217727,y!==0){var z=y&~T;z!==0?(d=Dr(z),g=Pe):(A&=y,A!==0&&(d=Dr(A),g=Pe))}else y=f&~T,y!==0?(d=Dr(y),g=Pe):A!==0&&(d=Dr(A),g=Pe);if(d===0)return 0;if(d=31-qn(d),d=f&((0>d?0:1<<d)<<1)-1,a!==0&&a!==d&&(a&T)==0){if(Dr(a),g<=Pe)return a;Pe=g}if(a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=d;0<a;)f=31-qn(a),g=1<<f,d|=o[f],a&=~g;return d}function Ip(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function El(o,a){switch(o){case 15:return 1;case 14:return 2;case 12:return o=di(24&~a),o===0?El(10,a):o;case 10:return o=di(192&~a),o===0?El(8,a):o;case 8:return o=di(3584&~a),o===0&&(o=di(4186112&~a),o===0&&(o=512)),o;case 2:return a=di(805306368&~a),a===0&&(a=268435456),a}throw Error(u(358,o))}function di(o){return o&-o}function sf(o){for(var a=[],f=0;31>f;f++)a.push(o);return a}function Cl(o,a,f){o.pendingLanes|=a;var d=a-1;o.suspendedLanes&=d,o.pingedLanes&=d,o=o.eventTimes,a=31-qn(a),o[a]=f}var qn=Math.clz32?Math.clz32:O_,L_=Math.log,N_=Math.LN2;function O_(o){return o===0?32:31-(L_(o)/N_|0)|0}var M_=l.unstable_runWithPriority,of=l.unstable_scheduleCallback,lf=l.unstable_cancelCallback,D_=l.unstable_shouldYield,Rp=l.unstable_requestPaint,af=l.unstable_now,z_=l.unstable_getCurrentPriorityLevel,kl=l.unstable_ImmediatePriority,Ap=l.unstable_UserBlockingPriority,Lp=l.unstable_NormalPriority,Np=l.unstable_LowPriority,Op=l.unstable_IdlePriority,uf={},F_=Rp!==void 0?Rp:function(){},Tn=null,Pl=null,ff=!1,Mp=af(),Je=1e4>Mp?af:function(){return af()-Mp};function pi(){switch(z_()){case kl:return 99;case Ap:return 98;case Lp:return 97;case Np:return 96;case Op:return 95;default:throw Error(u(332))}}function Dp(o){switch(o){case 99:return kl;case 98:return Ap;case 97:return Lp;case 96:return Np;case 95:return Op;default:throw Error(u(332))}}function In(o,a){return o=Dp(o),M_(o,a)}function Cs(o,a,f){return o=Dp(o),of(o,a,f)}function Nt(){if(Pl!==null){var o=Pl;Pl=null,lf(o)}zp()}function zp(){if(!ff&&Tn!==null){ff=!0;var o=0;try{var a=Tn;In(99,function(){for(;o<a.length;o++){var f=a[o];do f=f(!0);while(f!==null)}}),Tn=null}catch(f){throw Tn!==null&&(Tn=Tn.slice(o+1)),of(kl,Nt),f}finally{ff=!1}}}var B_=h.ReactCurrentBatchConfig;function G_(o,a){return o===a&&(o!==0||1/o==1/a)||o!==o&&a!==a}var Ot=typeof Object.is=="function"?Object.is:G_,U_=Object.prototype.hasOwnProperty;function Tl(o,a){if(Ot(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var f=Object.keys(o),d=Object.keys(a);if(f.length!==d.length)return!1;for(d=0;d<f.length;d++)if(!U_.call(a,f[d])||!Ot(o[f[d]],a[f[d]]))return!1;return!0}function b_(o){switch(o.tag){case 5:return xs(o.type);case 16:return xs("Lazy");case 13:return xs("Suspense");case 19:return xs("SuspenseList");case 0:case 2:case 15:return o=_l(o.type,!1),o;case 11:return o=_l(o.type.render,!1),o;case 22:return o=_l(o.type._render,!1),o;case 1:return o=_l(o.type,!0),o;default:return""}}function Xt(o,a){if(o&&o.defaultProps){a=i({},a),o=o.defaultProps;for(var f in o)a[f]===void 0&&(a[f]=o[f]);return a}return a}var Il=Yn(null),Rl=null,gi=null,Al=null;function hf(){Al=gi=Rl=null}function Fp(o,a){o=o.type._context,Nr?(ze(Il,o._currentValue),o._currentValue=a):(ze(Il,o._currentValue2),o._currentValue2=a)}function cf(o){var a=Il.current;Re(Il),o=o.type._context,Nr?o._currentValue=a:o._currentValue2=a}function Bp(o,a){for(;o!==null;){var f=o.alternate;if((o.childLanes&a)===a){if(f===null||(f.childLanes&a)===a)break;f.childLanes|=a}else o.childLanes|=a,f!==null&&(f.childLanes|=a);o=o.return}}function mi(o,a){Rl=o,Al=gi=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!=0&&($t=!0),o.firstContext=null)}function Mt(o,a){if(Al!==o&&a!==!1&&a!==0)if((typeof a!="number"||a===1073741823)&&(Al=o,a=1073741823),a={context:o,observedBits:a,next:null},gi===null){if(Rl===null)throw Error(u(308));gi=a,Rl.dependencies={lanes:0,firstContext:a,responders:null}}else gi=gi.next=a;return Nr?o._currentValue:o._currentValue2}var Xn=!1;function df(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Gp(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function $n(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Kn(o,a){if(o=o.updateQueue,o!==null){o=o.shared;var f=o.pending;f===null?a.next=a:(a.next=f.next,f.next=a),o.pending=a}}function Up(o,a){var f=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,f===d)){var g=null,y=null;if(f=f.firstBaseUpdate,f!==null){do{var T={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};y===null?g=y=T:y=y.next=T,f=f.next}while(f!==null);y===null?g=y=a:y=y.next=a}else g=y=a;f={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:d.shared,effects:d.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=a:o.next=a,f.lastBaseUpdate=a}function ks(o,a,f,d){var g=o.updateQueue;Xn=!1;var y=g.firstBaseUpdate,T=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var z=A,Q=z.next;z.next=null,T===null?y=Q:T.next=Q,T=z;var ie=o.alternate;if(ie!==null){ie=ie.updateQueue;var ae=ie.lastBaseUpdate;ae!==T&&(ae===null?ie.firstBaseUpdate=Q:ae.next=Q,ie.lastBaseUpdate=z)}}if(y!==null){ae=g.baseState,T=0,ie=Q=z=null;do{A=y.lane;var K=y.eventTime;if((d&A)===A){ie!==null&&(ie=ie.next={eventTime:K,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var Ce=o,Ne=y;switch(A=a,K=f,Ne.tag){case 1:if(Ce=Ne.payload,typeof Ce=="function"){ae=Ce.call(K,ae,A);break e}ae=Ce;break e;case 3:Ce.flags=Ce.flags&-4097|64;case 0:if(Ce=Ne.payload,A=typeof Ce=="function"?Ce.call(K,ae,A):Ce,A==null)break e;ae=i({},ae,A);break e;case 2:Xn=!0}}y.callback!==null&&(o.flags|=32,A=g.effects,A===null?g.effects=[y]:A.push(y))}else K={eventTime:K,lane:A,tag:y.tag,payload:y.payload,callback:y.callback,next:null},ie===null?(Q=ie=K,z=ae):ie=ie.next=K,T|=A;if(y=y.next,y===null){if(A=g.shared.pending,A===null)break;y=A.next,A.next=null,g.lastBaseUpdate=A,g.shared.pending=null}}while(1);ie===null&&(z=ae),g.baseState=z,g.firstBaseUpdate=Q,g.lastBaseUpdate=ie,Gs|=T,o.lanes=T,o.memoizedState=ae}}function bp(o,a,f){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var d=o[a],g=d.callback;if(g!==null){if(d.callback=null,d=f,typeof g!="function")throw Error(u(191,g));g.call(d)}}}var Hp=new s.Component().refs;function Ll(o,a,f,d){a=o.memoizedState,f=f(d,a),f=f==null?a:i({},a,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Nl={isMounted:function(o){return(o=o._reactInternals)?q(o)===o:!1},enqueueSetState:function(o,a,f){o=o._reactInternals;var d=xt(),g=er(o),y=$n(d,g);y.payload=a,f!=null&&(y.callback=f),Kn(o,y),On(o,g,d)},enqueueReplaceState:function(o,a,f){o=o._reactInternals;var d=xt(),g=er(o),y=$n(d,g);y.tag=1,y.payload=a,f!=null&&(y.callback=f),Kn(o,y),On(o,g,d)},enqueueForceUpdate:function(o,a){o=o._reactInternals;var f=xt(),d=er(o),g=$n(f,d);g.tag=2,a!=null&&(g.callback=a),Kn(o,g),On(o,d,f)}};function Vp(o,a,f,d,g,y,T){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,y,T):a.prototype&&a.prototype.isPureReactComponent?!Tl(f,d)||!Tl(g,y):!0}function Wp(o,a,f){var d=!1,g=Qn,y=a.contextType;return typeof y=="object"&&y!==null?y=Mt(y):(g=_t(a)?Or:lt.current,d=a.contextTypes,y=(d=d!=null)?ci(o,g):Qn),a=new a(f,y),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Nl,o.stateNode=a,a._reactInternals=o,d&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=g,o.__reactInternalMemoizedMaskedChildContext=y),a}function jp(o,a,f,d){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,d),a.state!==o&&Nl.enqueueReplaceState(a,a.state,null)}function pf(o,a,f,d){var g=o.stateNode;g.props=f,g.state=o.memoizedState,g.refs=Hp,df(o);var y=a.contextType;typeof y=="object"&&y!==null?g.context=Mt(y):(y=_t(a)?Or:lt.current,g.context=ci(o,y)),ks(o,f,g,d),g.state=o.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Ll(o,a,y,f),g.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Nl.enqueueReplaceState(g,g.state,null),ks(o,f,g,d),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4)}var Ol=Array.isArray;function Ps(o,a,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(u(309));var d=f.stateNode}if(!d)throw Error(u(147,o));var g=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===g?a.ref:(a=function(y){var T=d.refs;T===Hp&&(T=d.refs={}),y===null?delete T[g]:T[g]=y},a._stringRef=g,a)}if(typeof o!="string")throw Error(u(284));if(!f._owner)throw Error(u(290,o))}return o}function Ml(o,a){if(o.type!=="textarea")throw Error(u(31,Object.prototype.toString.call(a)==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":a))}function Yp(o){function a(M,L){if(o){var G=M.lastEffect;G!==null?(G.nextEffect=L,M.lastEffect=L):M.firstEffect=M.lastEffect=L,L.nextEffect=null,L.flags=8}}function f(M,L){if(!o)return null;for(;L!==null;)a(M,L),L=L.sibling;return null}function d(M,L){for(M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function g(M,L){return M=nr(M,L),M.index=0,M.sibling=null,M}function y(M,L,G){return M.index=G,o?(G=M.alternate,G!==null?(G=G.index,G<L?(M.flags=2,L):G):(M.flags=2,L)):L}function T(M){return o&&M.alternate===null&&(M.flags=2),M}function A(M,L,G,$){return L===null||L.tag!==6?(L=nh(G,M.mode,$),L.return=M,L):(L=g(L,G),L.return=M,L)}function z(M,L,G,$){return L!==null&&L.elementType===G.type?($=g(L,G.props),$.ref=Ps(M,L,G),$.return=M,$):($=aa(G.type,G.key,G.props,null,M.mode,$),$.ref=Ps(M,L,G),$.return=M,$)}function Q(M,L,G,$){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=rh(G,M.mode,$),L.return=M,L):(L=g(L,G.children||[]),L.return=M,L)}function ie(M,L,G,$,se){return L===null||L.tag!==7?(L=Ci(G,M.mode,$,se),L.return=M,L):(L=g(L,G),L.return=M,L)}function ae(M,L,G){if(typeof L=="string"||typeof L=="number")return L=nh(""+L,M.mode,G),L.return=M,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case c:return G=aa(L.type,L.key,L.props,null,M.mode,G),G.ref=Ps(M,null,L),G.return=M,G;case m:return L=rh(L,M.mode,G),L.return=M,L}if(Ol(L)||X(L))return L=Ci(L,M.mode,G,null),L.return=M,L;Ml(M,L)}return null}function K(M,L,G,$){var se=L!==null?L.key:null;if(typeof G=="string"||typeof G=="number")return se!==null?null:A(M,L,""+G,$);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case c:return G.key===se?G.type===_?ie(M,L,G.props.children,$,se):z(M,L,G,$):null;case m:return G.key===se?Q(M,L,G,$):null}if(Ol(G)||X(G))return se!==null?null:ie(M,L,G,$,null);Ml(M,G)}return null}function Ce(M,L,G,$,se){if(typeof $=="string"||typeof $=="number")return M=M.get(G)||null,A(L,M,""+$,se);if(typeof $=="object"&&$!==null){switch($.$$typeof){case c:return M=M.get($.key===null?G:$.key)||null,$.type===_?ie(L,M,$.props.children,se,$.key):z(L,M,$,se);case m:return M=M.get($.key===null?G:$.key)||null,Q(L,M,$,se)}if(Ol($)||X($))return M=M.get(G)||null,ie(L,M,$,se,null);Ml(L,$)}return null}function Ne(M,L,G,$){for(var se=null,Te=null,fe=L,ye=L=0,je=null;fe!==null&&ye<G.length;ye++){fe.index>ye?(je=fe,fe=null):je=fe.sibling;var pe=K(M,fe,G[ye],$);if(pe===null){fe===null&&(fe=je);break}o&&fe&&pe.alternate===null&&a(M,fe),L=y(pe,L,ye),Te===null?se=pe:Te.sibling=pe,Te=pe,fe=je}if(ye===G.length)return f(M,fe),se;if(fe===null){for(;ye<G.length;ye++)fe=ae(M,G[ye],$),fe!==null&&(L=y(fe,L,ye),Te===null?se=fe:Te.sibling=fe,Te=fe);return se}for(fe=d(M,fe);ye<G.length;ye++)je=Ce(fe,M,ye,G[ye],$),je!==null&&(o&&je.alternate!==null&&fe.delete(je.key===null?ye:je.key),L=y(je,L,ye),Te===null?se=je:Te.sibling=je,Te=je);return o&&fe.forEach(function(rr){return a(M,rr)}),se}function Bt(M,L,G,$){var se=X(G);if(typeof se!="function")throw Error(u(150));if(G=se.call(G),G==null)throw Error(u(151));for(var Te=se=null,fe=L,ye=L=0,je=null,pe=G.next();fe!==null&&!pe.done;ye++,pe=G.next()){fe.index>ye?(je=fe,fe=null):je=fe.sibling;var rr=K(M,fe,pe.value,$);if(rr===null){fe===null&&(fe=je);break}o&&fe&&rr.alternate===null&&a(M,fe),L=y(rr,L,ye),Te===null?se=rr:Te.sibling=rr,Te=rr,fe=je}if(pe.done)return f(M,fe),se;if(fe===null){for(;!pe.done;ye++,pe=G.next())pe=ae(M,pe.value,$),pe!==null&&(L=y(pe,L,ye),Te===null?se=pe:Te.sibling=pe,Te=pe);return se}for(fe=d(M,fe);!pe.done;ye++,pe=G.next())pe=Ce(fe,M,ye,pe.value,$),pe!==null&&(o&&pe.alternate!==null&&fe.delete(pe.key===null?ye:pe.key),L=y(pe,L,ye),Te===null?se=pe:Te.sibling=pe,Te=pe);return o&&fe.forEach(function(m2){return a(M,m2)}),se}return function(M,L,G,$){var se=typeof G=="object"&&G!==null&&G.type===_&&G.key===null;se&&(G=G.props.children);var Te=typeof G=="object"&&G!==null;if(Te)switch(G.$$typeof){case c:e:{for(Te=G.key,se=L;se!==null;){if(se.key===Te){switch(se.tag){case 7:if(G.type===_){f(M,se.sibling),L=g(se,G.props.children),L.return=M,M=L;break e}break;default:if(se.elementType===G.type){f(M,se.sibling),L=g(se,G.props),L.ref=Ps(M,se,G),L.return=M,M=L;break e}}f(M,se);break}else a(M,se);se=se.sibling}G.type===_?(L=Ci(G.props.children,M.mode,$,G.key),L.return=M,M=L):($=aa(G.type,G.key,G.props,null,M.mode,$),$.ref=Ps(M,L,G),$.return=M,M=$)}return T(M);case m:e:{for(se=G.key;L!==null;){if(L.key===se)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){f(M,L.sibling),L=g(L,G.children||[]),L.return=M,M=L;break e}else{f(M,L);break}else a(M,L);L=L.sibling}L=rh(G,M.mode,$),L.return=M,M=L}return T(M)}if(typeof G=="string"||typeof G=="number")return G=""+G,L!==null&&L.tag===6?(f(M,L.sibling),L=g(L,G),L.return=M,M=L):(f(M,L),L=nh(G,M.mode,$),L.return=M,M=L),T(M);if(Ol(G))return Ne(M,L,G,$);if(X(G))return Bt(M,L,G,$);if(Te&&Ml(M,G),typeof G=="undefined"&&!se)switch(M.tag){case 1:case 22:case 0:case 11:case 15:throw Error(u(152,ne(M.type)||"Component"))}return f(M,L)}}var Dl=Yp(!0),Qp=Yp(!1),Ts={},Dt=Yn(Ts),Is=Yn(Ts),vi=Yn(Ts);function an(o){if(o===Ts)throw Error(u(174));return o}function gf(o,a){ze(vi,a),ze(Is,o),ze(Dt,Ts),o=de(a),Re(Dt),ze(Dt,o)}function yi(){Re(Dt),Re(Is),Re(vi)}function qp(o){var a=an(vi.current),f=an(Dt.current);a=b(f,o.type,a),f!==a&&(ze(Is,o),ze(Dt,a))}function mf(o){Is.current===o&&(Re(Dt),Re(Is))}var Fe=Yn(0);function zl(o){for(var a=o;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||x_(f)||E_(f)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&64)!=0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Rn=null,zr=null,un=!1;function Xp(o,a){var f=Ft(5,null,null,0);f.elementType="DELETED",f.type="DELETED",f.stateNode=a,f.return=o,f.flags=8,o.lastEffect!==null?(o.lastEffect.nextEffect=f,o.lastEffect=f):o.firstEffect=o.lastEffect=f}function $p(o,a){switch(o.tag){case 5:return a=w_(a,o.type,o.pendingProps),a!==null?(o.stateNode=a,!0):!1;case 6:return a=S_(a,o.pendingProps),a!==null?(o.stateNode=a,!0):!1;case 13:return!1;default:return!1}}function vf(o){if(un){var a=zr;if(a){var f=a;if(!$p(o,a)){if(a=Ju(f),!a||!$p(o,a)){o.flags=o.flags&-1025|2,un=!1,Rn=o;return}Xp(Rn,f)}Rn=o,zr=Ep(a)}else o.flags=o.flags&-1025|2,un=!1,Rn=o}}function Kp(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Rn=o}function Fl(o){if(!qt||o!==Rn)return!1;if(!un)return Kp(o),un=!0,!1;var a=o.type;if(o.tag!==5||a!=="head"&&a!=="body"&&!kn(a,o.memoizedProps))for(a=zr;a;)Xp(o,a),a=Ju(a);if(Kp(o),o.tag===13){if(!qt)throw Error(u(316));if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(u(317));zr=P_(o)}else zr=Rn?Ju(o.stateNode):null;return!0}function yf(){qt&&(zr=Rn=null,un=!1)}var _i=[];function _f(){for(var o=0;o<_i.length;o++){var a=_i[o];Nr?a._workInProgressVersionPrimary=null:a._workInProgressVersionSecondary=null}_i.length=0}var Rs=h.ReactCurrentDispatcher,zt=h.ReactCurrentBatchConfig,As=0,He=null,at=null,et=null,Bl=!1,Ls=!1;function wt(){throw Error(u(321))}function wf(o,a){if(a===null)return!1;for(var f=0;f<a.length&&f<o.length;f++)if(!Ot(o[f],a[f]))return!1;return!0}function Sf(o,a,f,d,g,y){if(As=y,He=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Rs.current=o===null||o.memoizedState===null?V_:W_,o=f(d,g),Ls){y=0;do{if(Ls=!1,!(25>y))throw Error(u(301));y+=1,et=at=null,a.updateQueue=null,Rs.current=j_,o=f(d,g)}while(Ls)}if(Rs.current=Hl,a=at!==null&&at.next!==null,As=0,et=at=He=null,Bl=!1,a)throw Error(u(300));return o}function Fr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?He.memoizedState=et=o:et=et.next=o,et}function Br(){if(at===null){var o=He.alternate;o=o!==null?o.memoizedState:null}else o=at.next;var a=et===null?He.memoizedState:et.next;if(a!==null)et=a,at=o;else{if(o===null)throw Error(u(310));at=o,o={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},et===null?He.memoizedState=et=o:et=et.next=o}return et}function fn(o,a){return typeof a=="function"?a(o):a}function Ns(o){var a=Br(),f=a.queue;if(f===null)throw Error(u(311));f.lastRenderedReducer=o;var d=at,g=d.baseQueue,y=f.pending;if(y!==null){if(g!==null){var T=g.next;g.next=y.next,y.next=T}d.baseQueue=g=y,f.pending=null}if(g!==null){g=g.next,d=d.baseState;var A=T=y=null,z=g;do{var Q=z.lane;if((As&Q)===Q)A!==null&&(A=A.next={lane:0,action:z.action,eagerReducer:z.eagerReducer,eagerState:z.eagerState,next:null}),d=z.eagerReducer===o?z.eagerState:o(d,z.action);else{var ie={lane:Q,action:z.action,eagerReducer:z.eagerReducer,eagerState:z.eagerState,next:null};A===null?(T=A=ie,y=d):A=A.next=ie,He.lanes|=Q,Gs|=Q}z=z.next}while(z!==null&&z!==g);A===null?y=d:A.next=T,Ot(d,a.memoizedState)||($t=!0),a.memoizedState=d,a.baseState=y,a.baseQueue=A,f.lastRenderedState=d}return[a.memoizedState,f.dispatch]}function Os(o){var a=Br(),f=a.queue;if(f===null)throw Error(u(311));f.lastRenderedReducer=o;var d=f.dispatch,g=f.pending,y=a.memoizedState;if(g!==null){f.pending=null;var T=g=g.next;do y=o(y,T.action),T=T.next;while(T!==g);Ot(y,a.memoizedState)||($t=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),f.lastRenderedState=y}return[y,d]}function Zp(o,a,f){var d=a._getVersion;d=d(a._source);var g=Nr?a._workInProgressVersionPrimary:a._workInProgressVersionSecondary;if(g!==null?o=g===d:(o=o.mutableReadLanes,(o=(As&o)===o)&&(Nr?a._workInProgressVersionPrimary=d:a._workInProgressVersionSecondary=d,_i.push(a))),o)return f(a._source);throw _i.push(a),Error(u(350))}function Jp(o,a,f,d){var g=pt;if(g===null)throw Error(u(349));var y=a._getVersion,T=y(a._source),A=Rs.current,z=A.useState(function(){return Zp(g,a,f)}),Q=z[1],ie=z[0];z=et;var ae=o.memoizedState,K=ae.refs,Ce=K.getSnapshot,Ne=ae.source;ae=ae.subscribe;var Bt=He;return o.memoizedState={refs:K,source:a,subscribe:d},A.useEffect(function(){K.getSnapshot=f,K.setSnapshot=Q;var M=y(a._source);if(!Ot(T,M)){M=f(a._source),Ot(ie,M)||(Q(M),M=er(Bt),g.mutableReadLanes|=M&g.pendingLanes),M=g.mutableReadLanes,g.entangledLanes|=M;for(var L=g.entanglements,G=M;0<G;){var $=31-qn(G),se=1<<$;L[$]|=M,G&=~se}}},[f,a,d]),A.useEffect(function(){return d(a._source,function(){var M=K.getSnapshot,L=K.setSnapshot;try{L(M(a._source));var G=er(Bt);g.mutableReadLanes|=G&g.pendingLanes}catch($){L(function(){throw $})}})},[a,d]),Ot(Ce,f)&&Ot(Ne,a)&&Ot(ae,d)||(o={pending:null,dispatch:null,lastRenderedReducer:fn,lastRenderedState:ie},o.dispatch=Q=kf.bind(null,He,o),z.queue=o,z.baseQueue=null,ie=Zp(g,a,f),z.memoizedState=z.baseState=ie),ie}function eg(o,a,f){var d=Br();return Jp(d,o,a,f)}function Ms(o){var a=Fr();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o=a.queue={pending:null,dispatch:null,lastRenderedReducer:fn,lastRenderedState:o},o=o.dispatch=kf.bind(null,He,o),[a.memoizedState,o]}function Gl(o,a,f,d){return o={tag:o,create:a,destroy:f,deps:d,next:null},a=He.updateQueue,a===null?(a={lastEffect:null},He.updateQueue=a,a.lastEffect=o.next=o):(f=a.lastEffect,f===null?a.lastEffect=o.next=o:(d=f.next,f.next=o,o.next=d,a.lastEffect=o)),o}function tg(o){var a=Fr();return o={current:o},a.memoizedState=o}function Ul(){return Br().memoizedState}function xf(o,a,f,d){var g=Fr();He.flags|=o,g.memoizedState=Gl(1|a,f,void 0,d===void 0?null:d)}function Ef(o,a,f,d){var g=Br();d=d===void 0?null:d;var y=void 0;if(at!==null){var T=at.memoizedState;if(y=T.destroy,d!==null&&wf(d,T.deps)){Gl(a,f,y,d);return}}He.flags|=o,g.memoizedState=Gl(1|a,f,y,d)}function ng(o,a){return xf(516,4,o,a)}function bl(o,a){return Ef(516,4,o,a)}function rg(o,a){return Ef(4,2,o,a)}function ig(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function sg(o,a,f){return f=f!=null?f.concat([o]):null,Ef(4,2,ig.bind(null,a,o),f)}function Cf(){}function og(o,a){var f=Br();a=a===void 0?null:a;var d=f.memoizedState;return d!==null&&a!==null&&wf(a,d[1])?d[0]:(f.memoizedState=[o,a],o)}function lg(o,a){var f=Br();a=a===void 0?null:a;var d=f.memoizedState;return d!==null&&a!==null&&wf(a,d[1])?d[0]:(o=o(),f.memoizedState=[o,a],o)}function H_(o,a){var f=pi();In(98>f?98:f,function(){o(!0)}),In(97<f?97:f,function(){var d=zt.transition;zt.transition=1;try{o(!1),a()}finally{zt.transition=d}})}function kf(o,a,f){var d=xt(),g=er(o),y={lane:g,action:f,eagerReducer:null,eagerState:null,next:null},T=a.pending;if(T===null?y.next=y:(y.next=T.next,T.next=y),a.pending=y,T=o.alternate,o===He||T!==null&&T===He)Ls=Bl=!0;else{if(o.lanes===0&&(T===null||T.lanes===0)&&(T=a.lastRenderedReducer,T!==null))try{var A=a.lastRenderedState,z=T(A,f);if(y.eagerReducer=T,y.eagerState=z,Ot(z,A))return}catch{}finally{}On(o,g,d)}}var Hl={readContext:Mt,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useOpaqueIdentifier:wt,unstable_isNewReconciler:!1},V_={readContext:Mt,useCallback:function(o,a){return Fr().memoizedState=[o,a===void 0?null:a],o},useContext:Mt,useEffect:ng,useImperativeHandle:function(o,a,f){return f=f!=null?f.concat([o]):null,xf(4,2,ig.bind(null,a,o),f)},useLayoutEffect:function(o,a){return xf(4,2,o,a)},useMemo:function(o,a){var f=Fr();return a=a===void 0?null:a,o=o(),f.memoizedState=[o,a],o},useReducer:function(o,a,f){var d=Fr();return a=f!==void 0?f(a):a,d.memoizedState=d.baseState=a,o=d.queue={pending:null,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},o=o.dispatch=kf.bind(null,He,o),[d.memoizedState,o]},useRef:tg,useState:Ms,useDebugValue:Cf,useDeferredValue:function(o){var a=Ms(o),f=a[0],d=a[1];return ng(function(){var g=zt.transition;zt.transition=1;try{d(o)}finally{zt.transition=g}},[o]),f},useTransition:function(){var o=Ms(!1),a=o[0];return o=H_.bind(null,o[1]),tg(o),[o,a]},useMutableSource:function(o,a,f){var d=Fr();return d.memoizedState={refs:{getSnapshot:a,setSnapshot:null},source:o,subscribe:f},Jp(d,o,a,f)},useOpaqueIdentifier:function(){if(un){var o=!1,a=$1(function(){throw o||(o=!0,f(Ku())),Error(u(355))}),f=Ms(a)[1];return(He.mode&2)==0&&(He.flags|=516,Gl(5,function(){f(Ku())},void 0,null)),a}return a=Ku(),Ms(a),a},unstable_isNewReconciler:!1},W_={readContext:Mt,useCallback:og,useContext:Mt,useEffect:bl,useImperativeHandle:sg,useLayoutEffect:rg,useMemo:lg,useReducer:Ns,useRef:Ul,useState:function(){return Ns(fn)},useDebugValue:Cf,useDeferredValue:function(o){var a=Ns(fn),f=a[0],d=a[1];return bl(function(){var g=zt.transition;zt.transition=1;try{d(o)}finally{zt.transition=g}},[o]),f},useTransition:function(){var o=Ns(fn)[0];return[Ul().current,o]},useMutableSource:eg,useOpaqueIdentifier:function(){return Ns(fn)[0]},unstable_isNewReconciler:!1},j_={readContext:Mt,useCallback:og,useContext:Mt,useEffect:bl,useImperativeHandle:sg,useLayoutEffect:rg,useMemo:lg,useReducer:Os,useRef:Ul,useState:function(){return Os(fn)},useDebugValue:Cf,useDeferredValue:function(o){var a=Os(fn),f=a[0],d=a[1];return bl(function(){var g=zt.transition;zt.transition=1;try{d(o)}finally{zt.transition=g}},[o]),f},useTransition:function(){var o=Os(fn)[0];return[Ul().current,o]},useMutableSource:eg,useOpaqueIdentifier:function(){return Os(fn)[0]},unstable_isNewReconciler:!1},Y_=h.ReactCurrentOwner,$t=!1;function St(o,a,f,d){a.child=o===null?Qp(a,null,f,d):Dl(a,o.child,f,d)}function ag(o,a,f,d,g){f=f.render;var y=a.ref;return mi(a,g),d=Sf(o,a,f,d,y,g),o!==null&&!$t?(a.updateQueue=o.updateQueue,a.flags&=-517,o.lanes&=~g,An(o,a,g)):(a.flags|=1,St(o,a,d,g),a.child)}function ug(o,a,f,d,g,y){if(o===null){var T=f.type;return typeof T=="function"&&!eh(T)&&T.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(a.tag=15,a.type=T,fg(o,a,T,d,g,y)):(o=aa(f.type,null,d,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}return T=o.child,(g&y)==0&&(g=T.memoizedProps,f=f.compare,f=f!==null?f:Tl,f(g,d)&&o.ref===a.ref)?An(o,a,y):(a.flags|=1,o=nr(T,d),o.ref=a.ref,o.return=a,a.child=o)}function fg(o,a,f,d,g,y){if(o!==null&&Tl(o.memoizedProps,d)&&o.ref===a.ref)if($t=!1,(y&g)!=0)(o.flags&16384)!=0&&($t=!0);else return a.lanes=o.lanes,An(o,a,y);return Tf(o,a,f,d,y)}function Pf(o,a,f){var d=a.pendingProps,g=d.children,y=o!==null?o.memoizedState:null;if(d.mode==="hidden"||d.mode==="unstable-defer-without-hiding")if((a.mode&4)==0)a.memoizedState={baseLanes:0},sa(a,f);else if((f&1073741824)!=0)a.memoizedState={baseLanes:0},sa(a,y!==null?y.baseLanes:f);else return o=y!==null?y.baseLanes|f:f,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o},sa(a,o),null;else y!==null?(d=y.baseLanes|f,a.memoizedState=null):d=f,sa(a,d);return St(o,a,g,f),a.child}function hg(o,a){var f=a.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(a.flags|=128)}function Tf(o,a,f,d,g){var y=_t(f)?Or:lt.current;return y=ci(a,y),mi(a,g),f=Sf(o,a,f,d,y,g),o!==null&&!$t?(a.updateQueue=o.updateQueue,a.flags&=-517,o.lanes&=~g,An(o,a,g)):(a.flags|=1,St(o,a,f,g),a.child)}function cg(o,a,f,d,g){if(_t(f)){var y=!0;Sl(a)}else y=!1;if(mi(a,g),a.stateNode===null)o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2),Wp(a,f,d),pf(a,f,d,g),d=!0;else if(o===null){var T=a.stateNode,A=a.memoizedProps;T.props=A;var z=T.context,Q=f.contextType;typeof Q=="object"&&Q!==null?Q=Mt(Q):(Q=_t(f)?Or:lt.current,Q=ci(a,Q));var ie=f.getDerivedStateFromProps,ae=typeof ie=="function"||typeof T.getSnapshotBeforeUpdate=="function";ae||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(A!==d||z!==Q)&&jp(a,T,d,Q),Xn=!1;var K=a.memoizedState;T.state=K,ks(a,d,T,g),z=a.memoizedState,A!==d||K!==z||yt.current||Xn?(typeof ie=="function"&&(Ll(a,f,ie,d),z=a.memoizedState),(A=Xn||Vp(a,f,A,d,K,z,Q))?(ae||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4)):(typeof T.componentDidMount=="function"&&(a.flags|=4),a.memoizedProps=d,a.memoizedState=z),T.props=d,T.state=z,T.context=Q,d=A):(typeof T.componentDidMount=="function"&&(a.flags|=4),d=!1)}else{T=a.stateNode,Gp(o,a),A=a.memoizedProps,Q=a.type===a.elementType?A:Xt(a.type,A),T.props=Q,ae=a.pendingProps,K=T.context,z=f.contextType,typeof z=="object"&&z!==null?z=Mt(z):(z=_t(f)?Or:lt.current,z=ci(a,z));var Ce=f.getDerivedStateFromProps;(ie=typeof Ce=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(A!==ae||K!==z)&&jp(a,T,d,z),Xn=!1,K=a.memoizedState,T.state=K,ks(a,d,T,g);var Ne=a.memoizedState;A!==ae||K!==Ne||yt.current||Xn?(typeof Ce=="function"&&(Ll(a,f,Ce,d),Ne=a.memoizedState),(Q=Xn||Vp(a,f,Q,d,K,Ne,z))?(ie||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,Ne,z),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,Ne,z)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=256)):(typeof T.componentDidUpdate!="function"||A===o.memoizedProps&&K===o.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===o.memoizedProps&&K===o.memoizedState||(a.flags|=256),a.memoizedProps=d,a.memoizedState=Ne),T.props=d,T.state=Ne,T.context=z,d=Q):(typeof T.componentDidUpdate!="function"||A===o.memoizedProps&&K===o.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===o.memoizedProps&&K===o.memoizedState||(a.flags|=256),d=!1)}return If(o,a,f,d,y,g)}function If(o,a,f,d,g,y){hg(o,a);var T=(a.flags&64)!=0;if(!d&&!T)return g&&Tp(a,f,!1),An(o,a,y);d=a.stateNode,Y_.current=a;var A=T&&typeof f.getDerivedStateFromError!="function"?null:d.render();return a.flags|=1,o!==null&&T?(a.child=Dl(a,o.child,null,y),a.child=Dl(a,null,A,y)):St(o,a,A,y),a.memoizedState=d.state,g&&Tp(a,f,!0),a.child}function dg(o){var a=o.stateNode;a.pendingContext?kp(o,a.pendingContext,a.pendingContext!==a.context):a.context&&kp(o,a.context,!1),gf(o,a.containerInfo)}var Vl={dehydrated:null,retryLane:0};function pg(o,a,f){var d=a.pendingProps,g=Fe.current,y=!1,T;return(T=(a.flags&64)!=0)||(T=o!==null&&o.memoizedState===null?!1:(g&2)!=0),T?(y=!0,a.flags&=-65):o!==null&&o.memoizedState===null||d.fallback===void 0||d.unstable_avoidThisFallback===!0||(g|=1),ze(Fe,g&1),o===null?(d.fallback!==void 0&&vf(a),o=d.children,g=d.fallback,y?(o=gg(a,o,g,f),a.child.memoizedState={baseLanes:f},a.memoizedState=Vl,o):typeof d.unstable_expectedLoadTime=="number"?(o=gg(a,o,g,f),a.child.memoizedState={baseLanes:f},a.memoizedState=Vl,a.lanes=33554432,o):(f=th({mode:"visible",children:o},a.mode,f,null),f.return=a,a.child=f)):o.memoizedState!==null?y?(d=vg(o,a,d.children,d.fallback,f),y=a.child,g=o.child.memoizedState,y.memoizedState=g===null?{baseLanes:f}:{baseLanes:g.baseLanes|f},y.childLanes=o.childLanes&~f,a.memoizedState=Vl,d):(f=mg(o,a,d.children,f),a.memoizedState=null,f):y?(d=vg(o,a,d.children,d.fallback,f),y=a.child,g=o.child.memoizedState,y.memoizedState=g===null?{baseLanes:f}:{baseLanes:g.baseLanes|f},y.childLanes=o.childLanes&~f,a.memoizedState=Vl,d):(f=mg(o,a,d.children,f),a.memoizedState=null,f)}function gg(o,a,f,d){var g=o.mode,y=o.child;return a={mode:"hidden",children:a},(g&2)==0&&y!==null?(y.childLanes=0,y.pendingProps=a):y=th(a,g,0,null),f=Ci(f,g,d,null),y.return=o,f.return=o,y.sibling=f,o.child=y,f}function mg(o,a,f,d){var g=o.child;return o=g.sibling,f=nr(g,{mode:"visible",children:f}),(a.mode&2)==0&&(f.lanes=d),f.return=a,f.sibling=null,o!==null&&(o.nextEffect=null,o.flags=8,a.firstEffect=a.lastEffect=o),a.child=f}function vg(o,a,f,d,g){var y=a.mode,T=o.child;o=T.sibling;var A={mode:"hidden",children:f};return(y&2)==0&&a.child!==T?(f=a.child,f.childLanes=0,f.pendingProps=A,T=f.lastEffect,T!==null?(a.firstEffect=f.firstEffect,a.lastEffect=T,T.nextEffect=null):a.firstEffect=a.lastEffect=null):f=nr(T,A),o!==null?d=nr(o,d):(d=Ci(d,y,g,null),d.flags|=2),d.return=a,f.return=a,f.sibling=d,a.child=f,d}function yg(o,a){o.lanes|=a;var f=o.alternate;f!==null&&(f.lanes|=a),Bp(o.return,a)}function Rf(o,a,f,d,g,y){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:f,tailMode:g,lastEffect:y}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=d,T.tail=f,T.tailMode=g,T.lastEffect=y)}function _g(o,a,f){var d=a.pendingProps,g=d.revealOrder,y=d.tail;if(St(o,a,d.children,f),d=Fe.current,(d&2)!=0)d=d&1|2,a.flags|=64;else{if(o!==null&&(o.flags&64)!=0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&yg(o,f);else if(o.tag===19)yg(o,f);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}if(ze(Fe,d),(a.mode&2)==0)a.memoizedState=null;else switch(g){case"forwards":for(f=a.child,g=null;f!==null;)o=f.alternate,o!==null&&zl(o)===null&&(g=f),f=f.sibling;f=g,f===null?(g=a.child,a.child=null):(g=f.sibling,f.sibling=null),Rf(a,!1,g,f,y,a.lastEffect);break;case"backwards":for(f=null,g=a.child,a.child=null;g!==null;){if(o=g.alternate,o!==null&&zl(o)===null){a.child=g;break}o=g.sibling,g.sibling=f,f=g,g=o}Rf(a,!0,f,null,y,a.lastEffect);break;case"together":Rf(a,!1,null,null,void 0,a.lastEffect);break;default:a.memoizedState=null}return a.child}function An(o,a,f){if(o!==null&&(a.dependencies=o.dependencies),Gs|=a.lanes,(f&a.childLanes)!=0){if(o!==null&&a.child!==o.child)throw Error(u(153));if(a.child!==null){for(o=a.child,f=nr(o,o.pendingProps),a.child=f,f.return=a;o.sibling!==null;)o=o.sibling,f=f.sibling=nr(o,o.pendingProps),f.return=a;f.sibling=null}return a.child}return null}function hn(o){o.flags|=4}var Ds,zs,Wl,jl;if(Qt)Ds=function(o,a){for(var f=a.child;f!==null;){if(f.tag===5||f.tag===6)be(o,f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break;for(;f.sibling===null;){if(f.return===null||f.return===a)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},zs=function(){},Wl=function(o,a,f,d,g){if(o=o.memoizedProps,o!==d){var y=a.stateNode,T=an(Dt.current);f=ln(y,f,o,d,g,T),(a.updateQueue=f)&&hn(a)}},jl=function(o,a,f,d){f!==d&&hn(a)};else if(_s){Ds=function(o,a,f,d){for(var g=a.child;g!==null;){if(g.tag===5){var y=g.stateNode;f&&d&&(y=Sp(y,g.type,g.memoizedProps,g)),be(o,y)}else if(g.tag===6)y=g.stateNode,f&&d&&(y=xp(y,g.memoizedProps,g)),be(o,y);else if(g.tag!==4){if(g.tag===13&&(g.flags&4)!=0&&(y=g.memoizedState!==null)){var T=g.child;if(T!==null&&(T.child!==null&&(T.child.return=T,Ds(o,T,!0,y)),y=T.sibling,y!==null)){y.return=g,g=y;continue}}if(g.child!==null){g.child.return=g,g=g.child;continue}}if(g===a)break;for(;g.sibling===null;){if(g.return===null||g.return===a)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};var wg=function(o,a,f,d){for(var g=a.child;g!==null;){if(g.tag===5){var y=g.stateNode;f&&d&&(y=Sp(y,g.type,g.memoizedProps,g)),_p(o,y)}else if(g.tag===6)y=g.stateNode,f&&d&&(y=xp(y,g.memoizedProps,g)),_p(o,y);else if(g.tag!==4){if(g.tag===13&&(g.flags&4)!=0&&(y=g.memoizedState!==null)){var T=g.child;if(T!==null&&(T.child!==null&&(T.child.return=T,wg(o,T,!0,y)),y=T.sibling,y!==null)){y.return=g,g=y;continue}}if(g.child!==null){g.child.return=g,g=g.child;continue}}if(g===a)break;for(;g.sibling===null;){if(g.return===null||g.return===a)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};zs=function(o){var a=o.stateNode;if(o.firstEffect!==null){var f=a.containerInfo,d=yp(f);wg(d,o,!1,!1),a.pendingChildren=d,hn(o),__(f,d)}},Wl=function(o,a,f,d,g){var y=o.stateNode,T=o.memoizedProps;if((o=a.firstEffect===null)&&T===d)a.stateNode=y;else{var A=a.stateNode,z=an(Dt.current),Q=null;T!==d&&(Q=ln(A,f,T,d,g,z)),o&&Q===null?a.stateNode=y:(y=y_(y,Q,f,T,d,a,o,A),on(y,f,d,g,z)&&hn(a),a.stateNode=y,o?hn(a):Ds(y,a,!1,!1))}},jl=function(o,a,f,d){f!==d?(o=an(vi.current),f=an(Dt.current),a.stateNode=Pn(d,o,f,a),hn(a)):a.stateNode=o.stateNode}}else zs=function(){},Wl=function(){},jl=function(){};function Fs(o,a){if(!un)switch(o.tailMode){case"hidden":a=o.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var d=null;f!==null;)f.alternate!==null&&(d=f),f=f.sibling;d===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function Q_(o,a,f){var d=a.pendingProps;switch(a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return _t(a.type)&&wl(),null;case 3:return yi(),Re(yt),Re(lt),_f(),d=a.stateNode,d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(Fl(a)?hn(a):d.hydrate||(a.flags|=256)),zs(a),null;case 5:mf(a);var g=an(vi.current);if(f=a.type,o!==null&&a.stateNode!=null)Wl(o,a,f,d,g),o.ref!==a.ref&&(a.flags|=128);else{if(!d){if(a.stateNode===null)throw Error(u(166));return null}if(o=an(Dt.current),Fl(a)){if(!qt)throw Error(u(175));o=C_(a.stateNode,a.type,a.memoizedProps,g,o,a),a.updateQueue=o,o!==null&&hn(a)}else{var y=me(f,d,g,o,a);Ds(y,a,!1,!1),a.stateNode=y,on(y,f,d,g,o)&&hn(a)}a.ref!==null&&(a.flags|=128)}return null;case 6:if(o&&a.stateNode!=null)jl(o,a,o.memoizedProps,d);else{if(typeof d!="string"&&a.stateNode===null)throw Error(u(166));if(o=an(vi.current),g=an(Dt.current),Fl(a)){if(!qt)throw Error(u(176));k_(a.stateNode,a.memoizedProps,a)&&hn(a)}else a.stateNode=Pn(d,o,g,a)}return null;case 13:return Re(Fe),d=a.memoizedState,(a.flags&64)!=0?(a.lanes=f,a):(d=d!==null,g=!1,o===null?a.memoizedProps.fallback!==void 0&&Fl(a):g=o.memoizedState!==null,d&&!g&&(a.mode&2)!=0&&(o===null&&a.memoizedProps.unstable_avoidThisFallback!==!0||(Fe.current&1)!=0?tt===0&&(tt=3):((tt===0||tt===3)&&(tt=4),pt===null||(Gs&134217727)==0&&(Si&134217727)==0||xi(pt,ut))),_s&&d&&(a.flags|=4),Qt&&(d||g)&&(a.flags|=4),null);case 4:return yi(),zs(a),o===null&&Z1(a.stateNode.containerInfo),null;case 10:return cf(a),null;case 17:return _t(a.type)&&wl(),null;case 19:if(Re(Fe),d=a.memoizedState,d===null)return null;if(g=(a.flags&64)!=0,y=d.rendering,y===null)if(g)Fs(d,!1);else{if(tt!==0||o!==null&&(o.flags&64)!=0)for(o=a.child;o!==null;){if(y=zl(o),y!==null){for(a.flags|=64,Fs(d,!1),o=y.updateQueue,o!==null&&(a.updateQueue=o,a.flags|=4),d.lastEffect===null&&(a.firstEffect=null),a.lastEffect=d.lastEffect,o=f,d=a.child;d!==null;)g=d,f=o,g.flags&=2,g.nextEffect=null,g.firstEffect=null,g.lastEffect=null,y=g.alternate,y===null?(g.childLanes=0,g.lanes=f,g.child=null,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=y.childLanes,g.lanes=y.lanes,g.child=y.child,g.memoizedProps=y.memoizedProps,g.memoizedState=y.memoizedState,g.updateQueue=y.updateQueue,g.type=y.type,f=y.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),d=d.sibling;return ze(Fe,Fe.current&1|2),a.child}o=o.sibling}d.tail!==null&&Je()>jf&&(a.flags|=64,g=!0,Fs(d,!1),a.lanes=33554432)}else{if(!g)if(o=zl(y),o!==null){if(a.flags|=64,g=!0,o=o.updateQueue,o!==null&&(a.updateQueue=o,a.flags|=4),Fs(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!un)return a=a.lastEffect=d.lastEffect,a!==null&&(a.nextEffect=null),null}else 2*Je()-d.renderingStartTime>jf&&f!==1073741824&&(a.flags|=64,g=!0,Fs(d,!1),a.lanes=33554432);d.isBackwards?(y.sibling=a.child,a.child=y):(o=d.last,o!==null?o.sibling=y:a.child=y,d.last=y)}return d.tail!==null?(o=d.tail,d.rendering=o,d.tail=o.sibling,d.lastEffect=a.lastEffect,d.renderingStartTime=Je(),o.sibling=null,a=Fe.current,ze(Fe,g?a&1|2:a&1),o):null;case 23:case 24:return Kf(),o!==null&&o.memoizedState!==null!=(a.memoizedState!==null)&&d.mode!=="unstable-defer-without-hiding"&&(a.flags|=4),null}throw Error(u(156,a.tag))}function q_(o){switch(o.tag){case 1:_t(o.type)&&wl();var a=o.flags;return a&4096?(o.flags=a&-4097|64,o):null;case 3:if(yi(),Re(yt),Re(lt),_f(),a=o.flags,(a&64)!=0)throw Error(u(285));return o.flags=a&-4097|64,o;case 5:return mf(o),null;case 13:return Re(Fe),a=o.flags,a&4096?(o.flags=a&-4097|64,o):null;case 19:return Re(Fe),null;case 4:return yi(),null;case 10:return cf(o),null;case 23:case 24:return Kf(),null;default:return null}}function Af(o,a){try{var f="",d=a;do f+=b_(d),d=d.return;while(d);var g=f}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:o,source:a,stack:g}}function Lf(o,a){try{console.error(a.value)}catch(f){setTimeout(function(){throw f})}}var X_=typeof WeakMap=="function"?WeakMap:Map;function Sg(o,a,f){f=$n(-1,f),f.tag=3,f.payload={element:null};var d=a.value;return f.callback=function(){ta||(ta=!0,Yf=d),Lf(o,a)},f}function xg(o,a,f){f=$n(-1,f),f.tag=3;var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=a.value;f.payload=function(){return Lf(o,a),d(g)}}var y=o.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(f.callback=function(){typeof d!="function"&&(cn===null?cn=new Set([this]):cn.add(this),Lf(o,a));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),f}var $_=typeof WeakSet=="function"?WeakSet:Set;function Eg(o){var a=o.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(f){tr(o,f)}else a.current=null}function K_(o,a){switch(a.tag){case 0:case 11:case 15:case 22:return;case 1:if(a.flags&256&&o!==null){var f=o.memoizedProps,d=o.memoizedState;o=a.stateNode,a=o.getSnapshotBeforeUpdate(a.elementType===a.type?f:Xt(a.type,f),d),o.__reactInternalSnapshotBeforeUpdate=a}return;case 3:Qt&&a.flags&256&&Zu(a.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(u(163))}function Cg(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var f=a=a.next;do{if((f.tag&o)===o){var d=f.destroy;f.destroy=void 0,d!==void 0&&d()}f=f.next}while(f!==a)}}function Z_(o,a,f){switch(f.tag){case 0:case 11:case 15:case 22:if(a=f.updateQueue,a=a!==null?a.lastEffect:null,a!==null){o=a=a.next;do{if((o.tag&3)==3){var d=o.create;o.destroy=d()}o=o.next}while(o!==a)}if(a=f.updateQueue,a=a!==null?a.lastEffect:null,a!==null){o=a=a.next;do{var g=o;d=g.next,g=g.tag,(g&4)!=0&&(g&1)!=0&&(bg(f,o),l2(f,o)),o=d}while(o!==a)}return;case 1:o=f.stateNode,f.flags&4&&(a===null?o.componentDidMount():(d=f.elementType===f.type?a.memoizedProps:Xt(f.type,a.memoizedProps),o.componentDidUpdate(d,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate))),a=f.updateQueue,a!==null&&bp(f,a,o);return;case 3:if(a=f.updateQueue,a!==null){if(o=null,f.child!==null)switch(f.child.tag){case 5:o=Ye(f.child.stateNode);break;case 1:o=f.child.stateNode}bp(f,a,o)}return;case 5:o=f.stateNode,a===null&&f.flags&4&&a_(o,f.type,f.memoizedProps,f);return;case 6:return;case 4:return;case 12:return;case 13:qt&&f.memoizedState===null&&(f=f.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&T_(f))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(u(163))}function kg(o,a){if(Qt)for(var f=o;;){if(f.tag===5){var d=f.stateNode;a?p_(d):m_(f.stateNode,f.memoizedProps)}else if(f.tag===6)d=f.stateNode,a?g_(d):v_(d,f.memoizedProps);else if((f.tag!==23&&f.tag!==24||f.memoizedState===null||f===o)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===o)break;for(;f.sibling===null;){if(f.return===null||f.return===o)return;f=f.return}f.sibling.return=f.return,f=f.sibling}}function Pg(o,a){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(rf,a)}catch{}switch(a.tag){case 0:case 11:case 14:case 15:case 22:if(o=a.updateQueue,o!==null&&(o=o.lastEffect,o!==null)){var f=o=o.next;do{var d=f,g=d.destroy;if(d=d.tag,g!==void 0)if((d&4)!=0)bg(a,f);else{d=a;try{g()}catch(y){tr(d,y)}}f=f.next}while(f!==o)}break;case 1:if(Eg(a),o=a.stateNode,typeof o.componentWillUnmount=="function")try{o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(y){tr(a,y)}break;case 5:Eg(a);break;case 4:Qt?Lg(o,a):_s&&_s&&(a=a.stateNode.containerInfo,o=yp(a),wp(a,o))}}function Tg(o,a){for(var f=a;;)if(Pg(o,f),f.child===null||Qt&&f.tag===4){if(f===a)break;for(;f.sibling===null;){if(f.return===null||f.return===a)return;f=f.return}f.sibling.return=f.return,f=f.sibling}else f.child.return=f,f=f.child}function Ig(o){o.alternate=null,o.child=null,o.dependencies=null,o.firstEffect=null,o.lastEffect=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.return=null,o.updateQueue=null}function Rg(o){return o.tag===5||o.tag===3||o.tag===4}function Ag(o){if(Qt){e:{for(var a=o.return;a!==null;){if(Rg(a))break e;a=a.return}throw Error(u(160))}var f=a;switch(a=f.stateNode,f.tag){case 5:var d=!1;break;case 3:a=a.containerInfo,d=!0;break;case 4:a=a.containerInfo,d=!0;break;default:throw Error(u(161))}f.flags&16&&(vp(a),f.flags&=-17);e:t:for(f=o;;){for(;f.sibling===null;){if(f.return===null||Rg(f.return)){f=null;break e}f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue t;f.child.return=f,f=f.child}if(!(f.flags&2)){f=f.stateNode;break e}}d?Nf(o,f,a):Of(o,f,a)}}function Nf(o,a,f){var d=o.tag,g=d===5||d===6;if(g)o=g?o.stateNode:o.stateNode.instance,a?h_(f,o,a):o_(f,o);else if(d!==4&&(o=o.child,o!==null))for(Nf(o,a,f),o=o.sibling;o!==null;)Nf(o,a,f),o=o.sibling}function Of(o,a,f){var d=o.tag,g=d===5||d===6;if(g)o=g?o.stateNode:o.stateNode.instance,a?f_(f,o,a):s_(f,o);else if(d!==4&&(o=o.child,o!==null))for(Of(o,a,f),o=o.sibling;o!==null;)Of(o,a,f),o=o.sibling}function Lg(o,a){for(var f=a,d=!1,g,y;;){if(!d){d=f.return;e:for(;;){if(d===null)throw Error(u(160));switch(g=d.stateNode,d.tag){case 5:y=!1;break e;case 3:g=g.containerInfo,y=!0;break e;case 4:g=g.containerInfo,y=!0;break e}d=d.return}d=!0}if(f.tag===5||f.tag===6)Tg(o,f),y?d_(g,f.stateNode):c_(g,f.stateNode);else if(f.tag===4){if(f.child!==null){g=f.stateNode.containerInfo,y=!0,f.child.return=f,f=f.child;continue}}else if(Pg(o,f),f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break;for(;f.sibling===null;){if(f.return===null||f.return===a)return;f=f.return,f.tag===4&&(d=!1)}f.sibling.return=f.return,f=f.sibling}}function Mf(o,a){if(Qt){switch(a.tag){case 0:case 11:case 14:case 15:case 22:Cg(3,a);return;case 1:return;case 5:var f=a.stateNode;if(f!=null){var d=a.memoizedProps;o=o!==null?o.memoizedProps:d;var g=a.type,y=a.updateQueue;a.updateQueue=null,y!==null&&u_(f,y,g,o,d,a)}return;case 6:if(a.stateNode===null)throw Error(u(162));f=a.memoizedProps,l_(a.stateNode,o!==null?o.memoizedProps:f,f);return;case 3:qt&&(a=a.stateNode,a.hydrate&&(a.hydrate=!1,Cp(a.containerInfo)));return;case 12:return;case 13:Ng(a),Yl(a);return;case 19:Yl(a);return;case 17:return;case 23:case 24:kg(a,a.memoizedState!==null);return}throw Error(u(163))}switch(a.tag){case 0:case 11:case 14:case 15:case 22:Cg(3,a);return;case 12:return;case 13:Ng(a),Yl(a);return;case 19:Yl(a);return;case 3:qt&&(f=a.stateNode,f.hydrate&&(f.hydrate=!1,Cp(f.containerInfo)));break;case 23:case 24:return}e:if(_s){switch(a.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:a=a.stateNode,wp(a.containerInfo,a.pendingChildren);break e}throw Error(u(163))}}function Ng(o){o.memoizedState!==null&&(Wf=Je(),Qt&&kg(o.child,!0))}function Yl(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new $_),a.forEach(function(d){var g=f2.bind(null,o,d);f.has(d)||(f.add(d),d.then(g,g))})}}function J_(o,a){return o!==null&&(o=o.memoizedState,o===null||o.dehydrated!==null)?(a=a.memoizedState,a!==null&&a.dehydrated===null):!1}var Ql=0,ql=1,Xl=2,$l=3,Kl=4;if(typeof Symbol=="function"&&Symbol.for){var Bs=Symbol.for;Ql=Bs("selector.component"),ql=Bs("selector.has_pseudo_class"),Xl=Bs("selector.role"),$l=Bs("selector.test_id"),Kl=Bs("selector.text")}function Df(o){var a=X1(o);if(a!=null){if(typeof a.memoizedProps["data-testname"]!="string")throw Error(u(364));return a}if(o=J1(o),o===null)throw Error(u(362));return o.stateNode.current}function zf(o,a){switch(a.$$typeof){case Ql:if(o.type===a.value)return!0;break;case ql:e:{a=a.value,o=[o,0];for(var f=0;f<o.length;){var d=o[f++],g=o[f++],y=a[g];if(d.tag!==5||!Ss(d)){for(;y!=null&&zf(d,y);)g++,y=a[g];if(g===a.length){a=!0;break e}else for(d=d.child;d!==null;)o.push(d,g),d=d.sibling}}a=!1}return a;case Xl:if(o.tag===5&&n_(o.stateNode,a.value))return!0;break;case Kl:if((o.tag===5||o.tag===6)&&(o=t_(o),o!==null&&0<=o.indexOf(a.value)))return!0;break;case $l:if(o.tag===5&&(o=o.memoizedProps["data-testname"],typeof o=="string"&&o.toLowerCase()===a.value.toLowerCase()))return!0;break;default:throw Error(u(365,a))}return!1}function Ff(o){switch(o.$$typeof){case Ql:return"<"+(ne(o.value)||"Unknown")+">";case ql:return":has("+(Ff(o)||"")+")";case Xl:return'[role="'+o.value+'"]';case Kl:return'"'+o.value+'"';case $l:return'[data-testname="'+o.value+'"]';default:throw Error(u(365,o))}}function Og(o,a){var f=[];o=[o,0];for(var d=0;d<o.length;){var g=o[d++],y=o[d++],T=a[y];if(g.tag!==5||!Ss(g)){for(;T!=null&&zf(g,T);)y++,T=a[y];if(y===a.length)f.push(g);else for(g=g.child;g!==null;)o.push(g,y),g=g.sibling}}return f}function Bf(o,a){if(!ws)throw Error(u(363));o=Df(o),o=Og(o,a),a=[],o=Array.from(o);for(var f=0;f<o.length;){var d=o[f++];if(d.tag===5)Ss(d)||a.push(d.stateNode);else for(d=d.child;d!==null;)o.push(d),d=d.sibling}return a}var Zl=null;function e2(o){if(Zl===null)try{var a=("require"+Math.random()).slice(0,7);Zl=(n&&n[a]).call(n,"timers").setImmediate}catch{Zl=function(d){var g=new MessageChannel;g.port1.onmessage=d,g.port2.postMessage(void 0)}}return Zl(o)}var t2=Math.ceil,Jl=h.ReactCurrentDispatcher,Gf=h.ReactCurrentOwner,Uf=h.IsSomeRendererActing,oe=0,pt=null,Qe=null,ut=0,Gr=0,bf=Yn(0),tt=0,ea=null,wi=0,Gs=0,Si=0,Hf=0,Vf=null,Wf=0,jf=1/0;function Zn(){jf=Je()+500}var Z=null,ta=!1,Yf=null,cn=null,Jn=!1,Us=null,bs=90,Qf=[],qf=[],Ln=null,Hs=0,Xf=null,na=-1,Nn=0,ra=0,Vs=null,Ws=!1;function xt(){return(oe&48)!=0?Je():na!==-1?na:na=Je()}function er(o){if(o=o.mode,(o&2)==0)return 1;if((o&4)==0)return pi()===99?1:2;if(Nn===0&&(Nn=wi),B_.transition!==0){ra!==0&&(ra=Vf!==null?Vf.pendingLanes:0),o=Nn;var a=4186112&~ra;return a&=-a,a===0&&(o=4186112&~o,a=o&-o,a===0&&(a=8192)),a}return o=pi(),(oe&4)!=0&&o===98?o=El(12,Nn):(o=R_(o),o=El(o,Nn)),o}function On(o,a,f){if(50<Hs)throw Hs=0,Xf=null,Error(u(185));if(o=ia(o,a),o===null)return null;Cl(o,a,f),o===pt&&(Si|=a,tt===4&&xi(o,ut));var d=pi();a===1?(oe&8)!=0&&(oe&48)==0?$f(o):(Tt(o,f),oe===0&&(Zn(),Nt())):((oe&4)==0||d!==98&&d!==99||(Ln===null?Ln=new Set([o]):Ln.add(o)),Tt(o,f)),Vf=o}function ia(o,a){o.lanes|=a;var f=o.alternate;for(f!==null&&(f.lanes|=a),f=o,o=o.return;o!==null;)o.childLanes|=a,f=o.alternate,f!==null&&(f.childLanes|=a),f=o,o=o.return;return f.tag===3?f.stateNode:null}function Tt(o,a){for(var f=o.callbackNode,d=o.suspendedLanes,g=o.pingedLanes,y=o.expirationTimes,T=o.pendingLanes;0<T;){var A=31-qn(T),z=1<<A,Q=y[A];if(Q===-1){if((z&d)==0||(z&g)!=0){Q=a,Dr(z);var ie=Pe;y[A]=10<=ie?Q+250:6<=ie?Q+5e3:-1}}else Q<=a&&(o.expiredLanes|=z);T&=~z}if(d=Es(o,o===pt?ut:0),a=Pe,d===0)f!==null&&(f!==uf&&lf(f),o.callbackNode=null,o.callbackPriority=0);else{if(f!==null){if(o.callbackPriority===a)return;f!==uf&&lf(f)}a===15?(f=$f.bind(null,o),Tn===null?(Tn=[f],Pl=of(kl,zp)):Tn.push(f),f=uf):a===14?f=Cs(99,$f.bind(null,o)):(f=A_(a),f=Cs(f,Mg.bind(null,o))),o.callbackPriority=a,o.callbackNode=f}}function Mg(o){if(na=-1,ra=Nn=0,(oe&48)!=0)throw Error(u(327));var a=o.callbackNode;if(Mn()&&o.callbackNode!==a)return null;var f=Es(o,o===pt?ut:0);if(f===0)return null;var d=f,g=oe;oe|=16;var y=Bg();(pt!==o||ut!==d)&&(Zn(),Ei(o,d));do try{i2();break}catch(A){Fg(o,A)}while(1);if(hf(),Jl.current=y,oe=g,Qe!==null?d=0:(pt=null,ut=0,d=tt),(wi&Si)!=0)Ei(o,0);else if(d!==0){if(d===2&&(oe|=64,o.hydrate&&(o.hydrate=!1,Zu(o.containerInfo)),f=Ip(o),f!==0&&(d=js(o,f))),d===1)throw a=ea,Ei(o,0),xi(o,f),Tt(o,Je()),a;switch(o.finishedWork=o.current.alternate,o.finishedLanes=f,d){case 0:case 1:throw Error(u(345));case 2:Ur(o);break;case 3:if(xi(o,f),(f&62914560)===f&&(d=Wf+500-Je(),10<d)){if(Es(o,0)!==0)break;if(g=o.suspendedLanes,(g&f)!==f){xt(),o.pingedLanes|=o.suspendedLanes&g;break}o.timeoutHandle=gp(Ur.bind(null,o),d);break}Ur(o);break;case 4:if(xi(o,f),(f&4186112)===f)break;for(d=o.eventTimes,g=-1;0<f;){var T=31-qn(f);y=1<<T,T=d[T],T>g&&(g=T),f&=~y}if(f=g,f=Je()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*t2(f/1960))-f,10<f){o.timeoutHandle=gp(Ur.bind(null,o),f);break}Ur(o);break;case 5:Ur(o);break;default:throw Error(u(329))}}return Tt(o,Je()),o.callbackNode===a?Mg.bind(null,o):null}function xi(o,a){for(a&=~Hf,a&=~Si,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var f=31-qn(a),d=1<<f;o[f]=-1,a&=~d}}function $f(o){if((oe&48)!=0)throw Error(u(327));if(Mn(),o===pt&&(o.expiredLanes&ut)!=0){var a=ut,f=js(o,a);(wi&Si)!=0&&(a=Es(o,a),f=js(o,a))}else a=Es(o,0),f=js(o,a);if(o.tag!==0&&f===2&&(oe|=64,o.hydrate&&(o.hydrate=!1,Zu(o.containerInfo)),a=Ip(o),a!==0&&(f=js(o,a))),f===1)throw f=ea,Ei(o,0),xi(o,a),Tt(o,Je()),f;return o.finishedWork=o.current.alternate,o.finishedLanes=a,Ur(o),Tt(o,Je()),null}function n2(){if(Ln!==null){var o=Ln;Ln=null,o.forEach(function(a){a.expiredLanes|=24&a.pendingLanes,Tt(a,Je())})}Nt()}function Dg(o,a){var f=oe;oe|=1;try{return o(a)}finally{oe=f,oe===0&&(Zn(),Nt())}}function zg(o,a){var f=oe;if((f&48)!=0)return o(a);oe|=1;try{if(o)return In(99,o.bind(null,a))}finally{oe=f,Nt()}}function sa(o,a){ze(bf,Gr),Gr|=a,wi|=a}function Kf(){Gr=bf.current,Re(bf)}function Ei(o,a){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==$u&&(o.timeoutHandle=$u,q1(f)),Qe!==null)for(f=Qe.return;f!==null;){var d=f;switch(d.tag){case 1:d=d.type.childContextTypes,d!=null&&wl();break;case 3:yi(),Re(yt),Re(lt),_f();break;case 5:mf(d);break;case 4:yi();break;case 13:Re(Fe);break;case 19:Re(Fe);break;case 10:cf(d);break;case 23:case 24:Kf()}f=f.return}pt=o,Qe=nr(o.current,null),ut=Gr=wi=a,tt=0,ea=null,Hf=Si=Gs=0}function Fg(o,a){do{var f=Qe;try{if(hf(),Rs.current=Hl,Bl){for(var d=He.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}Bl=!1}if(As=0,et=at=He=null,Ls=!1,Gf.current=null,f===null||f.return===null){tt=1,ea=a,Qe=null;break}e:{var y=o,T=f.return,A=f,z=a;if(a=ut,A.flags|=2048,A.firstEffect=A.lastEffect=null,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Q=z;if((A.mode&2)==0){var ie=A.alternate;ie?(A.updateQueue=ie.updateQueue,A.memoizedState=ie.memoizedState,A.lanes=ie.lanes):(A.updateQueue=null,A.memoizedState=null)}var ae=(Fe.current&1)!=0,K=T;do{var Ce;if(Ce=K.tag===13){var Ne=K.memoizedState;if(Ne!==null)Ce=Ne.dehydrated!==null;else{var Bt=K.memoizedProps;Ce=Bt.fallback===void 0?!1:Bt.unstable_avoidThisFallback!==!0?!0:!ae}}if(Ce){var M=K.updateQueue;if(M===null){var L=new Set;L.add(Q),K.updateQueue=L}else M.add(Q);if((K.mode&2)==0){if(K.flags|=64,A.flags|=16384,A.flags&=-2981,A.tag===1)if(A.alternate===null)A.tag=17;else{var G=$n(-1,1);G.tag=2,Kn(A,G)}A.lanes|=1;break e}z=void 0,A=a;var $=y.pingCache;if($===null?($=y.pingCache=new X_,z=new Set,$.set(Q,z)):(z=$.get(Q),z===void 0&&(z=new Set,$.set(Q,z))),!z.has(A)){z.add(A);var se=u2.bind(null,y,Q,A);Q.then(se,se)}K.flags|=4096,K.lanes=a;break e}K=K.return}while(K!==null);z=Error((ne(A.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}tt!==5&&(tt=2),z=Af(z,A),K=T;do{switch(K.tag){case 3:y=z,K.flags|=4096,a&=-a,K.lanes|=a;var Te=Sg(K,y,a);Up(K,Te);break e;case 1:y=z;var fe=K.type,ye=K.stateNode;if((K.flags&64)==0&&(typeof fe.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(cn===null||!cn.has(ye)))){K.flags|=4096,a&=-a,K.lanes|=a;var je=xg(K,y,a);Up(K,je);break e}}K=K.return}while(K!==null)}Ug(f)}catch(pe){a=pe,Qe===f&&f!==null&&(Qe=f=f.return);continue}break}while(1)}function Bg(){var o=Jl.current;return Jl.current=Hl,o===null?Hl:o}function js(o,a){var f=oe;oe|=16;var d=Bg();pt===o&&ut===a||Ei(o,a);do try{r2();break}catch(g){Fg(o,g)}while(1);if(hf(),oe=f,Jl.current=d,Qe!==null)throw Error(u(261));return pt=null,ut=0,tt}function r2(){for(;Qe!==null;)Gg(Qe)}function i2(){for(;Qe!==null&&!D_();)Gg(Qe)}function Gg(o){var a=Vg(o.alternate,o,Gr);o.memoizedProps=o.pendingProps,a===null?Ug(o):Qe=a,Gf.current=null}function Ug(o){var a=o;do{var f=a.alternate;if(o=a.return,(a.flags&2048)==0){if(f=Q_(f,a,Gr),f!==null){Qe=f;return}if(f=a,f.tag!==24&&f.tag!==23||f.memoizedState===null||(Gr&1073741824)!=0||(f.mode&4)==0){for(var d=0,g=f.child;g!==null;)d|=g.lanes|g.childLanes,g=g.sibling;f.childLanes=d}o!==null&&(o.flags&2048)==0&&(o.firstEffect===null&&(o.firstEffect=a.firstEffect),a.lastEffect!==null&&(o.lastEffect!==null&&(o.lastEffect.nextEffect=a.firstEffect),o.lastEffect=a.lastEffect),1<a.flags&&(o.lastEffect!==null?o.lastEffect.nextEffect=a:o.firstEffect=a,o.lastEffect=a))}else{if(f=q_(a),f!==null){f.flags&=2047,Qe=f;return}o!==null&&(o.firstEffect=o.lastEffect=null,o.flags|=2048)}if(a=a.sibling,a!==null){Qe=a;return}Qe=a=o}while(a!==null);tt===0&&(tt=5)}function Ur(o){var a=pi();return In(99,s2.bind(null,o,a)),null}function s2(o,a){do Mn();while(Us!==null);if((oe&48)!=0)throw Error(u(327));var f=o.finishedWork;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(u(177));o.callbackNode=null;var d=f.lanes|f.childLanes,g=d,y=o.pendingLanes&~g;o.pendingLanes=g,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=g,o.mutableReadLanes&=g,o.entangledLanes&=g,g=o.entanglements;for(var T=o.eventTimes,A=o.expirationTimes;0<y;){var z=31-qn(y),Q=1<<z;g[z]=0,T[z]=-1,A[z]=-1,y&=~Q}if(Ln!==null&&(d&24)==0&&Ln.has(o)&&Ln.delete(o),o===pt&&(Qe=pt=null,ut=0),1<f.flags?f.lastEffect!==null?(f.lastEffect.nextEffect=f,d=f.firstEffect):d=f:d=f.firstEffect,d!==null){g=oe,oe|=32,Gf.current=null,Vs=re(o.containerInfo),Ws=!1,Z=d;do try{o2()}catch(L){if(Z===null)throw Error(u(330));tr(Z,L),Z=Z.nextEffect}while(Z!==null);Vs=null,Z=d;do try{for(T=o;Z!==null;){var ie=Z.flags;if(ie&16&&Qt&&vp(Z.stateNode),ie&128){var ae=Z.alternate;if(ae!==null){var K=ae.ref;K!==null&&(typeof K=="function"?K(null):K.current=null)}}switch(ie&1038){case 2:Ag(Z),Z.flags&=-3;break;case 6:Ag(Z),Z.flags&=-3,Mf(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025,Mf(Z.alternate,Z);break;case 4:Mf(Z.alternate,Z);break;case 8:A=T,y=Z,Qt?Lg(A,y):Tg(A,y);var Ce=y.alternate;Ig(y),Ce!==null&&Ig(Ce)}Z=Z.nextEffect}}catch(L){if(Z===null)throw Error(u(330));tr(Z,L),Z=Z.nextEffect}while(Z!==null);Ws&&K1(),le(o.containerInfo),o.current=f,Z=d;do try{for(ie=o;Z!==null;){var Ne=Z.flags;if(Ne&36&&Z_(ie,Z.alternate,Z),Ne&128){ae=void 0;var Bt=Z.ref;if(Bt!==null){var M=Z.stateNode;switch(Z.tag){case 5:ae=Ye(M);break;default:ae=M}typeof Bt=="function"?Bt(ae):Bt.current=ae}}Z=Z.nextEffect}}catch(L){if(Z===null)throw Error(u(330));tr(Z,L),Z=Z.nextEffect}while(Z!==null);Z=null,F_(),oe=g}else o.current=f;if(Jn)Jn=!1,Us=o,bs=a;else for(Z=d;Z!==null;)a=Z.nextEffect,Z.nextEffect=null,Z.flags&8&&(Ne=Z,Ne.sibling=null,Ne.stateNode=null),Z=a;if(d=o.pendingLanes,d===0&&(cn=null),d===1?o===Xf?Hs++:(Hs=0,Xf=o):Hs=0,f=f.stateNode,Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(rf,f,void 0,(f.current.flags&64)==64)}catch{}if(Tt(o,Je()),ta)throw ta=!1,o=Yf,Yf=null,o;return(oe&8)!=0||Nt(),null}function o2(){for(;Z!==null;){var o=Z.alternate;Ws||Vs===null||((Z.flags&8)!=0?Ue(Z,Vs)&&(Ws=!0,mp()):Z.tag===13&&J_(o,Z)&&Ue(Z,Vs)&&(Ws=!0,mp()));var a=Z.flags;(a&256)!=0&&K_(o,Z),(a&512)==0||Jn||(Jn=!0,Cs(97,function(){return Mn(),null})),Z=Z.nextEffect}}function Mn(){if(bs!==90){var o=97<bs?97:bs;return bs=90,In(o,a2)}return!1}function l2(o,a){Qf.push(a,o),Jn||(Jn=!0,Cs(97,function(){return Mn(),null}))}function bg(o,a){qf.push(a,o),Jn||(Jn=!0,Cs(97,function(){return Mn(),null}))}function a2(){if(Us===null)return!1;var o=Us;if(Us=null,(oe&48)!=0)throw Error(u(331));var a=oe;oe|=32;var f=qf;qf=[];for(var d=0;d<f.length;d+=2){var g=f[d],y=f[d+1],T=g.destroy;if(g.destroy=void 0,typeof T=="function")try{T()}catch(z){if(y===null)throw Error(u(330));tr(y,z)}}for(f=Qf,Qf=[],d=0;d<f.length;d+=2){g=f[d],y=f[d+1];try{var A=g.create;g.destroy=A()}catch(z){if(y===null)throw Error(u(330));tr(y,z)}}for(A=o.current.firstEffect;A!==null;)o=A.nextEffect,A.nextEffect=null,A.flags&8&&(A.sibling=null,A.stateNode=null),A=o;return oe=a,Nt(),!0}function Hg(o,a,f){a=Af(f,a),a=Sg(o,a,1),Kn(o,a),a=xt(),o=ia(o,1),o!==null&&(Cl(o,1,a),Tt(o,a))}function tr(o,a){if(o.tag===3)Hg(o,o,a);else for(var f=o.return;f!==null;){if(f.tag===3){Hg(f,o,a);break}else if(f.tag===1){var d=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(cn===null||!cn.has(d))){o=Af(a,o);var g=xg(f,o,1);if(Kn(f,g),g=xt(),f=ia(f,1),f!==null)Cl(f,1,g),Tt(f,g);else if(typeof d.componentDidCatch=="function"&&(cn===null||!cn.has(d)))try{d.componentDidCatch(a,o)}catch{}break}}f=f.return}}function u2(o,a,f){var d=o.pingCache;d!==null&&d.delete(a),a=xt(),o.pingedLanes|=o.suspendedLanes&f,pt===o&&(ut&f)===f&&(tt===4||tt===3&&(ut&62914560)===ut&&500>Je()-Wf?Ei(o,0):Hf|=f),Tt(o,a)}function f2(o,a){var f=o.stateNode;f!==null&&f.delete(a),a=0,a===0&&(a=o.mode,(a&2)==0?a=1:(a&4)==0?a=pi()===99?1:2:(Nn===0&&(Nn=wi),a=di(62914560&~Nn),a===0&&(a=4194304))),f=xt(),o=ia(o,a),o!==null&&(Cl(o,a,f),Tt(o,f))}var Vg;Vg=function(o,a,f){var d=a.lanes;if(o!==null)if(o.memoizedProps!==a.pendingProps||yt.current)$t=!0;else if((f&d)!=0)$t=(o.flags&16384)!=0;else{switch($t=!1,a.tag){case 3:dg(a),yf();break;case 5:qp(a);break;case 1:_t(a.type)&&Sl(a);break;case 4:gf(a,a.stateNode.containerInfo);break;case 10:Fp(a,a.memoizedProps.value);break;case 13:if(a.memoizedState!==null)return(f&a.child.childLanes)!=0?pg(o,a,f):(ze(Fe,Fe.current&1),a=An(o,a,f),a!==null?a.sibling:null);ze(Fe,Fe.current&1);break;case 19:if(d=(f&a.childLanes)!=0,(o.flags&64)!=0){if(d)return _g(o,a,f);a.flags|=64}var g=a.memoizedState;if(g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ze(Fe,Fe.current),d)break;return null;case 23:case 24:return a.lanes=0,Pf(o,a,f)}return An(o,a,f)}else $t=!1;switch(a.lanes=0,a.tag){case 2:if(d=a.type,o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2),o=a.pendingProps,g=ci(a,lt.current),mi(a,f),g=Sf(null,a,d,o,g,f),a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0){if(a.tag=1,a.memoizedState=null,a.updateQueue=null,_t(d)){var y=!0;Sl(a)}else y=!1;a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,df(a);var T=d.getDerivedStateFromProps;typeof T=="function"&&Ll(a,d,T,o),g.updater=Nl,a.stateNode=g,g._reactInternals=a,pf(a,d,o,f),a=If(null,a,d,!0,y,f)}else a.tag=0,St(null,a,g,f),a=a.child;return a;case 16:g=a.elementType;e:{switch(o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2),o=a.pendingProps,y=g._init,g=y(g._payload),a.type=g,y=a.tag=c2(g),o=Xt(g,o),y){case 0:a=Tf(null,a,g,o,f);break e;case 1:a=cg(null,a,g,o,f);break e;case 11:a=ag(null,a,g,o,f);break e;case 14:a=ug(null,a,g,Xt(g.type,o),d,f);break e}throw Error(u(306,g,""))}return a;case 0:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:Xt(d,g),Tf(o,a,d,g,f);case 1:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:Xt(d,g),cg(o,a,d,g,f);case 3:if(dg(a),d=a.updateQueue,o===null||d===null)throw Error(u(282));if(d=a.pendingProps,g=a.memoizedState,g=g!==null?g.element:null,Gp(o,a),ks(a,d,null,f),d=a.memoizedState.element,d===g)yf(),a=An(o,a,f);else{if(g=a.stateNode,(y=g.hydrate)&&(qt?(zr=Ep(a.stateNode.containerInfo),Rn=a,y=un=!0):y=!1),y){if(qt&&(o=g.mutableSourceEagerHydrationData,o!=null))for(g=0;g<o.length;g+=2)y=o[g],T=o[g+1],Nr?y._workInProgressVersionPrimary=T:y._workInProgressVersionSecondary=T,_i.push(y);for(f=Qp(a,null,d,f),a.child=f;f;)f.flags=f.flags&-3|1024,f=f.sibling}else St(o,a,d,f),yf();a=a.child}return a;case 5:return qp(a),o===null&&vf(a),d=a.type,g=a.pendingProps,y=o!==null?o.memoizedProps:null,T=g.children,kn(d,g)?T=null:y!==null&&kn(d,y)&&(a.flags|=16),hg(o,a),St(o,a,T,f),a.child;case 6:return o===null&&vf(a),null;case 13:return pg(o,a,f);case 4:return gf(a,a.stateNode.containerInfo),d=a.pendingProps,o===null?a.child=Dl(a,null,d,f):St(o,a,d,f),a.child;case 11:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:Xt(d,g),ag(o,a,d,g,f);case 7:return St(o,a,a.pendingProps,f),a.child;case 8:return St(o,a,a.pendingProps.children,f),a.child;case 12:return St(o,a,a.pendingProps.children,f),a.child;case 10:e:{if(d=a.type._context,g=a.pendingProps,T=a.memoizedProps,y=g.value,Fp(a,y),T!==null){var A=T.value;if(y=Ot(A,y)?0:(typeof d._calculateChangedBits=="function"?d._calculateChangedBits(A,y):1073741823)|0,y===0){if(T.children===g.children&&!yt.current){a=An(o,a,f);break e}}else for(A=a.child,A!==null&&(A.return=a);A!==null;){var z=A.dependencies;if(z!==null){T=A.child;for(var Q=z.firstContext;Q!==null;){if(Q.context===d&&(Q.observedBits&y)!=0){A.tag===1&&(Q=$n(-1,f&-f),Q.tag=2,Kn(A,Q)),A.lanes|=f,Q=A.alternate,Q!==null&&(Q.lanes|=f),Bp(A.return,f),z.lanes|=f;break}Q=Q.next}}else T=A.tag===10&&A.type===a.type?null:A.child;if(T!==null)T.return=A;else for(T=A;T!==null;){if(T===a){T=null;break}if(A=T.sibling,A!==null){A.return=T.return,T=A;break}T=T.return}A=T}}St(o,a,g.children,f),a=a.child}return a;case 9:return g=a.type,y=a.pendingProps,d=y.children,mi(a,f),g=Mt(g,y.unstable_observedBits),d=d(g),a.flags|=1,St(o,a,d,f),a.child;case 14:return g=a.type,y=Xt(g,a.pendingProps),y=Xt(g.type,y),ug(o,a,g,y,d,f);case 15:return fg(o,a,a.type,a.pendingProps,d,f);case 17:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:Xt(d,g),o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2),a.tag=1,_t(d)?(o=!0,Sl(a)):o=!1,mi(a,f),Wp(a,d,g),pf(a,d,g,f),If(null,a,d,!0,o,f);case 19:return _g(o,a,f);case 23:return Pf(o,a,f);case 24:return Pf(o,a,f)}throw Error(u(156,a.tag))};var oa={current:!1},Zf=l.unstable_flushAllWithoutAsserting,Wg=typeof Zf=="function";function Jf(){if(Zf!==void 0)return Zf();for(var o=!1;Mn();)o=!0;return o}function jg(o){try{Jf(),e2(function(){Jf()?jg(o):o()})}catch(a){o(a)}}var la=0,Yg=!1;function h2(o,a,f,d){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(o,a,f,d){return new h2(o,a,f,d)}function eh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function c2(o){if(typeof o=="function")return eh(o)?1:0;if(o!=null){if(o=o.$$typeof,o===w)return 11;if(o===k)return 14}return 2}function nr(o,a){var f=o.alternate;return f===null?(f=Ft(o.tag,a,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=a,f.type=o.type,f.flags=0,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null),f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,a=o.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function aa(o,a,f,d,g,y){var T=2;if(d=o,typeof o=="function")eh(o)&&(T=1);else if(typeof o=="string")T=5;else e:switch(o){case _:return Ci(f.children,g,y,a);case N:T=8,g|=16;break;case v:T=8,g|=1;break;case E:return o=Ft(12,f,a,g|8),o.elementType=E,o.type=E,o.lanes=y,o;case S:return o=Ft(13,f,a,g),o.type=S,o.elementType=S,o.lanes=y,o;case C:return o=Ft(19,f,a,g),o.elementType=C,o.lanes=y,o;case U:return th(f,g,y,a);case B:return o=Ft(24,f,a,g),o.elementType=B,o.lanes=y,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case x:T=10;break e;case P:T=9;break e;case w:T=11;break e;case k:T=14;break e;case R:T=16,d=null;break e;case F:T=22;break e}throw Error(u(130,o==null?o:typeof o,""))}return a=Ft(T,f,a,g),a.elementType=o,a.type=d,a.lanes=y,a}function Ci(o,a,f,d){return o=Ft(7,o,d,a),o.lanes=f,o}function th(o,a,f,d){return o=Ft(23,o,d,a),o.elementType=U,o.lanes=f,o}function nh(o,a,f){return o=Ft(6,o,null,a),o.lanes=f,o}function rh(o,a,f){return a=Ft(4,o.children!==null?o.children:[],o.key,a),a.lanes=f,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function d2(o,a,f){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=$u,this.pendingContext=this.context=null,this.hydrate=f,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=sf(0),this.expirationTimes=sf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sf(0),qt&&(this.mutableSourceEagerHydrationData=null)}function Qg(o){var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(u(188)):Error(u(268,Object.keys(o)));return o=he(a),o===null?null:o.stateNode}function qg(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<a?f:a}}function ua(o,a){qg(o,a),(o=o.alternate)&&qg(o,a)}function p2(o){return o=he(o),o===null?null:o.stateNode}function g2(){return null}return r.IsThisRendererActing=oa,r.act=function(o){function a(){la--,Uf.current=f,oa.current=d}Yg===!1&&(Yg=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),la++;var f=Uf.current,d=oa.current;Uf.current=!0,oa.current=!0;try{var g=Dg(o)}catch(y){throw a(),y}if(g!==null&&typeof g=="object"&&typeof g.then=="function")return{then:function(y,T){g.then(function(){1<la||Wg===!0&&f===!0?(a(),y()):jg(function(A){a(),A?T(A):y()})},function(A){a(),T(A)})}};try{la!==1||Wg!==!1&&f!==!1||Jf(),a()}catch(y){throw a(),y}return{then:function(y){y()}}},r.attemptContinuousHydration=function(o){if(o.tag===13){var a=xt();On(o,67108864,a),ua(o,67108864)}},r.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var a=xt(),f=er(o);On(o,f,a),ua(o,f)}},r.attemptSynchronousHydration=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.hydrate){var f=Dr(a.pendingLanes);a.expiredLanes|=f&a.pendingLanes,Tt(a,Je()),(oe&48)==0&&(Zn(),Nt())}break;case 13:var d=xt();zg(function(){return On(o,1,d)}),ua(o,4)}},r.attemptUserBlockingHydration=function(o){if(o.tag===13){var a=xt();On(o,4,a),ua(o,4)}},r.batchedEventUpdates=function(o,a){var f=oe;oe|=2;try{return o(a)}finally{oe=f,oe===0&&(Zn(),Nt())}},r.batchedUpdates=Dg,r.createComponentSelector=function(o){return{$$typeof:Ql,value:o}},r.createContainer=function(o,a,f){return o=new d2(o,a,f),a=Ft(3,null,null,a===2?7:a===1?3:0),o.current=a,a.stateNode=o,df(a),o},r.createHasPsuedoClassSelector=function(o){return{$$typeof:ql,value:o}},r.createPortal=function(o,a,f){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:d==null?null:""+d,children:o,containerInfo:a,implementation:f}},r.createRoleSelector=function(o){return{$$typeof:Xl,value:o}},r.createTestNameSelector=function(o){return{$$typeof:$l,value:o}},r.createTextSelector=function(o){return{$$typeof:Kl,value:o}},r.deferredUpdates=function(o){return In(97,o)},r.discreteUpdates=function(o,a,f,d,g){var y=oe;oe|=4;try{return In(98,o.bind(null,a,f,d,g))}finally{oe=y,oe===0&&(Zn(),Nt())}},r.findAllNodes=Bf,r.findBoundingRects=function(o,a){if(!ws)throw Error(u(363));a=Bf(o,a),o=[];for(var f=0;f<a.length;f++)o.push(e_(a[f]));for(a=o.length-1;0<a;a--){f=o[a];for(var d=f.x,g=d+f.width,y=f.y,T=y+f.height,A=a-1;0<=A;A--)if(a!==A){var z=o[A],Q=z.x,ie=Q+z.width,ae=z.y,K=ae+z.height;if(d>=Q&&y>=ae&&g<=ie&&T<=K){o.splice(a,1);break}else if(d!==Q||f.width!==z.width||K<y||ae>T){if(!(y!==ae||f.height!==z.height||ie<d||Q>g)){Q>d&&(z.width+=Q-d,z.x=d),ie<g&&(z.width=g-Q),o.splice(a,1);break}}else{ae>y&&(z.height+=ae-y,z.y=y),K<T&&(z.height=T-ae),o.splice(a,1);break}}}return o},r.findHostInstance=Qg,r.findHostInstanceWithNoPortals=function(o){return o=Ee(o),o===null?null:o.tag===20?o.stateNode.instance:o.stateNode},r.findHostInstanceWithWarning=function(o){return Qg(o)},r.flushControlled=function(o){var a=oe;oe|=1;try{In(99,o)}finally{oe=a,oe===0&&(Zn(),Nt())}},r.flushDiscreteUpdates=function(){(oe&49)==0&&(n2(),Mn())},r.flushPassiveEffects=Mn,r.flushSync=zg,r.focusWithin=function(o,a){if(!ws)throw Error(u(363));for(o=Df(o),a=Og(o,a),a=Array.from(a),o=0;o<a.length;){var f=a[o++];if(!Ss(f)){if(f.tag===5&&r_(f.stateNode))return!0;for(f=f.child;f!==null;)a.push(f),f=f.sibling}}return!1},r.getCurrentUpdateLanePriority=function(){return xl},r.getFindAllNodesFailureDescription=function(o,a){if(!ws)throw Error(u(363));var f=0,d=[];o=[Df(o),0];for(var g=0;g<o.length;){var y=o[g++],T=o[g++],A=a[T];if((y.tag!==5||!Ss(y))&&(zf(y,A)&&(d.push(Ff(A)),T++,T>f&&(f=T)),T<a.length))for(y=y.child;y!==null;)o.push(y,T),y=y.sibling}if(f<a.length){for(o=[];f<a.length;f++)o.push(Ff(a[f]));return`findAllNodes was able to match part of the selector:
  `+(d.join(" > ")+`

No matching component was found for:
  `)+o.join(" > ")}return null},r.getPublicRootInstance=function(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return Ye(o.child.stateNode);default:return o.child.stateNode}},r.injectIntoDevTools=function(o){if(o={bundleType:o.bundleType,version:o.version,rendererPackageName:o.rendererPackageName,rendererConfig:o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:h.ReactCurrentDispatcher,findHostInstanceByFiber:p2,findFiberByHostInstance:o.findFiberByHostInstance||g2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")o=!1;else{var a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!a.isDisabled&&a.supportsFiber)try{rf=a.inject(o),Mr=a}catch{}o=!0}return o},r.observeVisibleRects=function(o,a,f,d){if(!ws)throw Error(u(363));o=Bf(o,a);var g=i_(o,f,d).disconnect;return{disconnect:function(){g()}}},r.registerMutableSourceForHydration=function(o,a){var f=a._getVersion;f=f(a._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[a,f]:o.mutableSourceEagerHydrationData.push(a,f)},r.runWithPriority=function(o,a){var f=xl;try{return xl=o,a()}finally{xl=f}},r.shouldSuspend=function(){return!1},r.unbatchedUpdates=function(o,a){var f=oe;oe&=-2,oe|=8;try{return o(a)}finally{oe=f,oe===0&&(Zn(),Nt())}},r.updateContainer=function(o,a,f,d){var g=a.current,y=xt(),T=er(g);e:if(f){f=f._reactInternals;t:{if(q(f)!==f||f.tag!==1)throw Error(u(170));var A=f;do{switch(A.tag){case 3:A=A.stateNode.context;break t;case 1:if(_t(A.type)){A=A.stateNode.__reactInternalMemoizedMergedChildContext;break t}}A=A.return}while(A!==null);throw Error(u(171))}if(f.tag===1){var z=f.type;if(_t(z)){f=Pp(f,z,A);break e}}f=A}else f=Qn;return a.context===null?a.context=f:a.pendingContext=f,a=$n(y,T),a.payload={element:o},d=d===void 0?null:d,d!==null&&(a.callback=d),Kn(g,a),On(g,T,y),T},r}})(t1);e1.exports=t1.exports;var LE=e1.exports,n1={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0},r1=!1,i1=!1,Md=".react-konva-event",NE=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,OE=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,ME={};function Du(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ME;if(e===t&&console.error("same props"),!r1&&"zIndex"in e&&(console.warn(OE),r1=!0),!i1&&e.draggable){var r=e.x!==void 0||e.y!==void 0,i=e.onDragEnd||e.onDragMove;r&&!i&&(console.warn(NE),i1=!0)}for(var s in t)if(!n1[s]){var l=s.slice(0,2)==="on",u=t[s]!==e[s];if(l&&u){var h=s.substr(2).toLowerCase();h.substr(0,7)==="content"&&(h="content"+h.substr(7,1).toUpperCase()+h.substr(8)),n.off(h,t[s])}var c=!e.hasOwnProperty(s);c&&n.setAttr(s,void 0)}var m=e._useStrictMode,_={},v=!1,E={};for(var s in e)if(!n1[s]){var l=s.slice(0,2)==="on",x=t[s]!==e[s];if(l&&x){var h=s.substr(2).toLowerCase();h.substr(0,7)==="content"&&(h="content"+h.substr(7,1).toUpperCase()+h.substr(8)),e[s]&&(E[h]=e[s])}!l&&(e[s]!==t[s]||m&&e[s]!==n.getAttr(s))&&(v=!0,_[s]=e[s])}v&&(n.setAttrs(_),Ir(n));for(var h in E)n.on(h+Md,E[h])}function Ir(n){if(!ee.autoDrawEnabled){var e=n.getLayer()||n.getStage();e&&e.batchDraw()}}var s1={},DE={};ni.Node.prototype._applyProps=Du;function zE(n,e){if(typeof e=="string"){console.error("Do not use plain text as child of Konva.Node. You are using text: "+e);return}n.add(e),Ir(n)}function FE(n,e,t){var r=ni[n];r||(console.error("Konva has no node with the type "+n+'. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/'+n+'"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html'),r=ni.Group);var i={},s={};for(var l in e){var u=l.slice(0,2)==="on";u?s[l]=e[l]:i[l]=e[l]}var h=new r(i);return Du(h,s),h}function BE(n,e,t){console.error('Text components are not supported for now in ReactKonva. Your text is: "'+n+'"')}function GE(n,e,t){return!1}function UE(n){return n}function bE(){return null}function HE(){return null}function VE(n,e,t,r){return DE}function WE(){}function jE(n){}function YE(n,e){return!1}function QE(){return s1}function qE(){return s1}var XE=setTimeout,$E=clearTimeout,KE=-1;function ZE(n,e){return!1}var JE=!1,eC=!0,tC=!0;function nC(n,e){e.parent===n?e.moveToTop():n.add(e),Ir(n)}function rC(n,e){e.parent===n?e.moveToTop():n.add(e),Ir(n)}function o1(n,e,t){e._remove(),n.add(e),e.setZIndex(t.getZIndex()),Ir(n)}function iC(n,e,t){o1(n,e,t)}function sC(n,e){e.destroy(),e.off(Md),Ir(n)}function oC(n,e){e.destroy(),e.off(Md),Ir(n)}function lC(n,e,t){console.error('Text components are not yet supported in ReactKonva. You text is: "'+t+'"')}function aC(n,e,t){}function uC(n,e,t,r,i){Du(n,i,r)}function fC(n){n.hide(),Ir(n)}function hC(n){}function cC(n,e){(e.visible==null||e.visible)&&n.show()}function dC(n,e){}function pC(n){}var gC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",appendInitialChild:zE,createInstance:FE,createTextInstance:BE,finalizeInitialChildren:GE,getPublicInstance:UE,prepareForCommit:bE,preparePortalMount:HE,prepareUpdate:VE,resetAfterCommit:WE,resetTextContent:jE,shouldDeprioritizeSubtree:YE,getRootHostContext:QE,getChildHostContext:qE,scheduleTimeout:XE,cancelTimeout:$E,noTimeout:KE,shouldSetTextContent:ZE,isPrimaryRenderer:JE,warnsIfNotActing:eC,supportsMutation:tC,appendChild:nC,appendChildToContainer:rC,insertBefore:o1,insertInContainerBefore:iC,removeChild:sC,removeChildFromContainer:oC,commitTextUpdate:lC,commitMount:aC,commitUpdate:uC,hideInstance:fC,hideTextInstance:hC,unhideInstance:cC,unhideTextInstance:dC,clearContainer:pC,now:Ti.exports.unstable_now,idlePriority:Ti.exports.unstable_IdlePriority,run:Ti.exports.unstable_runWithPriority}),mC=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};function vC(n){var e=Zt.useRef();return Zt.useLayoutEffect(function(){e.current=n}),e.current}var yC=function(e){var t=Zt.useRef(),r=Zt.useRef(),i=Zt.useRef(),s=vC(e),l=function(h){var c=e.forwardedRef;!c||(typeof c=="function"?c(h):c.current=h)};return Zt.useLayoutEffect(function(){return r.current=new ni.Stage({width:e.width,height:e.height,container:t.current}),l(r.current),i.current=rl.createContainer(r.current),rl.updateContainer(e.children,i.current),function(){!ni.isBrowser||(l(null),rl.updateContainer(null,i.current,null),r.current.destroy())}},[]),Zt.useLayoutEffect(function(){l(r.current),Du(r.current,e,s),rl.updateContainer(e.children,i.current,null)}),Zt.createElement("div",{ref:t,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},cP="Layer",dP="Rect",pP="Line",gP="Text",mP="Shape",vP="Transformer",rl=LE(gC);rl.injectIntoDevTools({findHostInstanceByFiber:function(){return null},bundleType:0,version:Zt.version,rendererPackageName:"react-konva"});var yP=Zt.forwardRef(function(n,e){return Zt.createElement(yC,mC({},n,{forwardedRef:e}))});function Dd(n,e,t){t===void 0&&(t={});var r={type:"Feature"};return(t.id===0||t.id)&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.properties=e||{},r.geometry=n,r}function _C(n,e,t){t===void 0&&(t={});for(var r=0,i=n;r<i.length;r++){var s=i[r];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var l=0;l<s[s.length-1].length;l++)if(s[s.length-1][l]!==s[0][l])throw new Error("First and last Position are not equivalent.")}var u={type:"Polygon",coordinates:n};return Dd(u,e,t)}function _P(n,e,t){if(t===void 0&&(t={}),n.length<2)throw new Error("coordinates must be an array of two or more positions");var r={type:"LineString",coordinates:n};return Dd(r,e,t)}function wC(n,e,t){t===void 0&&(t={});var r={type:"MultiPolygon",coordinates:n};return Dd(r,e,t)}function wP(n){if(Array.isArray(n))return n;if(n.type==="Feature"){if(n.geometry!==null)return n.geometry.coordinates}else if(n.coordinates)return n.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function l1(n){return n.type==="Feature"?n.geometry:n}/**
 * splaytree v3.1.0
 * Fast Splay tree for Node and browser
 *
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 * @preserve
 */var Rr=function(){function n(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null}return n}();function SC(n,e){return n>e?1:n<e?-1:0}function Ar(n,e,t){for(var r=new Rr(null,null),i=r,s=r;;){var l=t(n,e.key);if(l<0){if(e.left===null)break;if(t(n,e.left.key)<0){var u=e.left;if(e.left=u.right,u.right=e,e=u,e.left===null)break}s.left=e,s=e,e=e.left}else if(l>0){if(e.right===null)break;if(t(n,e.right.key)>0){var u=e.right;if(e.right=u.left,u.left=e,e=u,e.right===null)break}i.right=e,i=e,e=e.right}else break}return i.right=e.left,s.left=e.right,e.left=r.right,e.right=r.left,e}function zd(n,e,t,r){var i=new Rr(n,e);if(t===null)return i.left=i.right=null,i;t=Ar(n,t,r);var s=r(n,t.key);return s<0?(i.left=t.left,i.right=t,t.left=null):s>=0&&(i.right=t.right,i.left=t,t.right=null),i}function a1(n,e,t){var r=null,i=null;if(e){e=Ar(n,e,t);var s=t(e.key,n);s===0?(r=e.left,i=e.right):s<0?(i=e.right,e.right=null,r=e):(r=e.left,e.left=null,i=e)}return{left:r,right:i}}function xC(n,e,t){return e===null?n:(n===null||(e=Ar(n.key,e,t),e.left=n),e)}function Fd(n,e,t,r,i){if(n){r(""+e+(t?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ")+i(n)+`
`);var s=e+(t?"    ":"\u2502   ");n.left&&Fd(n.left,s,!1,r,i),n.right&&Fd(n.right,s,!0,r,i)}}var Bd=function(){function n(e){e===void 0&&(e=SC),this._root=null,this._size=0,this._comparator=e}return n.prototype.insert=function(e,t){return this._size++,this._root=zd(e,t,this._root,this._comparator)},n.prototype.add=function(e,t){var r=new Rr(e,t);this._root===null&&(r.left=r.right=null,this._size++,this._root=r);var i=this._comparator,s=Ar(e,this._root,i),l=i(e,s.key);return l===0?this._root=s:(l<0?(r.left=s.left,r.right=s,s.left=null):l>0&&(r.right=s.right,r.left=s,s.right=null),this._size++,this._root=r),this._root},n.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},n.prototype._remove=function(e,t,r){var i;if(t===null)return null;t=Ar(e,t,r);var s=r(e,t.key);return s===0?(t.left===null?i=t.right:(i=Ar(e,t.left,r),i.right=t.right),this._size--,i):t},n.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=Ar(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},n.prototype.findStatic=function(e){for(var t=this._root,r=this._comparator;t;){var i=r(e,t.key);if(i===0)return t;i<0?t=t.left:t=t.right}return null},n.prototype.find=function(e){return this._root&&(this._root=Ar(e,this._root,this._comparator),this._comparator(e,this._root.key)!==0)?null:this._root},n.prototype.contains=function(e){for(var t=this._root,r=this._comparator;t;){var i=r(e,t.key);if(i===0)return!0;i<0?t=t.left:t=t.right}return!1},n.prototype.forEach=function(e,t){for(var r=this._root,i=[],s=!1;!s;)r!==null?(i.push(r),r=r.left):i.length!==0?(r=i.pop(),e.call(t,r),r=r.right):s=!0;return this},n.prototype.range=function(e,t,r,i){for(var s=[],l=this._comparator,u=this._root,h;s.length!==0||u;)if(u)s.push(u),u=u.left;else{if(u=s.pop(),h=l(u.key,t),h>0)break;if(l(u.key,e)>=0&&r.call(i,u))return this;u=u.right}return this},n.prototype.keys=function(){var e=[];return this.forEach(function(t){var r=t.key;return e.push(r)}),e},n.prototype.values=function(){var e=[];return this.forEach(function(t){var r=t.data;return e.push(r)}),e},n.prototype.min=function(){return this._root?this.minNode(this._root).key:null},n.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},n.prototype.minNode=function(e){if(e===void 0&&(e=this._root),e)for(;e.left;)e=e.left;return e},n.prototype.maxNode=function(e){if(e===void 0&&(e=this._root),e)for(;e.right;)e=e.right;return e},n.prototype.at=function(e){for(var t=this._root,r=!1,i=0,s=[];!r;)if(t)s.push(t),t=t.left;else if(s.length>0){if(t=s.pop(),i===e)return t;i++,t=t.right}else r=!0;return null},n.prototype.next=function(e){var t=this._root,r=null;if(e.right){for(r=e.right;r.left;)r=r.left;return r}for(var i=this._comparator;t;){var s=i(e.key,t.key);if(s===0)break;s<0?(r=t,t=t.left):t=t.right}return r},n.prototype.prev=function(e){var t=this._root,r=null;if(e.left!==null){for(r=e.left;r.right;)r=r.right;return r}for(var i=this._comparator;t;){var s=i(e.key,t.key);if(s===0)break;s<0?t=t.left:(r=t,t=t.right)}return r},n.prototype.clear=function(){return this._root=null,this._size=0,this},n.prototype.toList=function(){return CC(this._root)},n.prototype.load=function(e,t,r){t===void 0&&(t=[]),r===void 0&&(r=!1);var i=e.length,s=this._comparator;if(r&&bd(e,t,0,i-1,s),this._root===null)this._root=Gd(e,t,0,i),this._size=i;else{var l=kC(this.toList(),EC(e,t),s);i=this._size+i,this._root=Ud({head:l},0,i)}return this},n.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(n.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),n.prototype.toString=function(e){e===void 0&&(e=function(r){return String(r.key)});var t=[];return Fd(this._root,"",!0,function(r){return t.push(r)},e),t.join("")},n.prototype.update=function(e,t,r){var i=this._comparator,s=a1(e,this._root,i),l=s.left,u=s.right;i(e,t)<0?u=zd(t,r,u,i):l=zd(t,r,l,i),this._root=xC(l,u,i)},n.prototype.split=function(e){return a1(e,this._root,this._comparator)},n}();function Gd(n,e,t,r){var i=r-t;if(i>0){var s=t+Math.floor(i/2),l=n[s],u=e[s],h=new Rr(l,u);return h.left=Gd(n,e,t,s),h.right=Gd(n,e,s+1,r),h}return null}function EC(n,e){for(var t=new Rr(null,null),r=t,i=0;i<n.length;i++)r=r.next=new Rr(n[i],e[i]);return r.next=null,t.next}function CC(n){for(var e=n,t=[],r=!1,i=new Rr(null,null),s=i;!r;)e?(t.push(e),e=e.left):t.length>0?(e=s=s.next=t.pop(),e=e.right):r=!0;return s.next=null,i.next}function Ud(n,e,t){var r=t-e;if(r>0){var i=e+Math.floor(r/2),s=Ud(n,e,i),l=n.head;return l.left=s,n.head=n.head.next,l.right=Ud(n,i+1,t),l}return null}function kC(n,e,t){for(var r=new Rr(null,null),i=r,s=n,l=e;s!==null&&l!==null;)t(s.key,l.key)<0?(i.next=s,s=s.next):(i.next=l,l=l.next),i=i.next;return s!==null?i.next=s:l!==null&&(i.next=l),r.next}function bd(n,e,t,r,i){if(!(t>=r)){for(var s=n[t+r>>1],l=t-1,u=r+1;;){do l++;while(i(n[l],s)<0);do u--;while(i(n[u],s)>0);if(l>=u)break;var h=n[l];n[l]=n[u],n[u]=h,h=e[l],e[l]=e[u],e[u]=h}bd(n,e,t,u,i),bd(n,e,u+1,r,i)}}function Yt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function u1(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function vt(n,e,t){return e&&u1(n.prototype,e),t&&u1(n,t),n}var il=function(e,t){return e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y},Hd=function(e,t){if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;var r=e.ll.x<t.ll.x?t.ll.x:e.ll.x,i=e.ur.x<t.ur.x?e.ur.x:t.ur.x,s=e.ll.y<t.ll.y?t.ll.y:e.ll.y,l=e.ur.y<t.ur.y?e.ur.y:t.ur.y;return{ll:{x:r,y:s},ur:{x:i,y:l}}},Lr=Number.EPSILON;Lr===void 0&&(Lr=Math.pow(2,-52));var PC=Lr*Lr,Vd=function(e,t){if(-Lr<e&&e<Lr&&-Lr<t&&t<Lr)return 0;var r=e-t;return r*r<PC*e*t?0:e<t?-1:1},TC=function(){function n(){Yt(this,n),this.reset()}return vt(n,[{key:"reset",value:function(){this.xRounder=new f1,this.yRounder=new f1}},{key:"round",value:function(t,r){return{x:this.xRounder.round(t),y:this.yRounder.round(r)}}}]),n}(),f1=function(){function n(){Yt(this,n),this.tree=new Bd,this.round(0)}return vt(n,[{key:"round",value:function(t){var r=this.tree.add(t),i=this.tree.prev(r);if(i!==null&&Vd(r.key,i.key)===0)return this.tree.remove(t),i.key;var s=this.tree.next(r);return s!==null&&Vd(r.key,s.key)===0?(this.tree.remove(t),s.key):t}}]),n}(),sl=new TC,ol=function(e,t){return e.x*t.y-e.y*t.x},h1=function(e,t){return e.x*t.x+e.y*t.y},c1=function(e,t,r){var i={x:t.x-e.x,y:t.y-e.y},s={x:r.x-e.x,y:r.y-e.y},l=ol(i,s);return Vd(l,0)},zu=function(e){return Math.sqrt(h1(e,e))},IC=function(e,t,r){var i={x:t.x-e.x,y:t.y-e.y},s={x:r.x-e.x,y:r.y-e.y};return ol(s,i)/zu(s)/zu(i)},RC=function(e,t,r){var i={x:t.x-e.x,y:t.y-e.y},s={x:r.x-e.x,y:r.y-e.y};return h1(s,i)/zu(s)/zu(i)},d1=function(e,t,r){return t.y===0?null:{x:e.x+t.x/t.y*(r-e.y),y:r}},p1=function(e,t,r){return t.x===0?null:{x:r,y:e.y+t.y/t.x*(r-e.x)}},AC=function(e,t,r,i){if(t.x===0)return p1(r,i,e.x);if(i.x===0)return p1(e,t,r.x);if(t.y===0)return d1(r,i,e.y);if(i.y===0)return d1(e,t,r.y);var s=ol(t,i);if(s==0)return null;var l={x:r.x-e.x,y:r.y-e.y},u=ol(l,t)/s,h=ol(l,i)/s,c=e.x+h*t.x,m=r.x+u*i.x,_=e.y+h*t.y,v=r.y+u*i.y,E=(c+m)/2,x=(_+v)/2;return{x:E,y:x}},wn=function(){vt(n,null,[{key:"compare",value:function(t,r){var i=n.comparePoints(t.point,r.point);return i!==0?i:(t.point!==r.point&&t.link(r),t.isLeft!==r.isLeft?t.isLeft?1:-1:Fu.compare(t.segment,r.segment))}},{key:"comparePoints",value:function(t,r){return t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0}}]);function n(e,t){Yt(this,n),e.events===void 0?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=t}return vt(n,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var r=t.point.events,i=0,s=r.length;i<s;i++){var l=r[i];this.point.events.push(l),l.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,r=0;r<t;r++){var i=this.point.events[r];if(i.segment.consumedBy===void 0)for(var s=r+1;s<t;s++){var l=this.point.events[s];l.consumedBy===void 0&&i.otherSE.point.events===l.otherSE.point.events&&i.segment.consume(l.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],r=0,i=this.point.events.length;r<i;r++){var s=this.point.events[r];s!==this&&!s.segment.ringOut&&s.segment.isInResult()&&t.push(s)}return t}},{key:"getLeftmostComparator",value:function(t){var r=this,i=new Map,s=function(u){var h=u.otherSE;i.set(u,{sine:IC(r.point,t.point,h.point),cosine:RC(r.point,t.point,h.point)})};return function(l,u){i.has(l)||s(l),i.has(u)||s(u);var h=i.get(l),c=h.sine,m=h.cosine,_=i.get(u),v=_.sine,E=_.cosine;return c>=0&&v>=0?m<E?1:m>E?-1:0:c<0&&v<0?m<E?-1:m>E?1:0:v<c?-1:v>c?1:0}}}]),n}(),LC=0,Fu=function(){vt(n,null,[{key:"compare",value:function(t,r){var i=t.leftSE.point.x,s=r.leftSE.point.x,l=t.rightSE.point.x,u=r.rightSE.point.x;if(u<i)return 1;if(l<s)return-1;var h=t.leftSE.point.y,c=r.leftSE.point.y,m=t.rightSE.point.y,_=r.rightSE.point.y;if(i<s){if(c<h&&c<m)return 1;if(c>h&&c>m)return-1;var v=t.comparePoint(r.leftSE.point);if(v<0)return 1;if(v>0)return-1;var E=r.comparePoint(t.rightSE.point);return E!==0?E:-1}if(i>s){if(h<c&&h<_)return-1;if(h>c&&h>_)return 1;var x=r.comparePoint(t.leftSE.point);if(x!==0)return x;var P=t.comparePoint(r.rightSE.point);return P<0?1:P>0?-1:1}if(h<c)return-1;if(h>c)return 1;if(l<u){var w=r.comparePoint(t.rightSE.point);if(w!==0)return w}if(l>u){var S=t.comparePoint(r.rightSE.point);if(S<0)return 1;if(S>0)return-1}if(l!==u){var C=m-h,k=l-i,R=_-c,F=u-s;if(C>k&&R<F)return 1;if(C<k&&R>F)return-1}return l>u?1:l<u||m<_?-1:m>_?1:t.id<r.id?-1:t.id>r.id?1:0}}]);function n(e,t,r,i){Yt(this,n),this.id=++LC,this.leftSE=e,e.segment=this,e.otherSE=t,this.rightSE=t,t.segment=this,t.otherSE=e,this.rings=r,this.windings=i}return vt(n,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,r=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<r?t:r},ur:{x:this.rightSE.point.x,y:t>r?t:r}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var r=this.leftSE.point,i=this.rightSE.point,s=this.vector();if(r.x===i.x)return t.x===r.x?0:t.x<r.x?1:-1;var l=(t.y-r.y)/s.y,u=r.x+l*s.x;if(t.x===u)return 0;var h=(t.x-r.x)/s.x,c=r.y+h*s.y;return t.y===c?0:t.y<c?-1:1}},{key:"getIntersection",value:function(t){var r=this.bbox(),i=t.bbox(),s=Hd(r,i);if(s===null)return null;var l=this.leftSE.point,u=this.rightSE.point,h=t.leftSE.point,c=t.rightSE.point,m=il(r,h)&&this.comparePoint(h)===0,_=il(i,l)&&t.comparePoint(l)===0,v=il(r,c)&&this.comparePoint(c)===0,E=il(i,u)&&t.comparePoint(u)===0;if(_&&m)return E&&!v?u:!E&&v?c:null;if(_)return v&&l.x===c.x&&l.y===c.y?null:l;if(m)return E&&u.x===h.x&&u.y===h.y?null:h;if(E&&v)return null;if(E)return u;if(v)return c;var x=AC(l,this.vector(),h,t.vector());return x===null||!il(s,x)?null:sl.round(x.x,x.y)}},{key:"split",value:function(t){var r=[],i=t.events!==void 0,s=new wn(t,!0),l=new wn(t,!1),u=this.rightSE;this.replaceRightSE(l),r.push(l),r.push(s);var h=new n(s,u,this.rings.slice(),this.windings.slice());return wn.comparePoints(h.leftSE.point,h.rightSE.point)>0&&h.swapEvents(),wn.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),i&&(s.checkForConsuming(),l.checkForConsuming()),r}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var r=0,i=this.windings.length;r<i;r++)this.windings[r]*=-1}},{key:"consume",value:function(t){for(var r=this,i=t;r.consumedBy;)r=r.consumedBy;for(;i.consumedBy;)i=i.consumedBy;var s=n.compare(r,i);if(s!==0){if(s>0){var l=r;r=i,i=l}if(r.prev===i){var u=r;r=i,i=u}for(var h=0,c=i.rings.length;h<c;h++){var m=i.rings[h],_=i.windings[h],v=r.rings.indexOf(m);v===-1?(r.rings.push(m),r.windings.push(_)):r.windings[v]+=_}i.rings=null,i.windings=null,i.consumedBy=r,i.leftSE.consumedBy=r.leftSE,i.rightSE.consumedBy=r.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var r=this._afterState.rings,i=this._afterState.windings,s=this._afterState.multiPolys,l=0,u=this.rings.length;l<u;l++){var h=this.rings[l],c=this.windings[l],m=r.indexOf(h);m===-1?(r.push(h),i.push(c)):i[m]+=c}for(var _=[],v=[],E=0,x=r.length;E<x;E++)if(i[E]!==0){var P=r[E],w=P.poly;if(v.indexOf(w)===-1)if(P.isExterior)_.push(w);else{v.indexOf(w)===-1&&v.push(w);var S=_.indexOf(P.poly);S!==-1&&_.splice(S,1)}}for(var C=0,k=_.length;C<k;C++){var R=_[C].multiPoly;s.indexOf(R)===-1&&s.push(R)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var t=this.beforeState().multiPolys,r=this.afterState().multiPolys;switch(rn.type){case"union":{var i=t.length===0,s=r.length===0;this._isInResult=i!==s;break}case"intersection":{var l,u;t.length<r.length?(l=t.length,u=r.length):(l=r.length,u=t.length),this._isInResult=u===rn.numMultiPolys&&l<u;break}case"xor":{var h=Math.abs(t.length-r.length);this._isInResult=h%2==1;break}case"difference":{var c=function(_){return _.length===1&&_[0].isSubject};this._isInResult=c(t)!==c(r);break}default:throw new Error("Unrecognized operation type found ".concat(rn.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,r,i){var s,l,u,h=wn.comparePoints(t,r);if(h<0)s=t,l=r,u=1;else if(h>0)s=r,l=t,u=-1;else throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));var c=new wn(s,!0),m=new wn(l,!1);return new n(c,m,[i],[u])}}]),n}(),g1=function(){function n(e,t,r){if(Yt(this,n),!Array.isArray(e)||e.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=t,this.isExterior=r,this.segments=[],typeof e[0][0]!="number"||typeof e[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var i=sl.round(e[0][0],e[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};for(var s=i,l=1,u=e.length;l<u;l++){if(typeof e[l][0]!="number"||typeof e[l][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var h=sl.round(e[l][0],e[l][1]);h.x===s.x&&h.y===s.y||(this.segments.push(Fu.fromRing(s,h,this)),h.x<this.bbox.ll.x&&(this.bbox.ll.x=h.x),h.y<this.bbox.ll.y&&(this.bbox.ll.y=h.y),h.x>this.bbox.ur.x&&(this.bbox.ur.x=h.x),h.y>this.bbox.ur.y&&(this.bbox.ur.y=h.y),s=h)}(i.x!==s.x||i.y!==s.y)&&this.segments.push(Fu.fromRing(s,i,this))}return vt(n,[{key:"getSweepEvents",value:function(){for(var t=[],r=0,i=this.segments.length;r<i;r++){var s=this.segments[r];t.push(s.leftSE),t.push(s.rightSE)}return t}}]),n}(),NC=function(){function n(e,t){if(Yt(this,n),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new g1(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var r=1,i=e.length;r<i;r++){var s=new g1(e[r],this,!1);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.interiorRings.push(s)}this.multiPoly=t}return vt(n,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),r=0,i=this.interiorRings.length;r<i;r++)for(var s=this.interiorRings[r].getSweepEvents(),l=0,u=s.length;l<u;l++)t.push(s[l]);return t}}]),n}(),m1=function(){function n(e,t){if(Yt(this,n),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof e[0][0][0]=="number"&&(e=[e])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var r=0,i=e.length;r<i;r++){var s=new NC(e[r],this);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.polys.push(s)}this.isSubject=t}return vt(n,[{key:"getSweepEvents",value:function(){for(var t=[],r=0,i=this.polys.length;r<i;r++)for(var s=this.polys[r].getSweepEvents(),l=0,u=s.length;l<u;l++)t.push(s[l]);return t}}]),n}(),OC=function(){vt(n,null,[{key:"factory",value:function(t){for(var r=[],i=0,s=t.length;i<s;i++){var l=t[i];if(!(!l.isInResult()||l.ringOut)){for(var u=null,h=l.leftSE,c=l.rightSE,m=[h],_=h.point,v=[];u=h,h=c,m.push(h),h.point!==_;)for(;;){var E=h.getAvailableLinkedEvents();if(E.length===0){var x=m[0].point,P=m[m.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(x.x,",")+" ".concat(x.y,"]. Last matching segment found ends at")+" [".concat(P.x,", ").concat(P.y,"]."))}if(E.length===1){c=E[0].otherSE;break}for(var w=null,S=0,C=v.length;S<C;S++)if(v[S].point===h.point){w=S;break}if(w!==null){var k=v.splice(w)[0],R=m.splice(k.index);R.unshift(R[0].otherSE),r.push(new n(R.reverse()));continue}v.push({index:m.length,point:h.point});var F=h.getLeftmostComparator(u);c=E.sort(F)[0].otherSE;break}r.push(new n(m))}}return r}}]);function n(e){Yt(this,n),this.events=e;for(var t=0,r=e.length;t<r;t++)e[t].segment.ringOut=this;this.poly=null}return vt(n,[{key:"getGeom",value:function(){for(var t=this.events[0].point,r=[t],i=1,s=this.events.length-1;i<s;i++){var l=this.events[i].point,u=this.events[i+1].point;c1(l,t,u)!==0&&(r.push(l),t=l)}if(r.length===1)return null;var h=r[0],c=r[1];c1(h,t,c)===0&&r.shift(),r.push(r[0]);for(var m=this.isExteriorRing()?1:-1,_=this.isExteriorRing()?0:r.length-1,v=this.isExteriorRing()?r.length:-1,E=[],x=_;x!=v;x+=m)E.push([r[x].x,r[x].y]);return E}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var t=this.enclosingRing();this._isExteriorRing=t?!t.isExteriorRing():!0}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],r=1,i=this.events.length;r<i;r++){var s=this.events[r];wn.compare(t,s)>0&&(t=s)}for(var l=t.segment.prevInResult(),u=l?l.prevInResult():null;;){if(!l)return null;if(!u)return l.ringOut;if(u.ringOut!==l.ringOut)return u.ringOut.enclosingRing()!==l.ringOut?l.ringOut:l.ringOut.enclosingRing();l=u.prevInResult(),u=l?l.prevInResult():null}}}]),n}(),v1=function(){function n(e){Yt(this,n),this.exteriorRing=e,e.poly=this,this.interiorRings=[]}return vt(n,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(t[0]===null)return null;for(var r=0,i=this.interiorRings.length;r<i;r++){var s=this.interiorRings[r].getGeom();s!==null&&t.push(s)}return t}}]),n}(),MC=function(){function n(e){Yt(this,n),this.rings=e,this.polys=this._composePolys(e)}return vt(n,[{key:"getGeom",value:function(){for(var t=[],r=0,i=this.polys.length;r<i;r++){var s=this.polys[r].getGeom();s!==null&&t.push(s)}return t}},{key:"_composePolys",value:function(t){for(var r=[],i=0,s=t.length;i<s;i++){var l=t[i];if(!l.poly)if(l.isExteriorRing())r.push(new v1(l));else{var u=l.enclosingRing();u.poly||r.push(new v1(u)),u.poly.addInterior(l)}}return r}}]),n}(),DC=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fu.compare;Yt(this,n),this.queue=e,this.tree=new Bd(t),this.segments=[]}return vt(n,[{key:"process",value:function(t){var r=t.segment,i=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(r),i;var s=t.isLeft?this.tree.insert(r):this.tree.find(r);if(!s)throw new Error("Unable to find segment #".concat(r.id," ")+"[".concat(r.leftSE.point.x,", ").concat(r.leftSE.point.y,"] -> ")+"[".concat(r.rightSE.point.x,", ").concat(r.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var l=s,u=s,h=void 0,c=void 0;h===void 0;)l=this.tree.prev(l),l===null?h=null:l.key.consumedBy===void 0&&(h=l.key);for(;c===void 0;)u=this.tree.next(u),u===null?c=null:u.key.consumedBy===void 0&&(c=u.key);if(t.isLeft){var m=null;if(h){var _=h.getIntersection(r);if(_!==null&&(r.isAnEndpoint(_)||(m=_),!h.isAnEndpoint(_)))for(var v=this._splitSafely(h,_),E=0,x=v.length;E<x;E++)i.push(v[E])}var P=null;if(c){var w=c.getIntersection(r);if(w!==null&&(r.isAnEndpoint(w)||(P=w),!c.isAnEndpoint(w)))for(var S=this._splitSafely(c,w),C=0,k=S.length;C<k;C++)i.push(S[C])}if(m!==null||P!==null){var R=null;if(m===null)R=P;else if(P===null)R=m;else{var F=wn.comparePoints(m,P);R=F<=0?m:P}this.queue.remove(r.rightSE),i.push(r.rightSE);for(var N=r.split(R),U=0,B=N.length;U<B;U++)i.push(N[U])}i.length>0?(this.tree.remove(r),i.push(t)):(this.segments.push(r),r.prev=h)}else{if(h&&c){var D=h.getIntersection(c);if(D!==null){if(!h.isAnEndpoint(D))for(var V=this._splitSafely(h,D),X=0,ne=V.length;X<ne;X++)i.push(V[X]);if(!c.isAnEndpoint(D))for(var q=this._splitSafely(c,D),ce=0,we=q.length;ce<we;ce++)i.push(q[ce])}}this.tree.remove(r)}return i}},{key:"_splitSafely",value:function(t,r){this.tree.remove(t);var i=t.rightSE;this.queue.remove(i);var s=t.split(r);return s.push(i),t.consumedBy===void 0&&this.tree.insert(t),s}}]),n}(),y1=typeof process!="undefined"&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,zC=typeof process!="undefined"&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,FC=function(){function n(){Yt(this,n)}return vt(n,[{key:"run",value:function(t,r,i){rn.type=t,sl.reset();for(var s=[new m1(r,!0)],l=0,u=i.length;l<u;l++)s.push(new m1(i[l],!1));if(rn.numMultiPolys=s.length,rn.type==="difference")for(var h=s[0],c=1;c<s.length;)Hd(s[c].bbox,h.bbox)!==null?c++:s.splice(c,1);if(rn.type==="intersection"){for(var m=0,_=s.length;m<_;m++)for(var v=s[m],E=m+1,x=s.length;E<x;E++)if(Hd(v.bbox,s[E].bbox)===null)return[]}for(var P=new Bd(wn.compare),w=0,S=s.length;w<S;w++)for(var C=s[w].getSweepEvents(),k=0,R=C.length;k<R;k++)if(P.insert(C[k]),P.size>y1)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var F=new DC(P),N=P.size,U=P.pop();U;){var B=U.key;if(P.size===N){var D=B.segment;throw new Error("Unable to pop() ".concat(B.isLeft?"left":"right"," SweepEvent ")+"[".concat(B.point.x,", ").concat(B.point.y,"] from segment #").concat(D.id," ")+"[".concat(D.leftSE.point.x,", ").concat(D.leftSE.point.y,"] -> ")+"[".concat(D.rightSE.point.x,", ").concat(D.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(P.size>y1)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(F.segments.length>zC)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var V=F.process(B),X=0,ne=V.length;X<ne;X++){var q=V[X];q.consumedBy===void 0&&P.insert(q)}N=P.size,U=P.pop()}sl.reset();var ce=OC.factory(F.segments),we=new MC(ce);return we.getGeom()}}]),n}(),rn=new FC,BC=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return rn.run("union",e,r)},GC=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return rn.run("intersection",e,r)},UC=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return rn.run("xor",e,r)},bC=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return rn.run("difference",e,r)},HC={union:BC,intersection:GC,xor:UC,difference:bC};function SP(n,e,t){t===void 0&&(t={});var r=l1(n),i=l1(e),s=HC.union(r.coordinates,i.coordinates);return s.length===0?null:s.length===1?_C(s[0],t.properties):wC(s,t.properties)}var Bu,VC=new Uint8Array(16);function WC(){if(!Bu&&(Bu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Bu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bu(VC)}var jC=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function YC(n){return typeof n=="string"&&jC.test(n)}var st=[];for(var Wd=0;Wd<256;++Wd)st.push((Wd+256).toString(16).substr(1));function QC(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(st[n[e+0]]+st[n[e+1]]+st[n[e+2]]+st[n[e+3]]+"-"+st[n[e+4]]+st[n[e+5]]+"-"+st[n[e+6]]+st[n[e+7]]+"-"+st[n[e+8]]+st[n[e+9]]+"-"+st[n[e+10]]+st[n[e+11]]+st[n[e+12]]+st[n[e+13]]+st[n[e+14]]+st[n[e+15]]).toLowerCase();if(!YC(t))throw TypeError("Stringified UUID is invalid");return t}function xP(n,e,t){n=n||{};var r=n.random||(n.rng||WC)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return QC(r)}var qC={exports:{}},ll={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XC=Ys.exports,_1=60103;ll.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var w1=Symbol.for;_1=w1("react.element"),ll.Fragment=w1("react.fragment")}var $C=XC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KC=Object.prototype.hasOwnProperty,ZC={key:!0,ref:!0,__self:!0,__source:!0};function S1(n,e,t){var r,i={},s=null,l=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)KC.call(e,r)&&!ZC.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_1,type:n,key:s,ref:l,props:i,_owner:$C.current}}ll.jsx=S1;ll.jsxs=S1;qC.exports=ll;const JC=!0,ek=!1,tk={CCW:-1,CW:1,NOT_ORIENTABLE:0},nk=2*Math.PI,al=1,x1=0,Sn=2,rk=3,ik=4,sk=1,ok=2,jd=0,Gu=1,us=2;var Uu=Object.freeze({CCW:JC,CW:ek,ORIENTATION:tk,PIx2:nk,INSIDE:al,OUTSIDE:x1,BOUNDARY:Sn,CONTAINS:rk,INTERLACE:ik,OVERLAP_SAME:sk,OVERLAP_OPPOSITE:ok,NOT_VERTEX:jd,START_VERTEX:Gu,END_VERTEX:us});let xn=1e-6;function E1(n){xn=n}function C1(){return xn}const lk=3;function Yd(n){return n<xn&&n>-xn}function li(n,e){return n-e<xn&&n-e>-xn}function k1(n,e){return n-e>xn}function ak(n,e){return n-e>-xn}function P1(n,e){return n-e<-xn}function uk(n,e){return n-e<xn}var fk=Object.freeze({setTolerance:E1,getTolerance:C1,DECIMALS:lk,EQ_0:Yd,EQ:li,GT:k1,GE:ak,LT:P1,LE:uk});class Qd{static get ILLEGAL_PARAMETERS(){return new ReferenceError("Illegal Parameters")}static get ZERO_DIVISION(){return new Error("Zero division")}static get UNRESOLVED_BOUNDARY_CONFLICT(){return new Error("Unresolved boundary conflict in boolean operation")}static get INFINITE_LOOP(){return new Error("Infinite loop")}}let p={Utils:fk,Errors:Qd,Matrix:void 0,Planar_set:void 0,Point:void 0,Vector:void 0,Line:void 0,Circle:void 0,Segment:void 0,Arc:void 0,Box:void 0,Edge:void 0,Face:void 0,Ray:void 0,Ray_shooting:void 0,Multiline:void 0,Polygon:void 0,Distance:void 0,Inversion:void 0};for(let n in Uu)p[n]=Uu[n];Object.defineProperty(p,"DP_TOL",{get:function(){return C1()},set:function(n){E1(n)}});class qd{constructor(e,t){this.first=e,this.last=t||this.first}static testInfiniteLoop(e){let t=e,r=e;do{if(t!=e&&t===r)throw p.Errors.INFINITE_LOOP;t=t.next,r=r.next.next}while(t!=e)}get size(){let e=0;for(let t of this)e++;return e}toArray(e=void 0,t=void 0){let r=[],i=e||this.first,s=t||this.last,l=i;if(l===void 0)return r;do r.push(l),l=l.next;while(l!==s.next);return r}append(e){return this.isEmpty()?this.first=e:(e.prev=this.last,this.last.next=e),this.last=e,this.last.next=void 0,this.first.prev=void 0,this}insert(e,t){if(this.isEmpty())this.first=e,this.last=e;else if(t==null)e.next=this.first,this.first.prev=e,this.first=e;else{let r=t.next;t.next=e,r&&(r.prev=e),e.prev=t,e.next=r,this.last===t&&(this.last=e)}return this.last.next=void 0,this.first.prev=void 0,this}remove(e){return e===this.first&&e===this.last?(this.first=void 0,this.last=void 0):(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this.first&&(this.first=e.next),e===this.last&&(this.last=e.prev)),this}isEmpty(){return this.first===void 0}[Symbol.iterator](){let e;return{next:()=>(e=e?e.next:this.first,{value:e,done:e===void 0})}}}function fs(n,e,t){let r=t.length,i=n.shape.split(e);if(i.length===0)return;let s=0;i[0]===null?s=0:i[1]===null?s=n.shape.length:s=i[0].length;let l=jd;li(s,0)&&(l|=Gu),li(s,n.shape.length)&&(l|=us);let u=l&us&&n.next.arc_length===0?0:n.arc_length+s;t.push({id:r,pt:e,arc_length:u,edge_before:n,edge_after:void 0,face:n.face,is_vertex:l})}function ul(n){n.int_points1_sorted=fl(n.int_points1),n.int_points2_sorted=fl(n.int_points2)}function fl(n){let e=new Map,t=0;for(let i of n)e.has(i.face)||(e.set(i.face,t),t++);for(let i of n)i.faceId=e.get(i.face);return n.slice().sort(hk)}function hk(n,e){return n.faceId<e.faceId?-1:n.faceId>e.faceId?1:n.arc_length<e.arc_length?-1:n.arc_length>e.arc_length?1:0}function Xd(n,e){return e.slice().sort((t,r)=>n.coord(t.pt)<n.coord(r.pt)?-1:n.coord(t.pt)>n.coord(r.pt)?1:0)}function $d(n){if(n.int_points1.length<2)return;let e=!1,t,r,i,s;for(let l=0;l<n.int_points1_sorted.length;l++)if(n.int_points1_sorted[l].id!==-1){t=n.int_points1_sorted[l],r=n.int_points2[t.id];for(let u=l+1;u<n.int_points1_sorted.length&&(i=n.int_points1_sorted[u],!!li(i.arc_length,t.arc_length));u++)i.id!==-1&&(s=n.int_points2[i.id],s.id!==-1&&i.edge_before===t.edge_before&&i.edge_after===t.edge_after&&s.edge_before===r.edge_before&&s.edge_after===r.edge_after&&(i.id=-1,s.id=-1,e=!0))}r=n.int_points2_sorted[0],t=n.int_points1[r.id];for(let l=1;l<n.int_points2_sorted.length;l++){let u=n.int_points2_sorted[l];if(u.id==-1)continue;if(r.id==-1||!li(u.arc_length,r.arc_length)){r=u,t=n.int_points1[r.id];continue}let h=n.int_points1[u.id];h.edge_before===t.edge_before&&h.edge_after===t.edge_after&&u.edge_before===r.edge_before&&u.edge_after===r.edge_after&&(h.id=-1,u.id=-1,e=!0)}e&&(n.int_points1=n.int_points1.filter(l=>l.id>=0),n.int_points2=n.int_points2.filter(l=>l.id>=0),n.int_points1.forEach((l,u)=>l.id=u),n.int_points2.forEach((l,u)=>l.id=u))}function Kd(n){for(let e of n)e.edge_before.bvStart=void 0,e.edge_before.bvEnd=void 0,e.edge_before.bv=void 0,e.edge_before.overlap=void 0,e.edge_after.bvStart=void 0,e.edge_after.bvEnd=void 0,e.edge_after.bv=void 0,e.edge_after.overlap=void 0;for(let e of n)e.edge_before.bvEnd=Sn,e.edge_after.bvStart=Sn}function Zd(n,e){for(let t of n)t.edge_before.setInclusion(e),t.edge_after.setInclusion(e)}function ck(n){let e,t,r,i=n.int_points1.length;for(let s=0;s<i;s++){let l=n.int_points1_sorted[s];l.face!==e&&(t=s,e=l.face);let u=s,h=hs(n.int_points1_sorted,s,e),c;u+h<i&&n.int_points1_sorted[u+h].face===e?c=u+h:c=t;let m=hs(n.int_points1_sorted,c,e);r=null;for(let S=c;S<c+m;S++){let C=n.int_points1_sorted[S];if(C.face===e&&n.int_points2[C.id].face===n.int_points2[l.id].face){r=C;break}}if(r===null)continue;let _=l.edge_after,v=r.edge_before;if(!(_.bv===Sn&&v.bv===Sn)||_!==v)continue;let E=n.int_points2[l.id],x=n.int_points2[r.id],P=E.edge_after,w=x.edge_before;P.bv===Sn&&w.bv===Sn&&P===w||(E=n.int_points2[r.id],x=n.int_points2[l.id],P=E.edge_after,w=x.edge_before),P.bv===Sn&&w.bv===Sn&&P===w&&_.setOverlap(P)}}function hs(n,e,t){let r,i,s=1;if(n.length==1)return 1;r=n[e];for(let l=e+1;l<n.length&&!(r.face!=t||(i=n[l],!(i.pt.equalTo(r.pt)&&i.edge_before===r.edge_before&&i.edge_after===r.edge_after)));l++)s++;return s}function cs(n,e){if(!!e){for(let t of e){let r=t.edge_before;if(t.is_vertex=jd,r.shape.start&&r.shape.start.equalTo(t.pt)&&(t.is_vertex|=Gu),r.shape.end&&r.shape.end.equalTo(t.pt)&&(t.is_vertex|=us),t.is_vertex&Gu){t.edge_before=r.prev,t.is_vertex=us;continue}if(t.is_vertex&us)continue;let i=n.addVertex(t.pt,r);t.edge_before=i}for(let t of e)t.edge_after=t.edge_before.next}}function T1(n,e,t){let r=n.edge_before,i=e.edge_after;r.next=t,t.prev=r,t.next=i,i.prev=t}const{INSIDE:En,OUTSIDE:Cn,BOUNDARY:Ze,OVERLAP_SAME:dk,OVERLAP_OPPOSITE:pk}=Uu,{NOT_VERTEX:EP,START_VERTEX:I1,END_VERTEX:R1}=Uu,bu=1,hl=2,ai=3;function gk(n,e){let[t,r]=cl(n,e,bu,!0);return t}function Jd(n,e){let r=e.clone().reverse(),[i,s]=cl(n,r,ai,!0);return i}function A1(n,e){let[t,r]=cl(n,e,hl,!0);return t}function L1(n,e){let[t,r]=cl(n,e,hl,!1),i=[];for(let l of t.faces)i=[...i,...[...l.edges].map(u=>u.shape)];let s=[];for(let l of r.faces)s=[...s,...[...l.edges].map(u=>u.shape)];return[i,s]}function ep(n,e){let[t,r]=cl(n,e,ai,!1),i=[];for(let s of t.faces)i=[...i,...[...s.edges].map(l=>l.shape)];return i}function N1(n,e){let t=n.clone(),r=e.clone(),i=O1(t,r);ul(i),cs(t,i.int_points1_sorted),cs(r,i.int_points2_sorted),$d(i),ul(i);let s=i.int_points1_sorted.map(u=>u.pt),l=i.int_points2_sorted.map(u=>u.pt);return[s,l]}function mk(n,e,t,r){let i=M1(n,t.int_points1),s=M1(e,t.int_points2);for(D1(i,e),D1(s,n),Kd(t.int_points1),Kd(t.int_points2),Zd(t.int_points1,e),Zd(t.int_points2,n);yk(n,e,t.int_points1,t.int_points1_sorted,t.int_points2,t););ck(t),tp(n,r,t.int_points1_sorted,!0),tp(e,r,t.int_points2_sorted,!1),z1(n,i,r,!0),z1(e,s,r,!1)}function vk(n,e,t,r){_k(n,e,r,t.int_points2),wk(n,e,t),np(n,t.int_points1),np(e,t.int_points2),rp(n,t.int_points1,t.int_points2),rp(n,t.int_points2,t.int_points1)}function cl(n,e,t,r){let i=n.clone(),s=e.clone(),l=O1(i,s);return ul(l),cs(i,l.int_points1_sorted),cs(s,l.int_points2_sorted),$d(l),ul(l),mk(i,s,l,t),r&&vk(i,s,l,t),[i,s]}function O1(n,e){let t={int_points1:[],int_points2:[]};for(let r of n.edges){let i=e.edges.search(r.box);for(let s of i){let l=r.shape.intersect(s.shape);for(let u of l)fs(r,u,t.int_points1),fs(s,u,t.int_points2)}}return t}function M1(n,e){let t=[];for(let r of n.faces)e.find(i=>i.face===r)||t.push(r);return t}function D1(n,e){for(let t of n)t.first.bv=t.first.bvStart=t.first.bvEnd=void 0,t.first.setInclusion(e)}function yk(n,e,t,r,i,s){let l,u,h,c=r.length,m=!1;for(let _=0;_<c;_++){let v=r[_];v.face!==l&&(u=_,l=v.face);let E=_,x=hs(r,_,l),P;E+x<c&&r[E+x].face===l?P=E+x:P=u;let w=hs(r,P,l);h=null;for(let k=P;k<P+w;k++){let R=r[k];if(R.face===l&&i[R.id].face===i[v.id].face){h=R;break}}if(h===null)continue;let S=v.edge_after,C=h.edge_before;if(S.bv===Ze&&C.bv!=Ze){S.bv=C.bv;continue}if(S.bv!=Ze&&C.bv===Ze){C.bv=S.bv;continue}if(S.bv===Ze&&C.bv===Ze&&S!=C||S.bv===En&&C.bv===Cn||S.bv===Cn&&C.bv===En){let k=S.next;for(;k!=C;)k.bvStart=void 0,k.bvEnd=void 0,k.bv=void 0,k.setInclusion(e),k=k.next}if(S.bv===Ze&&C.bv===Ze&&S!=C){let k=S.next,R;for(;k!=C;){if(k.bv!=Ze){if(R===void 0)R=k.bv;else if(k.bv!=R)throw Qd.UNRESOLVED_BOUNDARY_CONFLICT}k=k.next}R!=null&&(S.bv=R,C.bv=R);continue}if(S.bv===En&&C.bv===Cn||S.bv===Cn&&C.bv===En){let k=S;for(;k!=C;){if(k.bvStart===S.bv&&k.bvEnd===C.bv){let[R,F]=k.shape.distanceTo(e);if(R<10*p.DP_TOL){fs(k,F.ps,t);let N=t[t.length-1];if(N.is_vertex&I1)N.edge_after=k,N.edge_before=k.prev,k.bvStart=Ze,k.bv=void 0,k.setInclusion(e);else if(N.is_vertex&R1)N.edge_after=k.next,k.bvEnd=Ze,k.bv=void 0,k.setInclusion(e);else{let D=e.addVertex(N.pt,k);N.edge_before=D,N.edge_after=D.next,D.setInclusion(e),D.next.bvStart=Ze,D.next.bvEnd=void 0,D.next.bv=void 0,D.next.setInclusion(e)}let U=e.findEdgeByPoint(F.pe);fs(U,F.pe,i);let B=i[i.length-1];if(B.is_vertex&I1)B.edge_after=U,B.edge_before=U.prev;else if(B.is_vertex&R1)B.edge_after=U.next;else{let D=i.find(X=>X.edge_after===U),V=e.addVertex(B.pt,U);B.edge_before=V,B.edge_after=V.next,D&&(D.edge_after=V),V.bvStart=void 0,V.bvEnd=Ze,V.bv=void 0,V.setInclusion(n),V.next.bvStart=Ze,V.next.bvEnd=void 0,V.next.bv=void 0,V.next.setInclusion(n)}ul(s),m=!0;break}}k=k.next}if(m)break;throw Qd.UNRESOLVED_BOUNDARY_CONFLICT}}return m}function tp(n,e,t,r){if(!t)return;let i,s,l,u;for(let h=0;h<t.length;h++){if(l=t[h],l.face!==i&&(s=h,i=l.face),i.isEmpty())continue;let c=h,m=hs(t,h,i),_;c+m<t.length&&t[c+m].face===l.face?_=c+m:_=s,u=t[_];let v=_,E=hs(t,v,i),x=l.edge_after,P=u.edge_before;if(x.bv===En&&P.bv===En&&e===bu||x.bv===Cn&&P.bv===Cn&&e===hl||(x.bv===Cn||P.bv===Cn)&&e===ai&&!r||(x.bv===En||P.bv===En)&&e===ai&&r||x.bv===Ze&&P.bv===Ze&&x.overlap&dk&&r||x.bv===Ze&&P.bv===Ze&&x.overlap&pk){n.removeChain(i,x,P);for(let w=c;w<c+m;w++)t[w].edge_after=void 0;for(let w=v;w<v+E;w++)t[w].edge_before=void 0}h+=m-1}}function _k(n,e,t,r){for(let i of e.faces){for(let s of i)n.edges.add(s);r.find(s=>s.face===i)===void 0&&n.addFace(i.first,i.last)}}function wk(n,e,t){if(t.int_points1.length!==0)for(let r=0;r<t.int_points1.length;r++){let i=t.int_points1[r],s=t.int_points2[r];if(i.edge_before!==void 0&&i.edge_after===void 0&&s.edge_before===void 0&&s.edge_after!==void 0&&(i.edge_before.next=s.edge_after,s.edge_after.prev=i.edge_before,i.edge_after=s.edge_after,s.edge_before=i.edge_before),s.edge_before!==void 0&&s.edge_after===void 0&&i.edge_before===void 0&&i.edge_after!==void 0&&(s.edge_before.next=i.edge_after,i.edge_after.prev=s.edge_before,s.edge_after=i.edge_after,i.edge_before=s.edge_before),i.edge_before!==void 0&&i.edge_after===void 0)for(let l of t.int_points1_sorted)l!==i&&l.edge_before===void 0&&l.edge_after!==void 0&&l.pt.equalTo(i.pt)&&(i.edge_before.next=l.edge_after,l.edge_after.prev=i.edge_before,i.edge_after=l.edge_after,l.edge_before=i.edge_before);if(s.edge_before!==void 0&&s.edge_after===void 0)for(let l of t.int_points2_sorted)l!==s&&l.edge_before===void 0&&l.edge_after!==void 0&&l.pt.equalTo(s.pt)&&(s.edge_before.next=l.edge_after,l.edge_after.prev=s.edge_before,s.edge_after=l.edge_after,l.edge_before=s.edge_before)}}function np(n,e){for(let t of e)n.faces.delete(t.face),t.face=void 0,t.edge_before&&(t.edge_before.face=void 0),t.edge_after&&(t.edge_after.face=void 0)}function rp(n,e,t){for(let r of e){if(r.edge_before===void 0||r.edge_after===void 0||r.face||r.edge_after.face||r.edge_before.face)continue;let i=r.edge_after,s=r.edge_before;qd.testInfiniteLoop(i);let l=n.addFace(i,s);for(let u of e)u.edge_before&&u.edge_after&&u.edge_before.face===l&&u.edge_after.face===l&&(u.face=l);for(let u of t)u.edge_before&&u.edge_after&&u.edge_before.face===l&&u.edge_after.face===l&&(u.face=l)}}function z1(n,e,t,r){for(let i of e){let s=i.first.bv;(t===bu&&s===En||t===ai&&s===En&&r||t===ai&&s===Cn&&!r||t===hl&&s===Cn)&&n.deleteFace(i)}}var Sk=Object.freeze({BOOLEAN_UNION:bu,BOOLEAN_INTERSECT:hl,BOOLEAN_SUBTRACT:ai,unify:gk,subtract:Jd,intersect:A1,innerClip:L1,outerClip:ep,calculateIntersections:N1,removeNotRelevantChains:tp,removeOldFaces:np,restoreFaces:rp});const xk=RegExp("T.F..FFF.|T.F...F.."),Ek=RegExp("T........|.T.......|...T.....|....T...."),Ck=RegExp("FT.......|F..T.....|F...T...."),kk=RegExp("T.F..F..."),Pk=RegExp("T.F..F...|.TF..F...|..FT.F...|..F.TF...");class ds{constructor(){this.m=new Array(9).fill(void 0)}get I2I(){return this.m[0]}set I2I(e){this.m[0]=e}get I2B(){return this.m[1]}set I2B(e){this.m[1]=e}get I2E(){return this.m[2]}set I2E(e){this.m[2]=e}get B2I(){return this.m[3]}set B2I(e){this.m[3]=e}get B2B(){return this.m[4]}set B2B(e){this.m[4]=e}get B2E(){return this.m[5]}set B2E(e){this.m[5]=e}get E2I(){return this.m[6]}set E2I(e){this.m[6]=e}get E2B(){return this.m[7]}set E2B(e){this.m[7]=e}get E2E(){return this.m[8]}set E2E(e){this.m[8]=e}toString(){return this.m.map(e=>e instanceof Array&&e.length>0?"T":e instanceof Array&&e.length===0?"F":"*").join("")}equal(){return xk.test(this.toString())}intersect(){return Ek.test(this.toString())}touch(){return Ck.test(this.toString())}inside(){return kk.test(this.toString())}covered(){return Pk.test(this.toString())}}function Hu(n,e){let t=[],[r,i,s]=n.standard,[l,u,h]=e.standard,c=r*u-i*l,m=s*u-i*h,_=r*h-s*l;if(!p.Utils.EQ_0(c)){let v,E;i===0?(v=s/r,E=_/c):u===0?(v=h/l,E=_/c):r===0?(v=m/c,E=s/i):l===0?(v=m/c,E=h/u):(v=m/c,E=_/c),t.push(new p.Point(v,E))}return t}function ps(n,e){let t=[],r=e.pc.projectionOn(n),i=e.pc.distanceTo(r)[0];if(p.Utils.EQ(i,e.r))t.push(r);else if(p.Utils.LT(i,e.r)){let s=Math.sqrt(e.r*e.r-i*i),l,u;l=n.norm.rotate90CCW().multiply(s),u=r.translate(l),t.push(u),l=n.norm.rotate90CW().multiply(s),u=r.translate(l),t.push(u)}return t}function dl(n,e){let t=[];for(let r of e.toSegments()){let i=Vu(r,n);for(let s of i)U1(s,t)||t.push(s)}return t}function ip(n,e){let t=[];if(dl(n,e.box).length===0)return t;let r=new p.Circle(e.pc,e.r),i=ps(n,r);for(let s of i)s.on(e)&&t.push(s);return t}function Vu(n,e){let t=[];if(n.ps.on(e)&&t.push(n.ps),n.pe.on(e)&&!n.isZeroLength()&&t.push(n.pe),t.length>0||n.isZeroLength()||n.ps.leftTo(e)&&n.pe.leftTo(e)||!n.ps.leftTo(e)&&!n.pe.leftTo(e))return t;let r=new p.Line(n.ps,n.pe);return Hu(r,e)}function pl(n,e){let t=[];if(n.box.not_intersect(e.box))return t;if(n.isZeroLength())return n.ps.on(e)&&t.push(n.ps),t;if(e.isZeroLength())return e.ps.on(n)&&t.push(e.ps),t;let r=new p.Line(n.ps,n.pe),i=new p.Line(e.ps,e.pe);if(r.incidentTo(i))n.ps.on(e)&&t.push(n.ps),n.pe.on(e)&&t.push(n.pe),e.ps.on(n)&&!e.ps.equalTo(n.ps)&&!e.ps.equalTo(n.pe)&&t.push(e.ps),e.pe.on(n)&&!e.pe.equalTo(n.ps)&&!e.pe.equalTo(n.pe)&&t.push(e.pe);else{let s=Hu(r,i);s.length>0&&s[0].on(n)&&s[0].on(e)&&t.push(s[0])}return t}function Wu(n,e){let t=[];if(n.box.not_intersect(e.box))return t;if(n.isZeroLength()){let[s,l]=n.ps.distanceTo(e.pc);return p.Utils.EQ(s,e.r)&&t.push(n.ps),t}let r=new p.Line(n.ps,n.pe),i=ps(r,e);for(let s of i)s.on(n)&&t.push(s);return t}function ui(n,e){let t=[];if(n.box.not_intersect(e.box))return t;if(n.isZeroLength())return n.ps.on(e)&&t.push(n.ps),t;let r=new p.Line(n.ps,n.pe),i=new p.Circle(e.pc,e.r),s=ps(r,i);for(let l of s)l.on(n)&&l.on(e)&&t.push(l);return t}function Tk(n,e){let t=[];for(let r of e.toSegments()){let i=pl(r,n);for(let s of i)t.push(s)}return t}function F1(n,e){let t=[];if(n.box.not_intersect(e.box))return t;let r=new p.Vector(n.pc,e.pc),i=n.r,s=e.r;if(p.Utils.EQ_0(i)||p.Utils.EQ_0(s))return t;if(p.Utils.EQ_0(r.x)&&p.Utils.EQ_0(r.y)&&p.Utils.EQ(i,s))return t.push(n.pc.translate(-i,0)),t;let l=n.pc.distanceTo(e.pc)[0];if(p.Utils.GT(l,i+s)||p.Utils.LT(l,Math.abs(i-s)))return t;r.x/=l,r.y/=l;let u;if(p.Utils.EQ(l,i+s)||p.Utils.EQ(l,Math.abs(i-s)))return u=n.pc.translate(i*r.x,i*r.y),t.push(u),t;let h=i*i/(2*l)-s*s/(2*l)+l/2,c=n.pc.translate(h*r.x,h*r.y),m=Math.sqrt(i*i-h*h);return u=c.translate(r.rotate90CCW().multiply(m)),t.push(u),u=c.translate(r.rotate90CW().multiply(m)),t.push(u),t}function Ik(n,e){let t=[];for(let r of e.toSegments()){let i=Wu(r,n);for(let s of i)t.push(s)}return t}function sp(n,e){var t=[];if(n.box.not_intersect(e.box))return t;if(n.pc.equalTo(e.pc)&&p.Utils.EQ(n.r,e.r)){let l;return l=n.start,l.on(e)&&t.push(l),l=n.end,l.on(e)&&t.push(l),l=e.start,l.on(n)&&t.push(l),l=e.end,l.on(n)&&t.push(l),t}let r=new p.Circle(n.pc,n.r),i=new p.Circle(e.pc,e.r),s=r.intersect(i);for(let l of s)l.on(n)&&l.on(e)&&t.push(l);return t}function op(n,e){let t=[];if(n.box.not_intersect(e.box))return t;if(e.pc.equalTo(n.pc)&&p.Utils.EQ(e.r,n.r))return t.push(n.start),t.push(n.end),t;let r=e,i=new p.Circle(n.pc,n.r),s=F1(r,i);for(let l of s)l.on(n)&&t.push(l);return t}function Rk(n,e){let t=[];for(let r of e.toSegments()){let i=ui(r,n);for(let s of i)t.push(s)}return t}function Ak(n,e){return n.isSegment()?pl(n.shape,e):ui(e,n.shape)}function Lk(n,e){return n.isSegment()?ui(n.shape,e):sp(n.shape,e)}function B1(n,e){return n.isSegment()?Vu(n.shape,e):ip(e,n.shape)}function Nk(n,e){return n.isSegment()?Wu(n.shape,e):op(n.shape,e)}function lp(n,e){let t=[];for(let r of e.edges)for(let i of Ak(r,n))t.push(i);return t}function ap(n,e){let t=[];for(let r of e.edges)for(let i of Lk(r,n))t.push(i);return t}function ju(n,e){let t=[];if(e.isEmpty())return t;for(let r of e.edges)for(let i of B1(r,n))U1(i,t)||t.push(i);return n.sortPoints(t)}function G1(n,e){let t=[];if(e.isEmpty())return t;for(let r of e.edges)for(let i of Nk(r,n))t.push(i);return t}function Ok(n,e){const t=n.shape,r=e.shape;return n.isSegment()?e.isSegment()?pl(t,r):ui(t,r):e.isSegment()?ui(r,t):sp(t,r)}function Mk(n,e){let t=[];if(e.isEmpty()||n.shape.box.not_intersect(e.box))return t;let r=e.edges.search(n.shape.box);for(let i of r)for(let s of Ok(n,i))t.push(s);return t}function Dk(n,e){let t=[];if(n.isEmpty()||e.isEmpty()||n.box.not_intersect(e.box))return t;for(let r of n.edges)for(let i of Mk(r,e))t.push(i);return t}function zk(n,e){return n instanceof p.Line?ju(n,e):n instanceof p.Segment?lp(n,e):n instanceof p.Arc?ap(n,e):[]}function U1(n,e){return e.some(t=>t.equalTo(n))}class sn extends qd{constructor(...e){super();if(e.length!==0&&e.length==1&&e[0]instanceof Array){let t=e[0];if(t.length==0)return;t.every(r=>r instanceof p.Segment||r instanceof p.Arc||r instanceof p.Ray||r instanceof p.Line);for(let r of t){let i=new p.Edge(r);this.append(i)}}}get edges(){return[...this]}get box(){return this.edges.reduce((e,t)=>e=e.merge(t.box),new p.Box)}get vertices(){let e=this.edges.map(t=>t.start);return e.push(this.last.end),e}clone(){return new sn(this.toShapes())}addVertex(e,t){let r=t.shape.split(e);if(r[0]===null)return t.prev;if(r[1]===null)return t;let i=new p.Edge(r[0]),s=t.prev;return this.insert(i,s),t.shape=r[1],i}split(e){for(let t of e){let r=this.findEdgeByPoint(t);this.addVertex(t,r)}return this}findEdgeByPoint(e){let t;for(let r of this)if(r.shape.contains(e)){t=r;break}return t}translate(e){return new sn(this.edges.map(t=>t.shape.translate(e)))}rotate(e=0,t=new p.Point){return new sn(this.edges.map(r=>r.shape.rotate(e,t)))}transform(e=new p.Matrix){return new sn(this.edges.map(t=>t.shape.transform(e)))}toShapes(){return this.edges.map(e=>e.shape.clone())}toJSON(){return this.edges.map(e=>e.toJSON())}svg(e={}){let{stroke:t,strokeWidth:r,fill:i,fillRule:s,fillOpacity:l,id:u,className:h}=e,c=u&&u.length>0?`id="${u}"`:"",m=h&&h.length>0?`class="${h}"`:"",_=`
<path stroke="${t||"black"}" stroke-width="${r||1}" fill="${i||"none"}" fill-opacity="${l||1}" ${c} ${m} d="`;_+=`
M${this.first.start.x},${this.first.start.y}`;for(let v of this)_+=v.svg();return _+=`" >
</path>`,_}}p.Multiline=sn;const Fk=(...n)=>new p.Multiline(...n);p.multiline=Fk;function gl(n,e){let t,r=new p.Ray(e),i=new p.Line(r.pt,r.norm);const s=new p.Box(r.box.xmin-p.DP_TOL,r.box.ymin-p.DP_TOL,r.box.xmax,r.box.ymax+p.DP_TOL);if(n.box.not_intersect(s))return p.OUTSIDE;let l=n.edges.search(s);if(l.length==0)return p.OUTSIDE;for(let c of l)if(c.shape.contains(e))return p.BOUNDARY;let u=[];for(let c of l)for(let m of r.intersect(c.shape)){if(m.equalTo(e))return p.BOUNDARY;u.push({pt:m,edge:c})}u.sort((c,m)=>P1(c.pt.x,m.pt.x)?-1:k1(c.pt.x,m.pt.x)?1:0);let h=0;for(let c=0;c<u.length;c++){let m=u[c];if(m.pt.equalTo(m.edge.shape.start)){if(c>0&&m.pt.equalTo(u[c-1].pt)&&m.edge.prev===u[c-1].edge)continue;let _=m.edge.prev;for(;Yd(_.length);)_=_.prev;let v=_.shape.tangentInEnd(),E=m.pt.translate(v),x=m.edge.shape.tangentInStart(),P=m.pt.translate(x),w=E.leftTo(i),S=P.leftTo(i);(w&&!S||!w&&S)&&h++}else if(m.pt.equalTo(m.edge.shape.end)){if(c>0&&m.pt.equalTo(u[c-1].pt)&&m.edge.next===u[c-1].edge)continue;let _=m.edge.next;for(;Yd(_.length);)_=_.next;let v=_.shape.tangentInStart(),E=m.pt.translate(v),x=m.edge.shape.tangentInEnd(),P=m.pt.translate(x),w=E.leftTo(i),S=P.leftTo(i);(w&&!S||!w&&S)&&h++}else if(m.edge.shape instanceof p.Segment)h++;else{let _=m.edge.shape.box;li(m.pt.y,_.ymin)||li(m.pt.y,_.ymax)||h++}}return t=h%2==1?al:x1,t}function Bk(n,e){return gs(n,e).equal()}function b1(n,e){return gs(n,e).intersect()}function Gk(n,e){return gs(n,e).touch()}function Uk(n,e){return!b1(n,e)}function H1(n,e){return gs(n,e).inside()}function V1(n,e){return gs(n,e).covered()}function bk(n,e){return H1(e,n)}function W1(n,e){return V1(e,n)}function gs(n,e){if(n instanceof p.Line&&e instanceof p.Line)return Hk(n,e);if(n instanceof p.Line&&e instanceof p.Circle)return Vk(n,e);if(n instanceof p.Line&&e instanceof p.Box)return Wk(n,e);if(n instanceof p.Line&&e instanceof p.Polygon)return jk(n,e);if((n instanceof p.Segment||n instanceof p.Arc)&&e instanceof p.Polygon)return j1(n,e);if((n instanceof p.Segment||n instanceof p.Arc)&&(e instanceof p.Circle||e instanceof p.Box))return j1(n,new p.Polygon(e));if(n instanceof p.Polygon&&e instanceof p.Polygon)return Yu(n,e);if((n instanceof p.Circle||n instanceof p.Box)&&(e instanceof p.Circle||e instanceof p.Box))return Yu(new p.Polygon(n),new p.Polygon(e));if((n instanceof p.Circle||n instanceof p.Box)&&e instanceof p.Polygon)return Yu(new p.Polygon(n),e);if(n instanceof p.Polygon&&(e instanceof p.Circle||e instanceof p.Box))return Yu(n,new p.Polygon(e))}function Hk(n,e){let t=new ds,r=Hu(n,e);return r.length===0?n.contains(e.pt)&&e.contains(n.pt)?(t.I2I=[n],t.I2E=[],t.E2I=[]):(t.I2I=[],t.I2E=[n],t.E2I=[e]):(t.I2I=r,t.I2E=n.split(r),t.E2I=e.split(r)),t}function Vk(n,e){let t=new ds,r=ps(n,e);if(r.length===0)t.I2I=[],t.I2B=[],t.I2E=[n],t.E2I=[e];else if(r.length===1)t.I2I=[],t.I2B=r,t.I2E=n.split(r),t.E2I=[e];else{let i=new sn([n]),s=n.sortPoints(r);i.split(s);let l=i.toShapes();t.I2I=[l[1]],t.I2B=s,t.I2E=[l[0],l[2]],t.E2I=new p.Polygon([e.toArc()]).cut(i)}return t}function Wk(n,e){let t=new ds,r=dl(n,e);if(r.length===0)t.I2I=[],t.I2B=[],t.I2E=[n],t.E2I=[e];else if(r.length===1)t.I2I=[],t.I2B=r,t.I2E=n.split(r),t.E2I=[e];else{let i=new sn([n]),s=n.sortPoints(r);i.split(s);let l=i.toShapes();e.toSegments().some(u=>u.contains(r[0])&&u.contains(r[1]))?(t.I2I=[],t.I2B=[l[1]],t.I2E=[l[0],l[2]],t.E2I=[e]):(t.I2I=[l[1]],t.I2B=s,t.I2E=[l[0],l[2]],t.E2I=new p.Polygon(e.toSegments()).cut(i))}return t}function jk(n,e){let t=new ds,r=ju(n,e),i=new sn([n]),s=r.length>0?r.slice():n.sortPoints(r);return i.split(s),[...i].forEach(l=>l.setInclusion(e)),t.I2I=[...i].filter(l=>l.bv===p.INSIDE).map(l=>l.shape),t.I2B=[...i].slice(1).map(l=>l.bv===p.BOUNDARY?l.shape:l.shape.start),t.I2E=[...i].filter(l=>l.bv===p.OUTSIDE).map(l=>l.shape),t.E2I=e.cut(i),t}function j1(n,e){let t=new ds,r=zk(n,e),i=r.length>0?r.slice():n.sortPoints(r),s=new sn([n]);s.split(i),[...s].forEach(l=>l.setInclusion(e)),t.I2I=[...s].filter(l=>l.bv===p.INSIDE).map(l=>l.shape),t.I2B=[...s].slice(1).map(l=>l.bv===p.BOUNDARY?l.shape:l.shape.start),t.I2E=[...s].filter(l=>l.bv===p.OUTSIDE).map(l=>l.shape),t.B2I=[],t.B2B=[],t.B2E=[];for(let l of[n.start,n.end])switch(gl(e,l)){case p.INSIDE:t.B2I.push(l);break;case p.BOUNDARY:t.B2B.push(l);break;case p.OUTSIDE:t.B2E.push(l);break}return t}function Yu(n,e){let t=new ds,[r,i]=N1(n,e),s=A1(n,e),l=Jd(n,e),u=Jd(e,n),[h,c]=L1(n,e),m=ep(n,e),_=ep(e,n);return t.I2I=s.isEmpty()?[]:[s],t.I2B=c,t.I2E=l.isEmpty()?[]:[l],t.B2I=h,t.B2B=r,t.B2E=m,t.E2I=u.isEmpty()?[]:[u],t.E2B=_,t}var Yk=Object.freeze({equal:Bk,intersect:b1,touch:Gk,disjoint:Uk,inside:H1,covered:V1,contain:bk,cover:W1,relate:gs});class fi{constructor(e=1,t=0,r=0,i=1,s=0,l=0){this.a=e,this.b=t,this.c=r,this.d=i,this.tx=s,this.ty=l}clone(){return new fi(this.a,this.b,this.c,this.d,this.tx,this.ty)}transform(e){return[e[0]*this.a+e[1]*this.c+this.tx,e[0]*this.b+e[1]*this.d+this.ty]}multiply(e){return new fi(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.tx+this.c*e.ty+this.tx,this.b*e.tx+this.d*e.ty+this.ty)}translate(...e){let t,r;if(e.length==1&&e[0]instanceof p.Vector)t=e[0].x,r=e[0].y;else if(e.length==2&&typeof e[0]=="number"&&typeof e[1]=="number")t=e[0],r=e[1];else throw p.Errors.ILLEGAL_PARAMETERS;return this.multiply(new fi(1,0,0,1,t,r))}rotate(e){let t=Math.cos(e),r=Math.sin(e);return this.multiply(new fi(t,r,-r,t,0,0))}scale(e,t){return this.multiply(new fi(e,0,0,t,0,0))}equalTo(e){return!(!p.Utils.EQ(this.tx,e.tx)||!p.Utils.EQ(this.ty,e.ty)||!p.Utils.EQ(this.a,e.a)||!p.Utils.EQ(this.b,e.b)||!p.Utils.EQ(this.c,e.c)||!p.Utils.EQ(this.d,e.d))}}p.Matrix=fi;const Qk=(...n)=>new p.Matrix(...n);p.matrix=Qk;const qk=class up{constructor(e,t){this.low=e,this.high=t}clone(){return new up(this.low,this.high)}get max(){return this.clone()}less_than(e){return this.low<e.low||this.low==e.low&&this.high<e.high}equal_to(e){return this.low==e.low&&this.high==e.high}intersect(e){return!this.not_intersect(e)}not_intersect(e){return this.high<e.low||e.high<this.low}merge(e){return new up(this.low===void 0?e.low:Math.min(this.low,e.low),this.high===void 0?e.high:Math.max(this.high,e.high))}output(){return[this.low,this.high]}static comparable_max(e,t){return e.merge(t)}static comparable_less_than(e,t){return e<t}},ot=0,Se=1;class ms{constructor(e=void 0,t=void 0,r=null,i=null,s=null,l=Se){this.left=r,this.right=i,this.parent=s,this.color=l,this.item={key:e,value:t},e&&e instanceof Array&&e.length==2&&!Number.isNaN(e[0])&&!Number.isNaN(e[1])&&(this.item.key=new qk(Math.min(e[0],e[1]),Math.max(e[0],e[1]))),this.max=this.item.key?this.item.key.max:void 0}isNil(){return this.item.key===void 0&&this.item.value===void 0&&this.left===null&&this.right===null&&this.color===Se}less_than(e){if(this.item.value===this.item.key&&e.item.value===e.item.key)return this.item.key.less_than(e.item.key);{let t=this.item.value&&e.item.value&&this.item.value.less_than?this.item.value.less_than(e.item.value):this.item.value<e.item.value;return this.item.key.less_than(e.item.key)||this.item.key.equal_to(e.item.key)&&t}}equal_to(e){if(this.item.value===this.item.key&&e.item.value===e.item.key)return this.item.key.equal_to(e.item.key);{let t=this.item.value&&e.item.value&&this.item.value.equal_to?this.item.value.equal_to(e.item.value):this.item.value==e.item.value;return this.item.key.equal_to(e.item.key)&&t}}intersect(e){return this.item.key.intersect(e.item.key)}copy_data(e){this.item.key=e.item.key.clone(),this.item.value=e.item.value&&e.item.value.clone?e.item.value.clone():e.item.value}update_max(){if(this.max=this.item.key?this.item.key.max:void 0,this.right&&this.right.max){const e=this.item.key.constructor.comparable_max;this.max=e(this.max,this.right.max)}if(this.left&&this.left.max){const e=this.item.key.constructor.comparable_max;this.max=e(this.max,this.left.max)}}not_intersect_left_subtree(e){const t=this.item.key.constructor.comparable_less_than;let r=this.left.max.high!==void 0?this.left.max.high:this.left.max;return t(r,e.item.key.low)}not_intersect_right_subtree(e){const t=this.item.key.constructor.comparable_less_than;let r=this.right.max.low!==void 0?this.right.max.low:this.right.item.key.low;return t(e.item.key.high,r)}}class ml{constructor(){this.root=null,this.nil_node=new ms}get size(){let e=0;return this.tree_walk(this.root,()=>e++),e}get keys(){let e=[];return this.tree_walk(this.root,t=>e.push(t.item.key.output?t.item.key.output():t.item.key)),e}get values(){let e=[];return this.tree_walk(this.root,t=>e.push(t.item.value)),e}get items(){let e=[];return this.tree_walk(this.root,t=>e.push({key:t.item.key.output?t.item.key.output():t.item.key,value:t.item.value})),e}isEmpty(){return this.root==null||this.root==this.nil_node}insert(e,t=e){if(e===void 0)return;let r=new ms(e,t,this.nil_node,this.nil_node,null,ot);return this.tree_insert(r),this.recalc_max(r),r}exist(e,t=e){let r=new ms(e,t);return!!this.tree_search(this.root,r)}remove(e,t=e){let r=new ms(e,t),i=this.tree_search(this.root,r);return i&&this.tree_delete(i),i}search(e,t=(r,i)=>r===i?i.output():r){let r=new ms(e),i=[];return this.tree_search_interval(this.root,r,i),i.map(s=>t(s.item.value,s.item.key))}intersect_any(e){let t=new ms(e);return this.tree_find_any_interval(this.root,t)}forEach(e){this.tree_walk(this.root,t=>e(t.item.key,t.item.value))}map(e){const t=new ml;return this.tree_walk(this.root,r=>t.insert(r.item.key,e(r.item.value,r.item.key))),t}recalc_max(e){let t=e;for(;t.parent!=null;)t.parent.update_max(),t=t.parent}tree_insert(e){let t=this.root,r=null;if(this.root==null||this.root==this.nil_node)this.root=e;else{for(;t!=this.nil_node;)r=t,e.less_than(t)?t=t.left:t=t.right;e.parent=r,e.less_than(r)?r.left=e:r.right=e}this.insert_fixup(e)}insert_fixup(e){let t,r;for(t=e;t!=this.root&&t.parent.color==ot;)t.parent==t.parent.parent.left?(r=t.parent.parent.right,r.color==ot?(t.parent.color=Se,r.color=Se,t.parent.parent.color=ot,t=t.parent.parent):(t==t.parent.right&&(t=t.parent,this.rotate_left(t)),t.parent.color=Se,t.parent.parent.color=ot,this.rotate_right(t.parent.parent))):(r=t.parent.parent.left,r.color==ot?(t.parent.color=Se,r.color=Se,t.parent.parent.color=ot,t=t.parent.parent):(t==t.parent.left&&(t=t.parent,this.rotate_right(t)),t.parent.color=Se,t.parent.parent.color=ot,this.rotate_left(t.parent.parent)));this.root.color=Se}tree_delete(e){let t,r;e.left==this.nil_node||e.right==this.nil_node?t=e:t=this.tree_successor(e),t.left!=this.nil_node?r=t.left:r=t.right,r.parent=t.parent,t==this.root?this.root=r:(t==t.parent.left?t.parent.left=r:t.parent.right=r,t.parent.update_max()),this.recalc_max(r),t!=e&&(e.copy_data(t),e.update_max(),this.recalc_max(e)),t.color==Se&&this.delete_fixup(r)}delete_fixup(e){let t=e,r;for(;t!=this.root&&t.parent!=null&&t.color==Se;)t==t.parent.left?(r=t.parent.right,r.color==ot&&(r.color=Se,t.parent.color=ot,this.rotate_left(t.parent),r=t.parent.right),r.left.color==Se&&r.right.color==Se?(r.color=ot,t=t.parent):(r.right.color==Se&&(r.color=ot,r.left.color=Se,this.rotate_right(r),r=t.parent.right),r.color=t.parent.color,t.parent.color=Se,r.right.color=Se,this.rotate_left(t.parent),t=this.root)):(r=t.parent.left,r.color==ot&&(r.color=Se,t.parent.color=ot,this.rotate_right(t.parent),r=t.parent.left),r.left.color==Se&&r.right.color==Se?(r.color=ot,t=t.parent):(r.left.color==Se&&(r.color=ot,r.right.color=Se,this.rotate_left(r),r=t.parent.left),r.color=t.parent.color,t.parent.color=Se,r.left.color=Se,this.rotate_right(t.parent),t=this.root));t.color=Se}tree_search(e,t){if(!(e==null||e==this.nil_node))return t.equal_to(e)?e:t.less_than(e)?this.tree_search(e.left,t):this.tree_search(e.right,t)}tree_search_interval(e,t,r){e!=null&&e!=this.nil_node&&(e.left!=this.nil_node&&!e.not_intersect_left_subtree(t)&&this.tree_search_interval(e.left,t,r),e.intersect(t)&&r.push(e),e.right!=this.nil_node&&!e.not_intersect_right_subtree(t)&&this.tree_search_interval(e.right,t,r))}tree_find_any_interval(e,t){let r=!1;return e!=null&&e!=this.nil_node&&(e.left!=this.nil_node&&!e.not_intersect_left_subtree(t)&&(r=this.tree_find_any_interval(e.left,t)),r||(r=e.intersect(t)),!r&&e.right!=this.nil_node&&!e.not_intersect_right_subtree(t)&&(r=this.tree_find_any_interval(e.right,t))),r}local_minimum(e){let t=e;for(;t.left!=null&&t.left!=this.nil_node;)t=t.left;return t}local_maximum(e){let t=e;for(;t.right!=null&&t.right!=this.nil_node;)t=t.right;return t}tree_successor(e){let t,r,i;if(e.right!=this.nil_node)t=this.local_minimum(e.right);else{for(r=e,i=e.parent;i!=null&&i.right==r;)r=i,i=i.parent;t=i}return t}rotate_left(e){let t=e.right;e.right=t.left,t.left!=this.nil_node&&(t.left.parent=e),t.parent=e.parent,e==this.root?this.root=t:e==e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,e!=null&&e!=this.nil_node&&e.update_max(),t=e.parent,t!=null&&t!=this.nil_node&&t.update_max()}rotate_right(e){let t=e.left;e.left=t.right,t.right!=this.nil_node&&(t.right.parent=e),t.parent=e.parent,e==this.root?this.root=t:e==e.parent.left?e.parent.left=t:e.parent.right=t,t.right=e,e.parent=t,e!=null&&e!=this.nil_node&&e.update_max(),t=e.parent,t!=null&&t!=this.nil_node&&t.update_max()}tree_walk(e,t){e!=null&&e!=this.nil_node&&(this.tree_walk(e.left,t),t(e),this.tree_walk(e.right,t))}testRedBlackProperty(){let e=!0;return this.tree_walk(this.root,function(t){t.color==ot&&(t.left.color==Se&&t.right.color==Se||(e=!1))}),e}testBlackHeightProperty(e){let t=0,r=0,i=0;if(e.color==Se&&t++,e.left!=this.nil_node?r=this.testBlackHeightProperty(e.left):r=1,e.right!=this.nil_node?i=this.testBlackHeightProperty(e.right):i=1,r!=i)throw new Error("Red-black height property violated");return t+=r,t}}class Xk extends Set{constructor(e){super(e);this.index=new ml,this.forEach(t=>this.index.insert(t))}add(e){let t=this.size;return super.add(e),this.size>t&&this.index.insert(e.box,e),this}delete(e){let t=super.delete(e);return t&&this.index.remove(e.box,e),t}clear(){super.clear(),this.index=new ml}search(e){return this.index.search(e)}hit(e){let t=new p.Box(e.x-1,e.y-1,e.x+1,e.y+1);return this.index.search(t).filter(i=>e.on(i))}svg(){return[...this].reduce((t,r)=>t+r.svg(),"")}}p.PlanarSet=Xk;class fp{constructor(...e){if(this.x=0,this.y=0,e.length!==0){if(e.length===1&&e[0]instanceof Array&&e[0].length===2){let t=e[0];if(typeof t[0]=="number"&&typeof t[1]=="number"){this.x=t[0],this.y=t[1];return}}if(e.length===1&&e[0]instanceof Object&&e[0].name==="point"){let{x:t,y:r}=e[0];this.x=t,this.y=r;return}if(e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"){this.x=e[0],this.y=e[1];return}throw p.Errors.ILLEGAL_PARAMETERS}}get box(){return new p.Box(this.x,this.y,this.x,this.y)}clone(){return new p.Point(this.x,this.y)}get vertices(){return[this.clone()]}equalTo(e){return p.Utils.EQ(this.x,e.x)&&p.Utils.EQ(this.y,e.y)}lessThan(e){return!!(p.Utils.LT(this.y,e.y)||p.Utils.EQ(this.y,e.y)&&p.Utils.LT(this.x,e.x))}rotate(e,t={x:0,y:0}){var r=t.x+(this.x-t.x)*Math.cos(e)-(this.y-t.y)*Math.sin(e),i=t.y+(this.x-t.x)*Math.sin(e)+(this.y-t.y)*Math.cos(e);return new p.Point(r,i)}translate(...e){if(e.length==1&&(e[0]instanceof p.Vector||!isNaN(e[0].x)&&!isNaN(e[0].y)))return new p.Point(this.x+e[0].x,this.y+e[0].y);if(e.length==2&&typeof e[0]=="number"&&typeof e[1]=="number")return new p.Point(this.x+e[0],this.y+e[1]);throw p.Errors.ILLEGAL_PARAMETERS}transform(e){return new p.Point(e.transform([this.x,this.y]))}projectionOn(e){if(this.equalTo(e.pt))return this.clone();let t=new p.Vector(this,e.pt);if(p.Utils.EQ_0(t.cross(e.norm)))return e.pt.clone();let r=t.dot(e.norm),i=e.norm.multiply(r);return this.translate(i)}leftTo(e){let t=new p.Vector(e.pt,this);return p.Utils.GT(t.dot(e.norm),0)}distanceTo(e){if(e instanceof fp){let t=e.x-this.x,r=e.y-this.y;return[Math.sqrt(t*t+r*r),new p.Segment(this,e)]}if(e instanceof p.Line)return p.Distance.point2line(this,e);if(e instanceof p.Circle)return p.Distance.point2circle(this,e);if(e instanceof p.Segment)return p.Distance.point2segment(this,e);if(e instanceof p.Arc)return p.Distance.point2arc(this,e);if(e instanceof p.Polygon)return p.Distance.point2polygon(this,e);if(e instanceof p.PlanarSet)return p.Distance.shape2planarSet(this,e)}on(e){if(e instanceof p.Point)return this.equalTo(e);if(e instanceof p.Line)return e.contains(this);if(e instanceof p.Circle)return e.contains(this);if(e instanceof p.Segment)return e.contains(this);if(e instanceof p.Arc)return e.contains(this);if(e instanceof p.Polygon)return e.contains(this)}toJSON(){return Object.assign({},this,{name:"point"})}svg(e={}){let{r:t,stroke:r,strokeWidth:i,fill:s,id:l,className:u}=e,h=l&&l.length>0?`id="${l}"`:"",c=u&&u.length>0?`class="${u}"`:"";return`
<circle cx="${this.x}" cy="${this.y}" r="${t||3}" stroke="${r||"black"}" stroke-width="${i||1}" fill="${s||"red"}" ${h} ${c} />`}}p.Point=fp;const $k=(...n)=>new p.Point(...n);p.point=$k;class Kk{constructor(...e){if(this.x=0,this.y=0,e.length!==0){if(e.length===1&&e[0]instanceof Array&&e[0].length===2){let t=e[0];if(typeof t[0]=="number"&&typeof t[1]=="number"){this.x=t[0],this.y=t[1];return}}if(e.length===1&&e[0]instanceof Object&&e[0].name==="vector"){let{x:t,y:r}=e[0];this.x=t,this.y=r;return}if(e.length===2){let t=e[0],r=e[1];if(typeof t=="number"&&typeof r=="number"){this.x=t,this.y=r;return}if(t instanceof p.Point&&r instanceof p.Point){this.x=r.x-t.x,this.y=r.y-t.y;return}}throw p.Errors.ILLEGAL_PARAMETERS}}clone(){return new p.Vector(this.x,this.y)}get slope(){let e=Math.atan2(this.y,this.x);return e<0&&(e=2*Math.PI+e),e}get length(){return Math.sqrt(this.dot(this))}equalTo(e){return p.Utils.EQ(this.x,e.x)&&p.Utils.EQ(this.y,e.y)}multiply(e){return new p.Vector(e*this.x,e*this.y)}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}normalize(){if(!p.Utils.EQ_0(this.length))return new p.Vector(this.x/this.length,this.y/this.length);throw p.Errors.ZERO_DIVISION}rotate(e){let r=new p.Point(this.x,this.y).rotate(e);return new p.Vector(r.x,r.y)}rotate90CCW(){return new p.Vector(-this.y,this.x)}rotate90CW(){return new p.Vector(this.y,-this.x)}invert(){return new p.Vector(-this.x,-this.y)}add(e){return new p.Vector(this.x+e.x,this.y+e.y)}subtract(e){return new p.Vector(this.x-e.x,this.y-e.y)}angleTo(e){let t=this.normalize(),r=e.normalize(),i=Math.atan2(t.cross(r),t.dot(r));return i<0&&(i+=2*Math.PI),i}projectionOn(e){let t=e.normalize(),r=this.dot(t);return t.multiply(r)}toJSON(){return Object.assign({},this,{name:"vector"})}}p.Vector=Kk;const Zk=(...n)=>new p.Vector(...n);p.vector=Zk;class vl{constructor(...e){if(this.ps=new p.Point,this.pe=new p.Point,e.length!==0){if(e.length===1&&e[0]instanceof Array&&e[0].length===4){let t=e[0];this.ps=new p.Point(t[0],t[1]),this.pe=new p.Point(t[2],t[3]);return}if(e.length===1&&e[0]instanceof Object&&e[0].name==="segment"){let{ps:t,pe:r}=e[0];this.ps=new p.Point(t.x,t.y),this.pe=new p.Point(r.x,r.y);return}if(e.length===1&&e[0]instanceof p.Point){this.ps=e[0].clone();return}if(e.length===2&&e[0]instanceof p.Point&&e[1]instanceof p.Point){this.ps=e[0].clone(),this.pe=e[1].clone();return}if(e.length===4){this.ps=new p.Point(e[0],e[1]),this.pe=new p.Point(e[2],e[3]);return}throw p.Errors.ILLEGAL_PARAMETERS}}clone(){return new p.Segment(this.start,this.end)}get start(){return this.ps}get end(){return this.pe}get vertices(){return[this.ps.clone(),this.pe.clone()]}get length(){return this.start.distanceTo(this.end)[0]}get slope(){return new p.Vector(this.start,this.end).slope}get box(){return new p.Box(Math.min(this.start.x,this.end.x),Math.min(this.start.y,this.end.y),Math.max(this.start.x,this.end.x),Math.max(this.start.y,this.end.y))}equalTo(e){return this.ps.equalTo(e.ps)&&this.pe.equalTo(e.pe)}contains(e){return p.Utils.EQ_0(this.distanceToPoint(e))}intersect(e){if(e instanceof p.Point)return this.contains(e)?[e]:[];if(e instanceof p.Line)return Vu(this,e);if(e instanceof p.Segment)return pl(this,e);if(e instanceof p.Circle)return Wu(this,e);if(e instanceof p.Box)return Tk(this,e);if(e instanceof p.Arc)return ui(this,e);if(e instanceof p.Polygon)return lp(this,e)}distanceTo(e){if(e instanceof p.Point){let[t,r]=p.Distance.point2segment(e,this);return r=r.reverse(),[t,r]}if(e instanceof p.Circle){let[t,r]=p.Distance.segment2circle(this,e);return[t,r]}if(e instanceof p.Line){let[t,r]=p.Distance.segment2line(this,e);return[t,r]}if(e instanceof p.Segment){let[t,r]=p.Distance.segment2segment(this,e);return[t,r]}if(e instanceof p.Arc){let[t,r]=p.Distance.segment2arc(this,e);return[t,r]}if(e instanceof p.Polygon){let[t,r]=p.Distance.shape2polygon(this,e);return[t,r]}if(e instanceof p.PlanarSet){let[t,r]=p.Distance.shape2planarSet(this,e);return[t,r]}}tangentInStart(){return new p.Vector(this.start,this.end).normalize()}tangentInEnd(){return new p.Vector(this.end,this.start).normalize()}reverse(){return new vl(this.end,this.start)}split(e){return this.start.equalTo(e)?[null,this.clone()]:this.end.equalTo(e)?[this.clone(),null]:[new p.Segment(this.start,e),new p.Segment(e,this.end)]}middle(){return new p.Point((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}pointAtLength(e){if(e>this.length||e<0)return null;if(e==0)return this.start;if(e==this.length)return this.end;let t=e/this.length;return new p.Point((this.end.x-this.start.x)*t+this.start.x,(this.end.y-this.start.y)*t+this.start.y)}distanceToPoint(e){let[t,...r]=p.Distance.point2segment(e,this);return t}definiteIntegral(e=0){let t=this.end.x-this.start.x,r=this.start.y-e,i=this.end.y-e;return t*(r+i)/2}translate(...e){return new vl(this.ps.translate(...e),this.pe.translate(...e))}rotate(e=0,t=new p.Point){let r=new p.Matrix;return r=r.translate(t.x,t.y).rotate(e).translate(-t.x,-t.y),this.transform(r)}transform(e=new p.Matrix){return new vl(this.ps.transform(e),this.pe.transform(e))}isZeroLength(){return this.ps.equalTo(this.pe)}sortPoints(e){return new p.Line(this.start,this.end).sortPoints(e)}toJSON(){return Object.assign({},this,{name:"segment"})}svg(e={}){let{stroke:t,strokeWidth:r,id:i,className:s}=e,l=i&&i.length>0?`id="${i}"`:"",u=s&&s.length>0?`class="${s}"`:"";return`
<line x1="${this.start.x}" y1="${this.start.y}" x2="${this.end.x}" y2="${this.end.y}" stroke="${t||"black"}" stroke-width="${r||1}" ${l} ${u} />`}}p.Segment=vl;const Jk=(...n)=>new p.Segment(...n);p.segment=Jk;let{vector:Qu}=p;class hp{constructor(...e){if(this.pt=new p.Point,this.norm=new p.Vector(0,1),e.length!=0){if(e.length==1&&e[0]instanceof Object&&e[0].name==="line"){let{pt:t,norm:r}=e[0];this.pt=new p.Point(t),this.norm=new p.Vector(r);return}if(e.length==2){let t=e[0],r=e[1];if(t instanceof p.Point&&r instanceof p.Point){this.pt=t,this.norm=hp.points2norm(t,r),this.norm.dot(Qu(this.pt.x,this.pt.y))>=0&&this.norm.invert();return}if(t instanceof p.Point&&r instanceof p.Vector){if(p.Utils.EQ_0(r.x)&&p.Utils.EQ_0(r.y))throw p.Errors.ILLEGAL_PARAMETERS;this.pt=t.clone(),this.norm=r.clone(),this.norm=this.norm.normalize(),this.norm.dot(Qu(this.pt.x,this.pt.y))>=0&&this.norm.invert();return}if(t instanceof p.Vector&&r instanceof p.Point){if(p.Utils.EQ_0(t.x)&&p.Utils.EQ_0(t.y))throw p.Errors.ILLEGAL_PARAMETERS;this.pt=r.clone(),this.norm=t.clone(),this.norm=this.norm.normalize(),this.norm.dot(Qu(this.pt.x,this.pt.y))>=0&&this.norm.invert();return}}throw p.Errors.ILLEGAL_PARAMETERS}}clone(){return new p.Line(this.pt,this.norm)}get start(){}get end(){}get length(){return Number.POSITIVE_INFINITY}get box(){return new p.Box(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY)}get middle(){}get slope(){return new p.Vector(this.norm.y,-this.norm.x).slope}get standard(){let e=this.norm.x,t=this.norm.y,r=this.norm.dot(this.pt);return[e,t,r]}parallelTo(e){return p.Utils.EQ_0(this.norm.cross(e.norm))}incidentTo(e){return this.parallelTo(e)&&this.pt.on(e)}contains(e){if(this.pt.equalTo(e))return!0;let t=new p.Vector(this.pt,e);return p.Utils.EQ_0(this.norm.dot(t))}coord(e){return Qu(e.x,e.y).cross(this.norm)}intersect(e){if(e instanceof p.Point)return this.contains(e)?[e]:[];if(e instanceof p.Line)return Hu(this,e);if(e instanceof p.Circle)return ps(this,e);if(e instanceof p.Box)return dl(this,e);if(e instanceof p.Segment)return Vu(e,this);if(e instanceof p.Arc)return ip(this,e);if(e instanceof p.Polygon)return ju(this,e)}distanceTo(e){if(e instanceof p.Point){let[t,r]=p.Distance.point2line(e,this);return r=r.reverse(),[t,r]}if(e instanceof p.Circle){let[t,r]=p.Distance.circle2line(e,this);return r=r.reverse(),[t,r]}if(e instanceof p.Segment){let[t,r]=p.Distance.segment2line(e,this);return[t,r.reverse()]}if(e instanceof p.Arc){let[t,r]=p.Distance.arc2line(e,this);return[t,r.reverse()]}if(e instanceof p.Polygon){let[t,r]=p.Distance.shape2polygon(this,e);return[t,r]}}split(e){if(e instanceof p.Point)return[new p.Ray(e,this.norm.invert()),new p.Ray(e,this.norm)];{let t=new p.Multiline([this]),r=this.sortPoints(e);return t.split(r),t.toShapes()}}sortPoints(e){return e.slice().sort((t,r)=>this.coord(t)<this.coord(r)?-1:this.coord(t)>this.coord(r)?1:0)}toJSON(){return Object.assign({},this,{name:"line"})}svg(e,t={}){let r=dl(this,e);if(r.length===0)return"";let i=r[0],s=r.length==2?r[1]:r.find(u=>!u.equalTo(i));return s===void 0&&(s=i),new p.Segment(i,s).svg(t)}static points2norm(e,t){if(e.equalTo(t))throw p.Errors.ILLEGAL_PARAMETERS;return new p.Vector(e,t).normalize().rotate90CCW()}}p.Line=hp;const eP=(...n)=>new p.Line(...n);p.line=eP;class tP{constructor(...e){if(this.pc=new p.Point,this.r=1,e.length==1&&e[0]instanceof Object&&e[0].name==="circle"){let{pc:t,r}=e[0];this.pc=new p.Point(t),this.r=r;return}else{let[t,r]=[...e];t&&t instanceof p.Point&&(this.pc=t.clone()),r!==void 0&&(this.r=r);return}}clone(){return new p.Circle(this.pc.clone(),this.r)}get center(){return this.pc}get box(){return new p.Box(this.pc.x-this.r,this.pc.y-this.r,this.pc.x+this.r,this.pc.y+this.r)}contains(e){if(e instanceof p.Point)return p.Utils.LE(e.distanceTo(this.center)[0],this.r);if(e instanceof p.Segment)return p.Utils.LE(e.start.distanceTo(this.center)[0],this.r)&&p.Utils.LE(e.end.distanceTo(this.center)[0],this.r);if(e instanceof p.Arc)return this.intersect(e).length===0&&p.Utils.LE(e.start.distanceTo(this.center)[0],this.r)&&p.Utils.LE(e.end.distanceTo(this.center)[0],this.r);if(e instanceof p.Circle)return this.intersect(e).length===0&&p.Utils.LE(e.r,this.r)&&p.Utils.LE(e.center.distanceTo(this.center)[0],this.r)}toArc(e=!0){return new p.Arc(this.center,this.r,Math.PI,-Math.PI,e)}intersect(e){if(e instanceof p.Point)return this.contains(e)?[e]:[];if(e instanceof p.Line)return ps(e,this);if(e instanceof p.Segment)return Wu(e,this);if(e instanceof p.Circle)return F1(e,this);if(e instanceof p.Box)return Ik(this,e);if(e instanceof p.Arc)return op(e,this);if(e instanceof p.Polygon)return G1(this,e)}distanceTo(e){if(e instanceof p.Point){let[t,r]=p.Distance.point2circle(e,this);return r=r.reverse(),[t,r]}if(e instanceof p.Circle){let[t,r]=p.Distance.circle2circle(this,e);return[t,r]}if(e instanceof p.Line){let[t,r]=p.Distance.circle2line(this,e);return[t,r]}if(e instanceof p.Segment){let[t,r]=p.Distance.segment2circle(e,this);return r=r.reverse(),[t,r]}if(e instanceof p.Arc){let[t,r]=p.Distance.arc2circle(e,this);return r=r.reverse(),[t,r]}if(e instanceof p.Polygon){let[t,r]=p.Distance.shape2polygon(this,e);return[t,r]}if(e instanceof p.PlanarSet){let[t,r]=p.Distance.shape2planarSet(this,e);return[t,r]}}toJSON(){return Object.assign({},this,{name:"circle"})}svg(e={}){let{stroke:t,strokeWidth:r,fill:i,fillOpacity:s,id:l,className:u}=e,h=l&&l.length>0?`id="${l}"`:"",c=u&&u.length>0?`class="${u}"`:"";return`
<circle cx="${this.pc.x}" cy="${this.pc.y}" r="${this.r}" stroke="${t||"black"}" stroke-width="${r||1}" fill="${i||"none"}" fill-opacity="${s||1}" ${h} ${c} />`}}p.Circle=tP;const nP=(...n)=>new p.Circle(...n);p.circle=nP;class rP{constructor(...e){if(this.pc=new p.Point,this.r=1,this.startAngle=0,this.endAngle=2*Math.PI,this.counterClockwise=p.CCW,e.length!=0)if(e.length==1&&e[0]instanceof Object&&e[0].name==="arc"){let{pc:t,r,startAngle:i,endAngle:s,counterClockwise:l}=e[0];this.pc=new p.Point(t.x,t.y),this.r=r,this.startAngle=i,this.endAngle=s,this.counterClockwise=l;return}else{let[t,r,i,s,l]=[...e];t&&t instanceof p.Point&&(this.pc=t.clone()),r!==void 0&&(this.r=r),i!==void 0&&(this.startAngle=i),s!==void 0&&(this.endAngle=s),l!==void 0&&(this.counterClockwise=l);return}}clone(){return new p.Arc(this.pc.clone(),this.r,this.startAngle,this.endAngle,this.counterClockwise)}get sweep(){if(p.Utils.EQ(this.startAngle,this.endAngle))return 0;if(p.Utils.EQ(Math.abs(this.startAngle-this.endAngle),p.PIx2))return p.PIx2;let e;return this.counterClockwise?e=p.Utils.GT(this.endAngle,this.startAngle)?this.endAngle-this.startAngle:this.endAngle-this.startAngle+p.PIx2:e=p.Utils.GT(this.startAngle,this.endAngle)?this.startAngle-this.endAngle:this.startAngle-this.endAngle+p.PIx2,p.Utils.GT(e,p.PIx2)&&(e-=p.PIx2),p.Utils.LT(e,0)&&(e+=p.PIx2),e}get start(){return new p.Point(this.pc.x+this.r,this.pc.y).rotate(this.startAngle,this.pc)}get end(){return new p.Point(this.pc.x+this.r,this.pc.y).rotate(this.endAngle,this.pc)}get center(){return this.pc.clone()}get vertices(){return[this.start.clone(),this.end.clone()]}get length(){return Math.abs(this.sweep*this.r)}get box(){let t=this.breakToFunctional().reduce((r,i)=>r.merge(i.start.box),new p.Box);return t=t.merge(this.end.box),t}contains(e){if(!p.Utils.EQ(this.pc.distanceTo(e)[0],this.r))return!1;if(e.equalTo(this.start))return!0;let t=new p.Vector(this.pc,e).slope,r=new p.Arc(this.pc,this.r,this.startAngle,t,this.counterClockwise);return p.Utils.LE(r.length,this.length)}split(e){if(this.start.equalTo(e))return[null,this.clone()];if(this.end.equalTo(e))return[this.clone(),null];let t=new p.Vector(this.pc,e).slope;return[new p.Arc(this.pc,this.r,this.startAngle,t,this.counterClockwise),new p.Arc(this.pc,this.r,t,this.endAngle,this.counterClockwise)]}middle(){let e=this.counterClockwise?this.startAngle+this.sweep/2:this.startAngle-this.sweep/2;return new p.Arc(this.pc,this.r,this.startAngle,e,this.counterClockwise).end}pointAtLength(e){if(e>this.length||e<0)return null;if(e==0)return this.start;if(e==this.length)return this.end;let t=e/this.length,r=this.counterClockwise?this.startAngle+this.sweep*t:this.startAngle-this.sweep*t;return new p.Arc(this.pc,this.r,this.startAngle,r,this.counterClockwise).end}chordHeight(){return(1-Math.cos(Math.abs(this.sweep/2)))*this.r}intersect(e){if(e instanceof p.Point)return this.contains(e)?[e]:[];if(e instanceof p.Line)return ip(e,this);if(e instanceof p.Circle)return op(this,e);if(e instanceof p.Segment)return ui(e,this);if(e instanceof p.Box)return Rk(this,e);if(e instanceof p.Arc)return sp(this,e);if(e instanceof p.Polygon)return ap(this,e)}distanceTo(e){if(e instanceof p.Point){let[t,r]=p.Distance.point2arc(e,this);return r=r.reverse(),[t,r]}if(e instanceof p.Circle){let[t,r]=p.Distance.arc2circle(this,e);return[t,r]}if(e instanceof p.Line){let[t,r]=p.Distance.arc2line(this,e);return[t,r]}if(e instanceof p.Segment){let[t,r]=p.Distance.segment2arc(e,this);return r=r.reverse(),[t,r]}if(e instanceof p.Arc){let[t,r]=p.Distance.arc2arc(this,e);return[t,r]}if(e instanceof p.Polygon){let[t,r]=p.Distance.shape2polygon(this,e);return[t,r]}if(e instanceof p.PlanarSet){let[t,r]=p.Distance.shape2planarSet(this,e);return[t,r]}}breakToFunctional(){let e=[],t=[0,Math.PI/2,2*Math.PI/2,3*Math.PI/2],r=[this.pc.translate(this.r,0),this.pc.translate(0,this.r),this.pc.translate(-this.r,0),this.pc.translate(0,-this.r)],i=[];for(let s=0;s<4;s++)r[s].on(this)&&i.push(new p.Arc(this.pc,this.r,this.startAngle,t[s],this.counterClockwise));if(i.length==0)e.push(this.clone());else{i.sort((u,h)=>u.length-h.length);for(let u=0;u<i.length;u++){let h=e.length>0?e[e.length-1]:void 0,c;h?c=new p.Arc(this.pc,this.r,h.endAngle,i[u].endAngle,this.counterClockwise):c=new p.Arc(this.pc,this.r,this.startAngle,i[u].endAngle,this.counterClockwise),p.Utils.EQ_0(c.length)||e.push(c.clone())}let s=e.length>0?e[e.length-1]:void 0,l;s?l=new p.Arc(this.pc,this.r,s.endAngle,this.endAngle,this.counterClockwise):l=new p.Arc(this.pc,this.r,this.startAngle,this.endAngle,this.counterClockwise),!p.Utils.EQ_0(l.length)&&!p.Utils.EQ(l.sweep,2*Math.PI)&&e.push(l.clone())}return e}tangentInStart(){let e=new p.Vector(this.pc,this.start),t=this.counterClockwise?Math.PI/2:-Math.PI/2;return e.rotate(t).normalize()}tangentInEnd(){let e=new p.Vector(this.pc,this.end),t=this.counterClockwise?-Math.PI/2:Math.PI/2;return e.rotate(t).normalize()}reverse(){return new p.Arc(this.pc,this.r,this.endAngle,this.startAngle,!this.counterClockwise)}translate(...e){let t=this.clone();return t.pc=this.pc.translate(...e),t}rotate(e=0,t=new p.Point){let r=new p.Matrix;return r=r.translate(t.x,t.y).rotate(e).translate(-t.x,-t.y),this.transform(r)}scale(e=1,t=1){let r=new p.Matrix;return r=r.scale(e,t),this.transform(r)}transform(e=new p.Matrix){let t=this.start.transform(e),r=this.end.transform(e),i=this.pc.transform(e),s=this.counterClockwise;return e.a*e.d<0&&(s=!s),p.Arc.arcSE(i,t,r,s)}static arcSE(e,t,r,i){let{vector:s}=p,l=s(e,t).slope,u=s(e,r).slope;p.Utils.EQ(l,u)&&(u+=2*Math.PI,i=!0);let h=s(e,t).length;return new p.Arc(e,h,l,u,i)}definiteIntegral(e=0){return this.breakToFunctional().reduce((i,s)=>i+s.circularSegmentDefiniteIntegral(e),0)}circularSegmentDefiniteIntegral(e){let t=new p.Line(this.start,this.end),r=this.pc.leftTo(t),s=new p.Segment(this.start,this.end).definiteIntegral(e),l=this.circularSegmentArea();return r?s-l:s+l}circularSegmentArea(){return .5*this.r*this.r*(this.sweep-Math.sin(this.sweep))}sortPoints(e){let{vector:t}=p;return e.slice().sort((r,i)=>{let s=t(this.pc,r).slope,l=t(this.pc,i).slope;return s<l?-1:s>l?1:0})}toJSON(){return Object.assign({},this,{name:"arc"})}svg(e={}){let t=this.sweep<=Math.PI?"0":"1",r=this.counterClockwise?"1":"0",{stroke:i,strokeWidth:s,fill:l,id:u,className:h}=e,c=u&&u.length>0?`id="${u}"`:"",m=h&&h.length>0?`class="${h}"`:"";return p.Utils.EQ(this.sweep,2*Math.PI)?new p.Circle(this.pc,this.r).svg(e):`
<path d="M${this.start.x},${this.start.y}
                             A${this.r},${this.r} 0 ${t},${r} ${this.end.x},${this.end.y}"
                    stroke="${i||"black"}" stroke-width="${s||1}" fill="${l||"none"}" ${c} ${m} />`}}p.Arc=rP;const iP=(...n)=>new p.Arc(...n);p.arc=iP;class qu{constructor(e=void 0,t=void 0,r=void 0,i=void 0){this.xmin=e,this.ymin=t,this.xmax=r,this.ymax=i}clone(){return new qu(this.xmin,this.ymin,this.xmax,this.ymax)}get low(){return new p.Point(this.xmin,this.ymin)}get high(){return new p.Point(this.xmax,this.ymax)}get max(){return this.clone()}get center(){return new p.Point((this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)}get box(){return this.clone()}not_intersect(e){return this.xmax<e.xmin||this.xmin>e.xmax||this.ymax<e.ymin||this.ymin>e.ymax}intersect(e){return!this.not_intersect(e)}merge(e){return new qu(this.xmin===void 0?e.xmin:Math.min(this.xmin,e.xmin),this.ymin===void 0?e.ymin:Math.min(this.ymin,e.ymin),this.xmax===void 0?e.xmax:Math.max(this.xmax,e.xmax),this.ymax===void 0?e.ymax:Math.max(this.ymax,e.ymax))}less_than(e){return!!(this.low.lessThan(e.low)||this.low.equalTo(e.low)&&this.high.lessThan(e.high))}equal_to(e){return this.low.equalTo(e.low)&&this.high.equalTo(e.high)}output(){return this.clone()}static comparable_max(e,t){return e.merge(t)}static comparable_less_than(e,t){return e.lessThan(t)}set(e,t,r,i){this.xmin=e,this.ymin=t,this.xmax=r,this.ymax=i}toPoints(){return[new p.Point(this.xmin,this.ymin),new p.Point(this.xmax,this.ymin),new p.Point(this.xmax,this.ymax),new p.Point(this.xmin,this.ymax)]}toSegments(){let e=this.toPoints();return[new p.Segment(e[0],e[1]),new p.Segment(e[1],e[2]),new p.Segment(e[2],e[3]),new p.Segment(e[3],e[0])]}svg(e={}){let{stroke:t,strokeWidth:r,fill:i,id:s,className:l}=e,u=s&&s.length>0?`id="${s}"`:"",h=l&&l.length>0?`class="${l}"`:"",c=this.xmax-this.xmin,m=this.ymax-this.ymin;return`
<rect x="${this.xmin}" y="${this.ymin}" width=${c} height=${m} stroke="${t||"black"}" stroke-width="${r||1}" fill="${i||"none"}" ${u} ${h} />`}}p.Box=qu;const sP=(...n)=>new p.Box(...n);p.box=sP;class oP{constructor(e){this.shape=e,this.next=void 0,this.prev=void 0,this.face=void 0,this.arc_length=0,this.bvStart=void 0,this.bvEnd=void 0,this.bv=void 0,this.overlap=void 0}get start(){return this.shape.start}get end(){return this.shape.end}get length(){return this.shape.length}get box(){return this.shape.box}isSegment(){return this.shape instanceof p.Segment}isArc(){return this.shape instanceof p.Arc}middle(){return this.shape.middle()}pointAtLength(e){return this.shape.pointAtLength(e)}contains(e){return this.shape.contains(e)}setInclusion(e){if(this.bv!==void 0)return this.bv;if(this.shape instanceof p.Line||this.shape instanceof p.Ray)return this.bv=p.OUTSIDE,this.bv;if(this.bvStart===void 0&&(this.bvStart=gl(e,this.start)),this.bvEnd===void 0&&(this.bvEnd=gl(e,this.end)),this.bvStart===p.OUTSIDE||this.bvEnd==p.OUTSIDE)this.bv=p.OUTSIDE;else if(this.bvStart===p.INSIDE||this.bvEnd==p.INSIDE)this.bv=p.INSIDE;else{let t=gl(e,this.middle());this.bv=t}return this.bv}setOverlap(e){let t,r=this.shape,i=e.shape;r instanceof p.Segment&&i instanceof p.Segment?r.start.equalTo(i.start)&&r.end.equalTo(i.end)?t=p.OVERLAP_SAME:r.start.equalTo(i.end)&&r.end.equalTo(i.start)&&(t=p.OVERLAP_OPPOSITE):(r instanceof p.Arc&&i instanceof p.Arc||r instanceof p.Segment&&i instanceof p.Arc||r instanceof p.Arc&&i instanceof p.Segment)&&(r.start.equalTo(i.start)&&r.end.equalTo(i.end)&&r.middle().equalTo(i.middle())?t=p.OVERLAP_SAME:r.start.equalTo(i.end)&&r.end.equalTo(i.start)&&r.middle().equalTo(i.middle())&&(t=p.OVERLAP_OPPOSITE)),this.overlap===void 0&&(this.overlap=t),e.overlap===void 0&&(e.overlap=t)}svg(){if(this.shape instanceof p.Segment)return` L${this.shape.end.x},${this.shape.end.y}`;if(this.shape instanceof p.Arc){let e=this.shape,t,r=e.counterClockwise?"1":"0";if(p.Utils.EQ(e.sweep,2*Math.PI)){let i=e.counterClockwise?1:-1,s=new p.Arc(e.pc,e.r,e.startAngle,e.startAngle+i*Math.PI,e.counterClockwise),l=new p.Arc(e.pc,e.r,e.startAngle+i*Math.PI,e.endAngle,e.counterClockwise);return t="0",` A${s.r},${s.r} 0 ${t},${r} ${s.end.x},${s.end.y}
                    A${l.r},${l.r} 0 ${t},${r} ${l.end.x},${l.end.y}`}else return t=e.sweep<=Math.PI?"0":"1",` A${e.r},${e.r} 0 ${t},${r} ${e.end.x},${e.end.y}`}}toJSON(){return this.shape.toJSON()}}p.Edge=oP;class lP extends qd{constructor(e,t){super(e,t);this.setCircularLinks()}setCircularLinks(){this.isEmpty()||(this.last.next=this.first,this.first.prev=this.last)}[Symbol.iterator](){let e;return{next:()=>{let t=e||this.first,r=this.first?e?e===this.first:!1:!0;return e=t?t.next:void 0,{value:t,done:r}}}}append(e){return super.append(e),this.setCircularLinks(),this}insert(e,t){return super.insert(e,t),this.setCircularLinks(),this}remove(e){return super.remove(e),this}}class vs extends lP{constructor(e,...t){super();if(this._box=void 0,this._orientation=void 0,t.length!=0){if(t.length==1){if(t[0]instanceof Array){let r=t[0];if(r.length==0)return;if(r.every(i=>i instanceof p.Point)){let i=vs.points2segments(r);this.shapes2face(e.edges,i)}else if(r.every(i=>i instanceof Array&&i.length===2)){let i=r.map(l=>new p.Point(l[0],l[1])),s=vs.points2segments(i);this.shapes2face(e.edges,s)}else if(r.every(i=>i instanceof p.Segment||i instanceof p.Arc))this.shapes2face(e.edges,r);else if(r.every(i=>i.name==="segment"||i.name==="arc")){let i=[];for(let s of r){let l;s.name==="segment"?l=new p.Segment(s):l=new p.Arc(s),i.push(l)}this.shapes2face(e.edges,i)}}else if(t[0]instanceof vs){let r=t[0];this.first=r.first,this.last=r.last;for(let i of r)e.edges.add(i)}else if(t[0]instanceof p.Circle)this.shapes2face(e.edges,[t[0].toArc(p.CCW)]);else if(t[0]instanceof p.Box){let r=t[0];this.shapes2face(e.edges,[new p.Segment(new p.Point(r.xmin,r.ymin),new p.Point(r.xmax,r.ymin)),new p.Segment(new p.Point(r.xmax,r.ymin),new p.Point(r.xmax,r.ymax)),new p.Segment(new p.Point(r.xmax,r.ymax),new p.Point(r.xmin,r.ymax)),new p.Segment(new p.Point(r.xmin,r.ymax),new p.Point(r.xmin,r.ymin))])}}t.length==2&&t[0]instanceof p.Edge&&t[1]instanceof p.Edge&&(this.first=t[0],this.last=t[1],this.last.next=this.first,this.first.prev=this.last,this.setArcLength())}}get edges(){return this.toArray()}get shapes(){return this.edges.map(e=>e.shape.clone())}get box(){if(this._box===void 0){let e=new p.Box;for(let t of this)e=e.merge(t.box);this._box=e}return this._box}get perimeter(){return this.last.arc_length+this.last.length}pointAtLength(e){if(e>this.perimeter||e<0)return null;let t=null;for(let r of this)if(e>=r.arc_length&&(r===this.last||e<r.next.arc_length)){t=r.pointAtLength(e-r.arc_length);break}return t}static points2segments(e){let t=[];for(let r=0;r<e.length;r++)e[r].equalTo(e[(r+1)%e.length])||t.push(new p.Segment(e[r],e[(r+1)%e.length]));return t}shapes2face(e,t){for(let r of t){let i=new p.Edge(r);this.append(i),e.add(i)}}append(e){return super.append(e),this.setOneEdgeArcLength(e),e.face=this,this}insert(e,t){return super.insert(e,t),this.setOneEdgeArcLength(e),e.face=this,this}remove(e){return super.remove(e),this.setArcLength(),this}reverse(){let e=[],t=this.last;do t.shape=t.shape.reverse(),e.push(t),t=t.prev;while(t!==this.last);this.first=void 0,this.last=void 0;for(let r of e)this.first===void 0?(r.prev=r,r.next=r,this.first=r,this.last=r):(r.prev=this.last,this.last.next=r,this.last=r,this.last.next=this.first,this.first.prev=this.last),this.setOneEdgeArcLength(r);this._orientation!==void 0&&(this._orientation=void 0,this._orientation=this.orientation())}setArcLength(){for(let e of this)this.setOneEdgeArcLength(e),e.face=this}setOneEdgeArcLength(e){e===this.first?e.arc_length=0:e.arc_length=e.prev.arc_length+e.prev.length}area(){return Math.abs(this.signedArea())}signedArea(){let e=0,t=this.box.ymin;for(let r of this)e+=r.shape.definiteIntegral(t);return e}orientation(){if(this._orientation===void 0){let e=this.signedArea();p.Utils.EQ_0(e)?this._orientation=p.ORIENTATION.NOT_ORIENTABLE:p.Utils.LT(e,0)?this._orientation=p.ORIENTATION.CCW:this._orientation=p.ORIENTATION.CW}return this._orientation}isSimple(e){return vs.getSelfIntersections(this,e,!0).length==0}static getSelfIntersections(e,t,r=!1){let i=[];for(let s of e){let l=t.search(s.box);for(let u of l){if(s===u||u.face!==e||s.shape instanceof p.Segment&&u.shape instanceof p.Segment&&(s.next===u||s.prev===u))continue;let h=s.shape.intersect(u.shape);for(let c of h)if(!(c.equalTo(s.start)&&c.equalTo(u.end)&&u===s.prev)&&!(c.equalTo(s.end)&&c.equalTo(u.start)&&u===s.next)&&(i.push(c),r))break;if(i.length>0&&r)break}if(i.length>0&&r)break}return i}findEdgeByPoint(e){let t;for(let r of this)if(r.shape.contains(e)){t=r;break}return t}toPolygon(){return new p.Polygon(this.shapes)}toJSON(){return this.edges.map(e=>e.toJSON())}svg(){let e=`
M${this.first.start.x},${this.first.start.y}`;for(let t of this)e+=t.svg();return e+=" z",e}}p.Face=vs;class cp{constructor(...e){if(this.pt=new p.Point,this.norm=new p.Vector(0,1),e.length!=0&&(e.length>=1&&e[0]instanceof p.Point&&(this.pt=e[0].clone()),e.length!==1)){if(e.length===2&&e[1]instanceof p.Vector){this.norm=e[1].clone();return}throw p.Errors.ILLEGAL_PARAMETERS}}clone(){return new cp(this.pt,this.norm)}get slope(){return new p.Vector(this.norm.y,-this.norm.x).slope}get box(){let e=this.slope;return new p.Box(e>Math.PI/2&&e<3*Math.PI/2?Number.NEGATIVE_INFINITY:this.pt.x,e>=0&&e<=Math.PI?this.pt.y:Number.NEGATIVE_INFINITY,e>=Math.PI/2&&e<=3*Math.PI/2?this.pt.x:Number.POSITIVE_INFINITY,e>=Math.PI&&e<=2*Math.PI||e==0?this.pt.y:Number.POSITIVE_INFINITY)}get start(){return this.pt}get end(){}get length(){return Number.POSITIVE_INFINITY}contains(e){if(this.pt.equalTo(e))return!0;let t=new p.Vector(this.pt,e);return p.Utils.EQ_0(this.norm.dot(t))&&p.Utils.GE(t.cross(this.norm),0)}split(e){return this.contains(e)?this.pt.equalTo(e)?[this]:[new p.Segment(this.pt,e),new p.Ray(e,this.norm)]:[]}intersect(e){if(e instanceof p.Segment)return this.intersectRay2Segment(this,e);if(e instanceof p.Arc)return this.intersectRay2Arc(this,e)}intersectRay2Segment(e,t){let r=[],i=new p.Line(e.start,e.norm),s=i.intersect(t);for(let l of s)e.contains(l)&&r.push(l);return s.length==2&&r.length==1&&e.start.on(i)&&r.push(e.start),r}intersectRay2Arc(e,t){let r=[],s=new p.Line(e.start,e.norm).intersect(t);for(let l of s)e.contains(l)&&r.push(l);return r}svg(e,t={}){let r=new p.Line(this.pt,this.norm),i=dl(r,e);return i=i.filter(l=>this.contains(l)),i.length===0||i.length===2?"":new p.Segment(this.pt,i[0]).svg(t)}}p.Ray=cp;const aP=(...n)=>new p.Ray(...n);p.ray=aP;class ys{constructor(){this.faces=new p.PlanarSet,this.edges=new p.PlanarSet;let e=[...arguments];if(e.length===1&&(e[0]instanceof Array&&e[0].length>0||e[0]instanceof p.Circle||e[0]instanceof p.Box)){let t=e[0];if(e[0]instanceof Array&&e[0].every(r=>r instanceof Array))if(t.every(r=>r instanceof Array&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"))this.faces.add(new p.Face(this,t));else for(let r of t)if(r instanceof Array&&r[0]instanceof Array&&r[0].every(i=>i instanceof Array&&i.length===2&&typeof i[0]=="number"&&typeof i[1]=="number"))for(let i of r)this.faces.add(new p.Face(this,i));else this.faces.add(new p.Face(this,r));else this.faces.add(new p.Face(this,t))}}get box(){return[...this.faces].reduce((e,t)=>e.merge(t.box),new p.Box)}get vertices(){return[...this.edges].map(e=>e.start)}clone(){let e=new ys;for(let t of this.faces)e.addFace(t.shapes);return e}isEmpty(){return this.edges.size===0}isValid(){let e=!0;for(let t of this.faces)if(!t.isSimple(this.edges)){e=!1;break}return e}area(){let e=[...this.faces].reduce((t,r)=>t+r.signedArea(),0);return Math.abs(e)}addFace(...e){let t=new p.Face(this,...e);return this.faces.add(t),t}deleteFace(e){for(let t of e)this.edges.delete(t);return this.faces.delete(e)}recreateFaces(){this.faces.clear();for(let r of this.edges)r.face=null;let e,t=!0;for(;t;){t=!1;for(let r of this.edges)if(r.face===null){e=r,t=!0;break}if(t){let r=e;do r=r.next;while(r.next!==e);this.addFace(e,r)}}}removeChain(e,t,r){if(r.next===t){this.deleteFace(e);return}for(let i=t;i!==r.next;i=i.next)if(e.remove(i),this.edges.delete(i),e.isEmpty()){this.deleteFace(e);break}}addVertex(e,t){let r=t.shape.split(e);if(r[0]===null)return t.prev;if(r[1]===null)return t;let i=new p.Edge(r[0]),s=t.prev;return t.face.insert(i,s),this.edges.delete(t),this.edges.add(i),t.shape=r[1],this.edges.add(t),i}cut(e){let t=[this.clone()];for(let r of e){if(r.setInclusion(this)!==al)continue;let i=r.shape.start,s=r.shape.end,l=[];for(let u of t)if(u.findEdgeByPoint(i)===void 0)l.push(u);else{let[h,c]=u.cutFace(i,s);l.push(h,c)}t=l}return t}cutFace(e,t){let r=this.findEdgeByPoint(e),i=this.findEdgeByPoint(t);if(r.face!==i.face)return[];let s=this.addVertex(e,r);i=this.findEdgeByPoint(t);let l=this.addVertex(t,i),u=s.face,h=new p.Edge(new p.Segment(s.end,l.end)),c=new p.Edge(new p.Segment(l.end,s.end));s.next.prev=c,c.next=s.next,s.next=h,h.prev=s,l.next.prev=h,h.next=l.next,l.next=c,c.prev=l,this.edges.add(h),this.edges.add(c);let m=this.addFace(h,s),_=this.addFace(c,l);return this.faces.delete(u),[m.toPolygon(),_.toPolygon()]}cutWithLine(e){let t=this.clone(),r=new sn([e]),i={int_points1:[],int_points2:[],int_points1_sorted:[],int_points2_sorted:[]};for(let u of t.edges){let h=B1(u,e);for(let c of h)fs(r.first,c,i.int_points1),fs(u,c,i.int_points2)}if(i.int_points1.length===0)return t;i.int_points1_sorted=Xd(e,i.int_points1),i.int_points2_sorted=fl(i.int_points2),cs(r,i.int_points1_sorted),cs(t,i.int_points2_sorted),$d(i),i.int_points1_sorted=Xd(e,i.int_points1),i.int_points2_sorted=fl(i.int_points2),Kd(i.int_points1),Zd(i.int_points1,t);for(let u of i.int_points1_sorted)u.edge_before.bv===u.edge_after.bv&&(i.int_points2[u.id]=-1,u.id=-1);if(i.int_points1=i.int_points1.filter(u=>u.id>=0),i.int_points2=i.int_points2.filter(u=>u.id>=0),i.int_points1.length===0)return t;i.int_points1_sorted=Xd(e,i.int_points1),i.int_points2_sorted=fl(i.int_points2);let s=i.int_points1[0],l;for(let u of i.int_points1_sorted)u.edge_before.bv===al&&(l=new p.Edge(new p.Segment(s.pt,u.pt)),T1(i.int_points2[s.id],i.int_points2[u.id],l),t.edges.add(l),l=new p.Edge(new p.Segment(u.pt,s.pt)),T1(i.int_points2[u.id],i.int_points2[s.id],l),t.edges.add(l)),s=u;return t.recreateFaces(),t}findEdgeByPoint(e){let t;for(let r of this.faces)if(t=r.findEdgeByPoint(e),t!==void 0)break;return t}splitToIslands(){let e=this.toArray();e.sort((i,s)=>s.area()-i.area());let t=[...e[0].faces][0].orientation(),r=e.filter(i=>[...i.faces][0].orientation()===t);for(let i of e){let s=[...i.faces][0];if(s.orientation()!==t){for(let l of r)if(s.shapes.every(u=>l.contains(u))){l.addFace(s.shapes);break}}}return r}reverse(){for(let e of this.faces)e.reverse();return this}contains(e){if(e instanceof p.Point){let t=gl(this,e);return t===al||t===Sn}else return W1(this,e)}distanceTo(e){if(e instanceof p.Point){let[t,r]=p.Distance.point2polygon(e,this);return r=r.reverse(),[t,r]}if(e instanceof p.Circle||e instanceof p.Line||e instanceof p.Segment||e instanceof p.Arc){let[t,r]=p.Distance.shape2polygon(e,this);return r=r.reverse(),[t,r]}if(e instanceof p.Polygon){let t=[Number.POSITIVE_INFINITY,new p.Segment],r,i;for(let s of this.edges){let l=t[0];[r,i]=p.Distance.shape2planarSet(s.shape,e.edges,l),p.Utils.LT(r,l)&&(t=[r,i])}return t}}intersect(e){if(e instanceof p.Point)return this.contains(e)?[e]:[];if(e instanceof p.Line)return ju(e,this);if(e instanceof p.Circle)return G1(e,this);if(e instanceof p.Segment)return lp(e,this);if(e instanceof p.Arc)return ap(e,this);if(e instanceof p.Polygon)return Dk(e,this)}translate(e){let t=new ys;for(let r of this.faces)t.addFace(r.shapes.map(i=>i.translate(e)));return t}rotate(e=0,t=new p.Point){let r=new ys;for(let i of this.faces)r.addFace(i.shapes.map(s=>s.rotate(e,t)));return r}transform(e=new p.Matrix){let t=new ys;for(let r of this.faces)t.addFace(r.shapes.map(i=>i.transform(e)));return t}toJSON(){return[...this.faces].map(e=>e.toJSON())}toArray(){return[...this.faces].map(e=>e.toPolygon())}svg(e={}){let{stroke:t,strokeWidth:r,fill:i,fillRule:s,fillOpacity:l,id:u,className:h}=e,c=u&&u.length>0?`id="${u}"`:"",m=h&&h.length>0?`class="${h}"`:"",_=`
<path stroke="${t||"black"}" stroke-width="${r||1}" fill="${i||"lightcyan"}" fill-rule="${s||"evenodd"}" fill-opacity="${l||1}" ${c} ${m} d="`;for(let v of this.faces)_+=v.svg();return _+=`" >
</path>`,_}}p.Polygon=ys;const uP=(...n)=>new p.Polygon(...n);p.polygon=uP;const{Circle:dp,Line:Y1,Point:Q1,Vector:Xu,Utils:pp}=p;class yl{constructor(e){this.circle=e}get inversion_circle(){return this.circle}static inversePoint(e,t){const r=new Xu(e.pc,t),i=e.r*e.r,s=r.dot(r);return pp.EQ_0(s)?new Q1(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY):e.pc.translate(r.multiply(i/s))}static inverseCircle(e,t){const r=e.pc.distanceTo(t.pc)[0];if(pp.EQ(r,t.r)){let i=e.r*e.r/(2*t.r),s=new Xu(e.pc,t.pc);s=s.normalize();let l=e.pc.translate(s.multiply(i));return new Y1(l,s)}else{let i=new Xu(e.pc,t.pc),s=e.r*e.r/(i.dot(i)-t.r*t.r),l=e.pc.translate(i.multiply(s)),u=Math.abs(s)*t.r;return new dp(l,u)}}static inverseLine(e,t){const[r,i]=e.pc.distanceTo(t);if(pp.EQ_0(r))return t.clone();{let s=e.r*e.r/(2*r),l=new Xu(e.pc,i.end);return l=l.multiply(s/r),new dp(e.pc.translate(l),s)}}inverse(e){if(e instanceof Q1)return yl.inversePoint(this.circle,e);if(e instanceof dp)return yl.inverseCircle(this.circle,e);if(e instanceof Y1)return yl.inverseLine(this.circle,e)}}p.Inversion=yl;const fP=n=>new p.Inversion(n);p.inversion=fP;class te{static point2point(e,t){return e.distanceTo(t)}static point2line(e,t){let r=e.projectionOn(t);return[new p.Vector(e,r).length,new p.Segment(e,r)]}static point2circle(e,t){let[r,i]=e.distanceTo(t.center);if(p.Utils.EQ_0(r))return[t.r,new p.Segment(e,t.toArc().start)];{let s=Math.abs(r-t.r),l=new p.Vector(t.pc,e).normalize().multiply(t.r),u=t.pc.translate(l);return[s,new p.Segment(e,u)]}}static point2segment(e,t){if(t.start.equalTo(t.end))return te.point2point(e,t.start);let r=new p.Vector(t.start,t.end),i=new p.Vector(t.start,e),s=new p.Vector(t.end,e),l=r.dot(i),u=-r.dot(s),h,c;if(p.Utils.GE(l,0)&&p.Utils.GE(u,0)){let m=t.tangentInStart();return h=Math.abs(m.cross(i)),c=t.start.translate(m.multiply(m.dot(i))),[h,new p.Segment(e,c)]}else return l<0?e.distanceTo(t.start):e.distanceTo(t.end)}static point2arc(e,t){let r=new p.Circle(t.pc,t.r),i=[],s,l;return[s,l]=te.point2circle(e,r),l.end.on(t)&&i.push(te.point2circle(e,r)),i.push(te.point2point(e,t.start)),i.push(te.point2point(e,t.end)),te.sort(i),i[0]}static segment2line(e,t){let r=e.intersect(t);if(r.length>0)return[0,new p.Segment(r[0],r[0])];let i=[];return i.push(te.point2line(e.start,t)),i.push(te.point2line(e.end,t)),te.sort(i),i[0]}static segment2segment(e,t){let r=pl(e,t);if(r.length>0)return[0,new p.Segment(r[0],r[0])];let i=[],s,l;return[s,l]=te.point2segment(t.start,e),i.push([s,l.reverse()]),[s,l]=te.point2segment(t.end,e),i.push([s,l.reverse()]),i.push(te.point2segment(e.start,t)),i.push(te.point2segment(e.end,t)),te.sort(i),i[0]}static segment2circle(e,t){let r=e.intersect(t);if(r.length>0)return[0,new p.Segment(r[0],r[0])];let i=new p.Line(e.ps,e.pe),[s,l]=te.point2line(t.center,i);if(p.Utils.GE(s,t.r)&&l.end.on(e))return te.point2circle(l.end,t);{let[u,h]=te.point2circle(e.start,t),[c,m]=te.point2circle(e.end,t);return p.Utils.LT(u,c)?[u,h]:[c,m]}}static segment2arc(e,t){let r=e.intersect(t);if(r.length>0)return[0,new p.Segment(r[0],r[0])];let i=new p.Line(e.ps,e.pe),s=new p.Circle(t.pc,t.r),[l,u]=te.point2line(s.center,i);if(p.Utils.GE(l,s.r)&&u.end.on(e)){let[_,v]=te.point2circle(u.end,s);if(v.end.on(t))return[_,v]}let h=[];h.push(te.point2arc(e.start,t)),h.push(te.point2arc(e.end,t));let c,m;return[c,m]=te.point2segment(t.start,e),h.push([c,m.reverse()]),[c,m]=te.point2segment(t.end,e),h.push([c,m.reverse()]),te.sort(h),h[0]}static circle2circle(e,t){let r=e.intersect(t);if(r.length>0)return[0,new p.Segment(r[0],r[0])];if(e.center.equalTo(t.center)){let i=e.toArc(),s=t.toArc();return te.point2point(i.start,s.start)}else{let i=new p.Line(e.center,t.center),s=i.intersect(e),l=i.intersect(t),u=[];return u.push(te.point2point(s[0],l[0])),u.push(te.point2point(s[0],l[1])),u.push(te.point2point(s[1],l[0])),u.push(te.point2point(s[1],l[1])),te.sort(u),u[0]}}static circle2line(e,t){let r=e.intersect(t);if(r.length>0)return[0,new p.Segment(r[0],r[0])];let[i,s]=te.point2line(e.center,t),[l,u]=te.point2circle(s.end,e);return u=u.reverse(),[l,u]}static arc2line(e,t){let r=t.intersect(e);if(r.length>0)return[0,new p.Segment(r[0],r[0])];let i=new p.Circle(e.center,e.r),[s,l]=te.point2line(i.center,t);if(p.Utils.GE(s,i.r)){let[u,h]=te.point2circle(l.end,i);if(h.end.on(e))return[u,h]}else{let u=[];return u.push(te.point2line(e.start,t)),u.push(te.point2line(e.end,t)),te.sort(u),u[0]}}static arc2circle(e,t){let r=e.intersect(t);if(r.length>0)return[0,new p.Segment(r[0],r[0])];let i=new p.Circle(e.center,e.r),[s,l]=te.circle2circle(i,t);if(l.start.on(e))return[s,l];{let u=[];return u.push(te.point2circle(e.start,t)),u.push(te.point2circle(e.end,t)),te.sort(u),u[0]}}static arc2arc(e,t){let r=e.intersect(t);if(r.length>0)return[0,new p.Segment(r[0],r[0])];let i=new p.Circle(e.center,e.r),s=new p.Circle(t.center,t.r),[l,u]=te.circle2circle(i,s);if(u.start.on(e)&&u.end.on(t))return[l,u];{let h=[],c,m;return[c,m]=te.point2arc(e.start,t),m.end.on(t)&&h.push([c,m]),[c,m]=te.point2arc(e.end,t),m.end.on(t)&&h.push([c,m]),[c,m]=te.point2arc(t.start,e),m.end.on(e)&&h.push([c,m.reverse()]),[c,m]=te.point2arc(t.end,e),m.end.on(e)&&h.push([c,m.reverse()]),[c,m]=te.point2point(e.start,t.start),h.push([c,m]),[c,m]=te.point2point(e.start,t.end),h.push([c,m]),[c,m]=te.point2point(e.end,t.start),h.push([c,m]),[c,m]=te.point2point(e.end,t.end),h.push([c,m]),te.sort(h),h[0]}}static point2polygon(e,t){let r=[Number.POSITIVE_INFINITY,new p.Segment];for(let i of t.edges){let[s,l]=i.shape instanceof p.Segment?te.point2segment(e,i.shape):te.point2arc(e,i.shape);p.Utils.LT(s,r[0])&&(r=[s,l])}return r}static shape2polygon(e,t){let r=[Number.POSITIVE_INFINITY,new p.Segment];for(let i of t.edges){let[s,l]=e.distanceTo(i.shape);p.Utils.LT(s,r[0])&&(r=[s,l])}return r}static polygon2polygon(e,t){let r=[Number.POSITIVE_INFINITY,new p.Segment];for(let i of e.edges)for(let s of t.edges){let[l,u]=i.shape.distanceTo(s.shape);p.Utils.LT(l,r[0])&&(r=[l,u])}return r}static box2box_minmax(e,t){let r=Math.max(Math.max(e.xmin-t.xmax,0),Math.max(t.xmin-e.xmax,0)),i=Math.max(Math.max(e.ymin-t.ymax,0),Math.max(t.ymin-e.ymax,0)),s=r*r+i*i,l=e.merge(t),u=l.xmax-l.xmin,h=l.ymax-l.ymin,c=u*u+h*h;return[s,c]}static minmax_tree_process_level(e,t,r,i){let s,l;for(let m of t)[s,l]=te.box2box_minmax(e.box,m.item.key),m.item.value instanceof p.Edge?i.insert([s,l],m.item.value.shape):i.insert([s,l],m.item.value),p.Utils.LT(l,r)&&(r=l);if(t.length===0)return r;let u=t.map(m=>m.left.isNil()?void 0:m.left).filter(m=>m!==void 0),h=t.map(m=>m.right.isNil()?void 0:m.right).filter(m=>m!==void 0),c=[...u,...h].filter(m=>{let[_,v]=te.box2box_minmax(e.box,m.max);return p.Utils.LE(_,r)});return r=te.minmax_tree_process_level(e,c,r,i),r}static minmax_tree(e,t,r){let i=new ml,s=[t.index.root],l=r<Number.POSITIVE_INFINITY?r*r:Number.POSITIVE_INFINITY;return l=te.minmax_tree_process_level(e,s,l,i),i}static minmax_tree_calc_distance(e,t,r){let i,s;if(t!=null&&!t.isNil()){if([i,s]=te.minmax_tree_calc_distance(e,t.left,r),s)return[i,s];if(p.Utils.LT(i[0],Math.sqrt(t.item.key.low)))return[i,!0];let[l,u]=te.distance(e,t.item.value);return p.Utils.LT(l,i[0])&&(i=[l,u]),[i,s]=te.minmax_tree_calc_distance(e,t.right,i),[i,s]}return[r,!1]}static shape2planarSet(e,t,r=Number.POSITIVE_INFINITY){let i=[r,new p.Segment],s=!1;if(t instanceof p.PlanarSet){let l=te.minmax_tree(e,t,r);[i,s]=te.minmax_tree_calc_distance(e,l.root,i)}return i}static sort(e){e.sort((t,r)=>p.Utils.LT(t[0],r[0])?-1:p.Utils.GT(t[0],r[0])?1:0)}static distance(e,t){return e.distanceTo(t)}}p.Distance=te;p.BooleanOperations=Sk;p.Relations=Yk;export{pP as L,ys as P,Zt as R,yP as S,gP as T,cP as a,dP as b,vP as c,mP as d,hP as e,wP as g,qC as j,_P as l,_C as p,Ys as r,SP as u,xP as v};
